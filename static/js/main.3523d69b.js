/*! For license information please see main.3523d69b.js.LICENSE.txt */
!function(){var e={2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(A){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function b(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||w(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===A||e.$$typeof===k||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=u(e),A=u(t),k=g?h:s(e),w=A?h:s(t),b=(k=k==f?d:k)==d,_=(w=w==f?d:w)==d,x=k==w;if(x&&c(e)){if(!c(t))return!1;g=!0,b=!1}if(x&&!b)return m||(m=new r),g||l(e)?i(e,t,n,v,y,m):a(e,t,k,n,v,y,m);if(!(1&n)){var C=b&&p.call(e,"__wrapped__"),E=_&&p.call(t,"__wrapped__");if(C||E){var S=C?e.value():e,I=E?t.value():t;return m||(m=new r),y(S,I,n,v,m)}}return!!x&&(m||(m=new r),o(e,t,n,v,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],g=t[p];if(o)var A=c?o(g,m,p,t,e,u):o(m,g,p,e,t,u);if(void 0!==A){if(A)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||s(m,e,n,o,u)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!s(m,g,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=o(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var m=e[h=c[f]],g=t[h];if(a)var A=u?a(g,m,h,t,e,s):a(m,g,h,e,t,s);if(!(void 0===A?m===g||o(m,g,n,a,s):A)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),m=c(a),g=c(o),A=c(s),k=u;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=h||s&&k(new s)!=d)&&(k=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case m:return f;case g:return h;case A:return d}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+u+s+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+u+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",A=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+m+")*"),k="(?:"+[s,l,f].join("|")+")"+A,w=RegExp([h+"?"+u+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+y+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,k].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,L=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case b:return"Portal";case C:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,_e=null,xe=null;function Ce(e){if(e=Ai(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Ee(e){_e?xe?xe.push(e):xe=[e]:_e=e}function Se(){if(_e){var e=_e,t=xe;if(xe=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==_e||null!==xe)&&(Te(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Le=null,je=!1,Be=null,Ue={onError:function(e){Fe=!0,Le=e}};function Ve(e,t,n,r,i,a,o,s,u){Fe=!1,Le=null,Me.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var At=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,_t,xt,Ct,Et=!1,St=[],It=null,Tt=null,Nt=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ai(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ai(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==It&&jt(It)&&(It=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Bt),Dt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Qt=k.ReactCurrentBatchConfig,zt=!0;function Ht(e,t,n,r){var i=At,a=Qt.transition;Qt.transition=null;try{At=1,Kt(e,t,n,r)}finally{At=i,Qt.transition=a}}function Wt(e,t,n,r){var i=At,a=Qt.transition;Qt.transition=null;try{At=4,Kt(e,t,n,r)}finally{At=i,Qt.transition=a}}function Kt(e,t,n,r){if(zt){var i=Jt(e,t,n,r);if(null===i)zr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ft(It,e,t,n,r,i),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=Ai(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&zr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),yn=an(L({},fn,{relatedTarget:0})),mn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=an(gn),kn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return xn}var En=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(En),In=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Mn,Ln=l&&(!Rn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){jr(e,0)}function Jn(e){if(K(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,Ar=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},xr={};function Cr(e){if(_r[e])return _r[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return _r[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=Cr("animationend"),Sr=Cr("animationiteration"),Ir=Cr("animationstart"),Tr=Cr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Rr=Pr[Or];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Le;Fe=!1,Le=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Er:case Sr:case Ir:u=mn;break;case Tr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Gr(o,s,u,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Xn;else if(zn(s))if(Yn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qn?Un(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==A?"onCompositionEnd"===A&&qn&&(g=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(m=Wr(r,A)).length&&(A=new kn(A,e,null,n,i),o.push({event:A,listeners:m}),g?A.data=g:null!==(g=Vn(n))&&(A.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),$t=Zt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function Ai(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],_i=-1;function xi(e){return{current:e}}function Ci(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function Ei(e,t){_i++,bi[_i]=e.current,e.current=t}var Si={},Ii=xi(Si),Ti=xi(!1),Ni=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(Ti),Ci(Ii)}function Ri(e,t,n){if(Ii.current!==Si)throw Error(a(168));Ei(Ii,t),Ei(Ti,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,Q(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ni=Ii.current,Ei(Ii,e),Ei(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ii),Ei(Ii,e)):Ci(Ti),Ei(Ti,n)}var ji=null,Bi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=At;try{var n=ji;for(At=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,qi),i}finally{At=t,Ui=!1}}return null}var Qi=[],zi=0,Hi=null,Wi=0,Ki=[],Gi=0,Ji=null,Xi=1,Yi="";function Zi(e,t){Qi[zi++]=Wi,Qi[zi++]=Hi,Hi=e,Wi=t}function $i(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ji=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=Qi[--zi],Qi[zi]=null,Wi=Qi[--zi],Qi[zi]=null;for(;e===Ji;)Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=xi(null),ga=null,Aa=null,ka=null;function wa(){ka=Aa=ga=null}function ba(e){var t=ma.current;Ci(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,ka=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===ga)throw Error(a(308));Aa=e,ga.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Ea=null;function Sa(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Di(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Di(t)?Ni:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case b:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function y(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var A=d(i,v,g.value,c);if(null===A){null===v&&(v=m);break}e&&v&&null===A.alternate&&t(i,v),s=o(A,s,y),null===f?l=A:f.sibling=A,f=A,v=m}if(g.done)return n(i,v),ia&&Zi(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return y(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ja(!0),Ya=Ja(!1),Za={},$a=xi(Za),eo=xi(Za),to=xi(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci($a),Ei($a,t)}function io(){Ci($a),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei($a,n))}function oo(e){eo.current===e&&(Ci($a),Ci(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,Ao=!1,ko=0,wo=0;function bo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),Ao){o=0;do{if(Ao=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(Ao)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Co(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function So(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,zo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Bo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Lo(e)}function Mo(e,t,n){return n((function(){Fo(t)&&Lo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ta(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Qo(e,t){return Vo(8390656,8,e,t)}function zo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Wo(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function $o(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{At=n,ho.transition=r}}function es(){return So().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){Ao=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ca,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Tu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Xo,useContext:Ca,useEffect:zo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:To,useRef:Uo,useState:function(){return To(Io)},useDebugValue:Jo,useDeferredValue:function(e){return Zo(So(),yo.memoizedState,e)},useTransition:function(){return[To(Io)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:Xo,useContext:Ca,useEffect:zo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Io)},useDebugValue:Jo,useDeferredValue:function(e){var t=So();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var As=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Co(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ss(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Di(n)?Ni:Ii.current;return a=Pi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Co(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var a=!0;Fi(t)}else a=!1;if(xa(t,i),null===t.stateNode)Qs(e,t),Qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Pi(t,c=Di(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&za(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Na?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Pi(t,u=Di(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&za(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),zs(e,t,a);r=t.stateNode,As.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Os,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),nc(r,e,i,-1))}return vc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Xi=e.id,Yi=e.overflow,Ji=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,io(),Ci(Ti),Ci(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=Ae(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&A(e,o,l,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ws(t),null;case 10:return ba(t.type._context),Ws(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ti),Ci(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return ba(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){xc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(y){xc(e,e.return,y)}try{nu(5,e,e.return)}catch(y){xc(e,e.return,y)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){xc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),Ae(u,s);var l=Ae(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):A(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){xc(e,e.return,y)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){xc(e,e.return,y)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){xc(e,e.return,y)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){xc(r,n,y)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){xc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){xc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){xc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Zs=e,Au(e,t,n)}function Au(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?bu(i):null!==u?(u.return=o,Zs=u):bu(i);for(;null!==a;)Zs=a,Au(a,t,n),a=a.sibling;Zs=i,Js=s,Xs=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):ku(e)}}function ku(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){xc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function bu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){xc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){xc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){xc(t,o,u)}}}catch(u){xc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,xu=Math.ceil,Cu=k.ReactCurrentDispatcher,Eu=k.ReactCurrentOwner,Su=k.ReactCurrentBatchConfig,Iu=0,Tu=null,Nu=null,Pu=0,Du=0,Ou=xi(0),Ru=0,Mu=null,Fu=0,Lu=0,ju=0,Bu=null,Uu=null,Vu=0,qu=1/0,Qu=null,zu=!1,Hu=null,Wu=null,Ku=!1,Gu=null,Ju=0,Xu=0,Yu=null,Zu=-1,$u=0;function ec(){return 0!==(6&Iu)?Ye():-1!==Zu?Zu:Zu=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=At)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(a(185));mt(e,n,r),0!==(2&Iu)&&e===Tu||(e===Tu&&(0===(2&Iu)&&(Lu|=n),4===Ru&&sc(e,Pu)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(qu=Ye()+500,Bi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tu?Pu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Iu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Tu===e&&Pu===t||(Qu=null,qu=Ye()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Cu.current=o,Iu=i,null!==Nu?t=0:(Tu=null,Pu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Mu,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Mu,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Uu,Qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Uu,Qu),t);break}wc(e,Uu,Qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Uu,Qu),r);break}wc(e,Uu,Qu);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Uu,Uu=n,null!==t&&oc(t)),e}function oc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sc(e,t){for(t&=~ju,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(a(327));bc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mu,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uu,Qu),rc(e,Ye()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Ye()+500,Bi&&qi())}}function lc(e){null!==Gu&&0===Gu.tag&&0===(6&Iu)&&bc();var t=Iu;Iu|=1;var n=Su.transition,r=At;try{if(Su.transition=null,At=1,e)return e()}finally{At=r,Su.transition=n,0===(6&(Iu=t))&&qi()}}function fc(){Du=Ou.current,Ci(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ci(Ti),Ci(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:ba(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Tu=e,Nu=e=Oc(e.current,null),Pu=Du=t,Ru=0,Mu=null,ju=Lu=Fu=0,Uu=Bu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,Ao=!1,ko=0,Eu.current=null,null===n||null===n.return){Ru=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,A=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Wu||!Wu.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Cu.current;return Cu.current=os,null===e?os:e}function vc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Tu||0===(268435455&Fu)&&0===(268435455&Lu)||sc(Tu,Pu)}function yc(e,t){var n=Iu;Iu|=2;var r=pc();for(Tu===e&&Pu===t||(Qu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Iu=n,Cu.current=r,null!==Nu)throw Error(a(261));return Tu=null,Pu=0,Ru}function mc(){for(;null!==Nu;)Ac(Nu)}function gc(){for(;null!==Nu&&!Je();)Ac(Nu)}function Ac(e){var t=_u(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kc(e):Nu=t,Eu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Nu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ru=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ru&&(Ru=5)}function wc(e,t,n){var r=At,i=Su.transition;try{Su.transition=null,At=1,function(e,t,n,r){do{bc()}while(null!==Gu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Nu=Tu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Tc(tt,(function(){return bc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=At;At=1;var u=Iu;Iu|=4,Eu.current=null,function(e,t){if(ei=zt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,A=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),yu(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Iu=u,At=s,Su.transition=o}else e.current=n;if(Ku&&(Ku=!1,Gu=e,Ju=i),0===(o=e.pendingLanes)&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&bc(),0!==(1&(o=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,qi()}(e,t,n,r)}finally{Su.transition=i,At=r}return null}function bc(){if(null!==Gu){var e=kt(Ju),t=Su.transition,n=At;try{if(Su.transition=null,At=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Ju=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var A=e.current;for(Zs=A;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=A;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(b){xc(u,u.return,b)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Iu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{At=n,Su.transition=t}}return!1}function _c(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Pu&n)===n&&(4===Ru||3===Ru&&(130023424&Pu)===Pu&&500>Ye()-Vu?hc(e,0):ju|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ta(e,t))&&(mt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case x:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case T:return(e=Pc(13,n,t,i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case S:s=9;break e;case I:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Si;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(so,1&so.current),null!==(e=zs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return zs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Ca(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_s(e,t,r,i=ya(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Qs(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,xa(t,n),Qa(t,r,i),Ha(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){zc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Xc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){zc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Iu)&&(qu=Ye()+500,qi()))}break;case 13:lc((function(){var t=Ta(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},bt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ta(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},xt=function(){return At},Ct=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[Ai,ki,wi,Ee,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===c}},6900:function(e,t,n){"use strict";e.exports=n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function A(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=A.prototype=new g;k.constructor=A,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,_={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=A,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,O(b);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function b(e,n){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,x=!1,C=null,E=-1,S=5,I=-1;function T(){return!(t.unstable_now()-I<S)}function N(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?_():(x=!1,C=null)}}else x=!1}if("function"===typeof A)_=function(){A(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){m(N,0)};function O(e){C=e,x||(x=!0,_())}function R(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(E),E=-1):y=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];u(f,s.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},5413:function(e,t,n){"use strict";e.exports=n.p+"static/media/MessageTone.71875f38f16101cf915c.mp3"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".fc1ce4eb.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="insta-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/insta-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkinsta_clone=self.webpackChunkinsta_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(2791),r=n(1250),i="App_app__jig94",a="App_blurApp__a4Tdk";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var l=function(e){return e};var f="beforeunload",h="popstate";function d(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=g(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,u=void 0===s?"":s,c=i.state||{};return[c.idx,l({pathname:n,search:o,hash:u,state:c.usr||null,key:c.key||"default"})]}var o=null;function s(){if(o)b.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var s=A-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else S(t)}}r.addEventListener(h,s),r.addEventListener("hashchange",(function(){m(a()[1])!==m(k)&&s()}));var u=e.Pop,d=a(),A=d[0],k=d[1],w=v(),b=v();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:m(e))}function x(e,t){return void 0===t&&(t=null),l(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:y()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function E(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function S(e){u=e;var t=a();A=t[0],k=t[1],w.call({action:u,location:k})}function I(e){i.go(e)}null==A&&(A=0,i.replaceState(c({},i.state,{idx:A}),""));var T={get action(){return u},get location(){return k},createHref:_,push:function t(n,a){var o=e.Push,s=x(n,a);if(E(o,s,(function(){t(n,a)}))){var u=C(s,A+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(qw){r.location.assign(l)}S(o)}},replace:function t(n,r){var a=e.Replace,o=x(n,r);if(E(a,o,(function(){t(n,r)}))){var s=C(o,A),u=s[0],c=s[1];i.replaceState(u,"",c),S(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(f,p),function(){t(),b.length||r.removeEventListener(f,p)}}};return T}function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var A=(0,t.createContext)(null);var k=(0,t.createContext)(null);var w=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=I(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),x(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:s})})),t}var C=/^:\w+$/,E=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(C.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:O(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(qw){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:R(a),hash:M(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},R=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},M=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function F(e){L()||b(!1);var n=(0,t.useContext)(A),r=n.basename,i=n.navigator,a=U(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):D([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function L(){return null!=(0,t.useContext)(k)}function j(){return L()||b(!1),(0,t.useContext)(k).location}function B(){L()||b(!1);var e=(0,t.useContext)(A),n=e.basename,r=e.navigator,i=(0,t.useContext)(w).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==n&&(i.pathname=D([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function U(e){var n=(0,t.useContext)(w).matches,r=j().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return N(e,JSON.parse(i),r)}),[e,i,r])}function V(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function q(e){var n=e.to,r=e.replace,i=e.state;L()||b(!1);var a=B();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function Q(e){b(!1)}function z(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;L()&&b(!1);var d=O(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,y=v.pathname,m=void 0===y?"/":y,w=v.search,_=void 0===w?"":w,x=v.hash,C=void 0===x?"":x,E=v.state,S=void 0===E?null:E,I=v.key,T=void 0===I?"default":I,N=(0,t.useMemo)((function(){var e=P(m,d);return null==e?null:{pathname:e,search:_,hash:C,state:S,key:T}}),[d,m,_,C,S,T]);return null==N?null:(0,t.createElement)(A.Provider,{value:p},(0,t.createElement)(k.Provider,{children:o,value:{location:N,navigationType:c}}))}function H(e){var n=e.children,r=e.location;return function(e,n){L()||b(!1);var r,i=(0,t.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,j());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||b(!1),r=l}else r=u;var f=r.pathname||"/",h=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return V(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:D([s,e.pathnameBase])})})),i)}(W(n),r)}function W(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Q&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=W(e.props.children)),n.push(r)}else n.push.apply(n,W(e.props.children))})),n}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"],X=["aria-current","caseSensitive","className","end","style","to","children"];function Y(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=d({window:i}));var o=a.current,s=u((0,t.useState)({action:o.action,location:o.location}),2),c=s[0],l=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(z,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var Z=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,J),f=F(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=B(),u=j(),c=U(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var $=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=G(e,X),v=j(),y=U(h),m=v.pathname,g=y.pathname;o||(m=m.toLowerCase(),g=g.toLowerCase());var A,k=m===g||!l&&m.startsWith(g)&&"/"===m.charAt(g.length),w=k?i:void 0;A="function"===typeof u?u({isActive:k}):[u,k?"active":null].filter(Boolean).join(" ");var b="function"===typeof f?f({isActive:k}):f;return(0,t.createElement)(Z,K({},p,{"aria-current":w,className:A,ref:n,style:b,to:h}),"function"===typeof d?d({isActive:k}):d)}));var ee=n(7248),te=n(327),ne=n(4164);var re=function(e){e()},ie=function(){return re},ae=t.createContext(null);function oe(){return(0,t.useContext)(ae)}var se=function(){throw new Error("uSES not initialized!")},ue=se,ce=function(e,t){return e===t};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=e===ae?oe:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=ue(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var fe=le();function he(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var pe=n(2110),ve=n.n(pe),ye=n(6900),me=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ge(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):v?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),d=!0,c)}}function Ae(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=de(t,me);return ge(n(e,a),r(e,a),i(e,a),e,a)}function ke(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function we(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function be(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=we(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=we(i),i=r(t,n)),i},r}}function _e(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function xe(e){return e&&"object"===typeof e?ke((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?be(e):_e(e,"mapDispatchToProps"):ke((function(e){return{dispatch:e}}))}function Ce(e){return e?"function"===typeof e?be(e):_e(e,"mapStateToProps"):ke((function(){return{}}))}function Ee(e,t,n){return c({},n,e,t)}function Se(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):_e(e,"mergeProps"):function(){return Ee}}var Ie={notify:function(){},get:function(){return[]}};function Te(e,t){var n,r=Ie;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=ie(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ie)},getListeners:function(){return r}};return o}var Ne=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function Pe(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function De(e,t){if(Pe(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Pe(e[n[i]],t[n[i]]))return!1;return!0}var Oe=["reactReduxForwardedRef"],Re=se,Me=[null,null];function Fe(e,t,n){Ne((function(){return e.apply(void 0,he(t))}),n)}function Le(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function je(e,t,n,r,i,a,o,s,u,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,u.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function Be(e,t){return e===t}var Ue=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?Be:a,s=i.areOwnPropsEqual,l=void 0===s?De:s,f=i.areStatePropsEqual,h=void 0===f?De:f,d=i.areMergedPropsEqual,p=void 0===d?De:d,v=i.forwardRef,y=void 0!==v&&v,m=i.context,g=void 0===m?ae:m,A=g,k=Ce(e),w=xe(n),b=Se(r),_=Boolean(e),x=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:_,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:k,initMapDispatchToProps:w,initMergeProps:b,areStatesEqual:o,areStatePropsEqual:h,areOwnPropsEqual:l,areMergedPropsEqual:p};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=de(n,Oe);return[n.context,e,t]}),[n]),a=u(r,3),o=a[0],s=a[1],l=a[2],f=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,ye.isContextConsumer)(t.createElement(o.Consumer,null))?o:A}),[o,A]),h=(0,t.useContext)(f),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),p=Boolean(h)&&Boolean(h.store);var v=d?n.store:h.store,y=p?h.getServerState:v.getState,m=(0,t.useMemo)((function(){return Ae(v.dispatch,i)}),[v]),g=(0,t.useMemo)((function(){if(!_)return Me;var e=Te(v,d?void 0:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,d,h]),k=u(g,2),w=k[0],b=k[1],x=(0,t.useMemo)((function(){return d?h:c({},h,{subscription:w})}),[d,h,w]),C=(0,t.useRef)(),E=(0,t.useRef)(l),S=(0,t.useRef)(),I=(0,t.useRef)(!1),T=((0,t.useRef)(!1),(0,t.useRef)(!1)),N=(0,t.useRef)();Ne((function(){return T.current=!0,function(){T.current=!1}}),[]);var P,D=(0,t.useMemo)((function(){return function(){return S.current&&l===E.current?S.current:m(v.getState(),l)}}),[v,l]),O=(0,t.useMemo)((function(){return function(e){return w?je(_,v,w,m,E,C,I,T,S,b,e):function(){}}}),[w]);Fe(Le,[E,C,I,l,S,b]);try{P=Re(O,D,y?function(){return m(y(),l)}:D)}catch(M){throw N.current&&(M.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),M}Ne((function(){N.current=void 0,S.current=void 0,C.current=P}));var R=(0,t.useMemo)((function(){return t.createElement(e,c({},P,{ref:s}))}),[s,e,P]);return(0,t.useMemo)((function(){return _?t.createElement(f.Provider,{value:x},R):R}),[f,R,x])}var s=t.memo(a);if(s.WrappedComponent=e,s.displayName=a.displayName=r,y){var f=t.forwardRef((function(e,n){return t.createElement(s,c({},e,{reactReduxForwardedRef:n}))})),d=f;return d.displayName=r,d.WrappedComponent=e,ve()(d,e)}return ve()(s,e)};return x};var Ve=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Te(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);Ne((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||ae;return t.createElement(u.Provider,{value:o},i)};function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=e===ae?oe:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Qe=qe();function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=e===ae?Qe:qe(e);return function(){return t().dispatch}}var He,We=ze();!function(e){ue=e}(te.useSyncExternalStoreWithSelector),function(e){Re=e}(ee.useSyncExternalStore),He=ne.unstable_batchedUpdates,re=He;var Ke={chatWrapper:"Chat_chatWrapper__A2YZU",chatContent:"Chat_chatContent__H1JpO",messageAreaContainer:"Chat_messageAreaContainer__fRzRR",messageArea:"Chat_messageArea__inqAK",noMessages:"Chat_noMessages__aOjb3",mailboxIcon:"Chat_mailboxIcon__nx-2J",chatMain:"Chat_chatMain__kMazX",emptyChatIMG:"Chat_emptyChatIMG__Q8+a1",chatHeader:"Chat_chatHeader__jJJVN",chatListSidebar:"Chat_chatListSidebar__C3xW-",chatListWrapper:"Chat_chatListWrapper__BYaAq",userMiniPage:"Chat_userMiniPage__JTkrU",chatListFullName:"Chat_chatListFullName__exCb7",userMini:"Chat_userMini__1iitb",emptyChatList:"Chat_emptyChatList__qfZmh",lastMessage:"Chat_lastMessage__dYjtS",inputWrapper:"Chat_inputWrapper__f-sjx",formik:"Chat_formik__hhHFf",emoji:"Chat_emoji__0uv4P",messageInput:"Chat_messageInput__zax9B",countWrapper:"Chat_countWrapper__C1t0N",count:"Chat_count__VwJj9"};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Je(){Je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ge(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,s(m,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(A.prototype),s(A.prototype,a,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),s(m,o,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Xe(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(qw){return void n(qw)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xe(a,r,i,o,s,"next",e)}function s(e){Xe(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function nt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}function rt(){return rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rt.apply(this,arguments)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}function ot(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}function st(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ut(e,t){if(t&&("object"===Ge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}function ct(e){var t=st();return function(){var n,r=tt(e);if(t){var i=tt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ut(this,n)}}function lt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e,t,n){return pt=st()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&at(i,n.prototype),i},pt.apply(null,arguments)}function vt(e){var t="function"===typeof Map?new Map:void 0;return vt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pt(e,arguments,tt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),at(n,e)},vt(e)}var yt=!1,mt=!1,gt="${JSCORE_VERSION}",At=function(e,t){if(!e)throw kt(t)},kt=function(e){return new Error("Firebase Database ("+gt+") INTERNAL ASSERT FAILED: "+e)},wt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},bt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_t=function(e){var t=wt(e);return bt.encodeByteArray(t,!0)},xt=function(e){return _t(e).replace(/\./g,"")},Ct=function(e){try{return bt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Et(e){return St(void 0,e)}function St(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=St(e[n],t[n]));return e}var It=function(){function e(){var t=this;ft(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return dt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Tt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Nt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Pt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Dt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ot(){var e=Tt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Rt(){return!0===yt||!0===mt}var Mt=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(it(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(it(a),Ft.prototype.create),a}return dt(n)}(vt(Error)),Ft=function(){function e(t,n,r){ft(this,e),this.service=t,this.serviceName=n,this.errors=r}return dt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Lt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Mt(n,a,t);return o}}]),e}();function Lt(e,t){return e.replace(jt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var jt=/\{\$([^}]+)}/g;function Bt(e){return JSON.parse(e)}function Ut(e){return JSON.stringify(e)}var Vt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Bt(Ct(a[0])||""),n=Bt(Ct(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function zt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ht(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Wt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Kt(s)&&Kt(u)){if(!Wt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Kt(e){return null!==e&&"object"===typeof e}function Gt(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Jt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Yt=function(){function e(){ft(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return dt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Zt=function(){function e(t,n){var r=this;ft(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return dt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=lt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$t),void 0===r.error&&(r.error=$t),void 0===r.complete&&(r.complete=$t);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $t(){}function en(e,t){return"".concat(e," failed: ").concat(t," argument ")}var tn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function nn(e){return e&&e._delegate?e._delegate:e}var rn=function(){function e(t,n,r){ft(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return dt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),an="[DEFAULT]",on=function(){function e(t,n){ft(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return dt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new It;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(c){}var t,n=lt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(he(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),he(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=lt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===an?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var sn,un,cn=function(){function e(t){ft(this,e),this.name=t,this.providers=new Map}return dt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new on(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ln=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(un||(un={}));var fn={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},hn=un.INFO,dn=(Ze(sn={},un.DEBUG,"log"),Ze(sn,un.VERBOSE,"log"),Ze(sn,un.INFO,"info"),Ze(sn,un.WARN,"warn"),Ze(sn,un.ERROR,"error"),sn),pn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vn=function(){function e(t){ft(this,e),this.name=t,this._logLevel=hn,this._logHandler=pn,this._userLogHandler=null,ln.push(this)}return dt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.DEBUG].concat(t)),this._logHandler.apply(this,[this,un.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.VERBOSE].concat(t)),this._logHandler.apply(this,[this,un.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.INFO].concat(t)),this._logHandler.apply(this,[this,un.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.WARN].concat(t)),this._logHandler.apply(this,[this,un.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,un.ERROR].concat(t)),this._logHandler.apply(this,[this,un.ERROR].concat(t))}}]),e}();var yn,mn;var gn=new WeakMap,An=new WeakMap,kn=new WeakMap,wn=new WeakMap,bn=new WeakMap;var _n={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return An.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function xn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Sn(this),n),En(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(e.apply(Sn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Sn(this),t].concat(r));return kn.set(a,t.sort?t.sort():[t]),En(a)}}function Cn(e){return"function"===typeof e?xn(e):(e instanceof IDBTransaction&&function(e){if(!An.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));An.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,yn||(yn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_n):e)}function En(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(En(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gn.set(t,e)})).catch((function(){})),bn.set(t,e),t}(e);if(wn.has(e))return wn.get(e);var t=Cn(e);return t!==e&&(wn.set(e,t),bn.set(t,e)),t}var Sn=function(e){return bn.get(e)};var In,Tn,Nn=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],Dn=new Map;function On(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Dn.get(t))return Dn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Nn.includes(n))){var a=function(){var e=Ye(Je().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Dn.set(t,a),a}}}_n=function(e){return et(et({},e),{},{get:function(t,n,r){return On(t,n)||e.get(t,n,r)},has:function(t,n){return!!On(t,n)||e.has(t,n)}})}(_n);var Rn=function(){function e(t){ft(this,e),this.container=t}return dt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mn="@firebase/app",Fn="0.7.31",Ln=new vn("@firebase/app"),jn="[DEFAULT]",Bn=(Ze(In={},Mn,"fire-core"),Ze(In,"@firebase/app-compat","fire-core-compat"),Ze(In,"@firebase/analytics","fire-analytics"),Ze(In,"@firebase/analytics-compat","fire-analytics-compat"),Ze(In,"@firebase/app-check","fire-app-check"),Ze(In,"@firebase/app-check-compat","fire-app-check-compat"),Ze(In,"@firebase/auth","fire-auth"),Ze(In,"@firebase/auth-compat","fire-auth-compat"),Ze(In,"@firebase/database","fire-rtdb"),Ze(In,"@firebase/database-compat","fire-rtdb-compat"),Ze(In,"@firebase/functions","fire-fn"),Ze(In,"@firebase/functions-compat","fire-fn-compat"),Ze(In,"@firebase/installations","fire-iid"),Ze(In,"@firebase/installations-compat","fire-iid-compat"),Ze(In,"@firebase/messaging","fire-fcm"),Ze(In,"@firebase/messaging-compat","fire-fcm-compat"),Ze(In,"@firebase/performance","fire-perf"),Ze(In,"@firebase/performance-compat","fire-perf-compat"),Ze(In,"@firebase/remote-config","fire-rc"),Ze(In,"@firebase/remote-config-compat","fire-rc-compat"),Ze(In,"@firebase/storage","fire-gcs"),Ze(In,"@firebase/storage-compat","fire-gcs-compat"),Ze(In,"@firebase/firestore","fire-fst"),Ze(In,"@firebase/firestore-compat","fire-fst-compat"),Ze(In,"fire-js","fire-js"),Ze(In,"firebase","fire-js-all"),In),Un=new Map,Vn=new Map;function qn(e,t){try{e.container.addComponent(t)}catch(n){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Qn(e){var t=e.name;if(Vn.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vn.set(t,e);var n,r=lt(Un.values());try{for(r.s();!(n=r.n()).done;){qn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Hn=(Ze(Tn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(Tn,"bad-app-name","Illegal App name: '{$appName}"),Ze(Tn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ze(Tn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ze(Tn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ze(Tn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ze(Tn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ze(Tn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ze(Tn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ze(Tn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Tn),Wn=new Ft("app","Firebase",Hn),Kn=function(){function e(t,n,r){var i=this;ft(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",(function(){return i}),"PUBLIC"))}return dt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}]),e}(),Gn="9.9.3";function Jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:jn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wn.create("bad-app-name",{appName:String(i)});var a=Un.get(i);if(a){if(Wt(e,a.options)&&Wt(r,a.config))return a;throw Wn.create("duplicate-app",{appName:i})}var o,s=new cn(i),u=lt(Vn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Kn(e,r,s);return Un.set(i,l),l}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=Un.get(e);if(!t)throw Wn.create("no-app",{appName:e});return t}function Yn(e,t,n){var r,i=null!==(r=Bn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(s.join(" "))}Qn(new rn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Zn="firebase-heartbeat-store",$n=null;function er(){return $n||($n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=En(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(En(s.result),e.oldVersion,e.newVersion,En(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zn)}}).catch((function(e){throw Wn.create("idb-open",{originalErrorMessage:e.message})}))),$n}function tr(e){return nr.apply(this,arguments)}function nr(){return nr=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,er();case 3:return r=e.sent,e.abrupt("return",r.transaction(Zn).objectStore(Zn).get(ar(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Mt?Ln.warn(e.t0.message):(i=Wn.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ln.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),nr.apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=Ye(Je().mark((function e(t,n){var r,i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,er();case 3:return i=e.sent,a=i.transaction(Zn,"readwrite"),o=a.objectStore(Zn),e.next=8,o.put(n,ar(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Mt?Ln.warn(e.t0.message):(s=Wn.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ln.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ir.apply(this,arguments)}function ar(e){return"".concat(e.name,"!").concat(e.options.appId)}var or=function(){function e(t){var n=this;ft(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new lr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return dt(e,[{key:"triggerHeartbeat",value:function(){var e=Ye(Je().mark((function e(){var t,n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ye(Je().mark((function e(){var t,n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sr(),n=ur(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sr(){return(new Date).toISOString().substring(0,10)}function ur(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=lt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var cr,lr=function(){function e(t){ft(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return dt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qw){t(qw)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,tr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(he(r.heartbeats),he(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fr(e){return xt(JSON.stringify({version:2,heartbeats:e})).length}cr="",Qn(new rn("platform-logger",(function(e){return new Rn(e)}),"PRIVATE")),Qn(new rn("heartbeat",(function(e){return new or(e)}),"PRIVATE")),Yn(Mn,Fn,cr),Yn(Mn,Fn,"esm2017"),Yn("fire-js","");function hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var dr;Object.create;function pr(){return Ze({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vr=pr,yr=new Ft("auth","Firebase",pr()),mr=new vn("@firebase/auth");function gr(e){if(mr.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mr.error.apply(mr,["Auth (".concat(Gn,"): ").concat(e)].concat(n))}}function Ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _r.apply(void 0,[e].concat(n))}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _r.apply(void 0,[e].concat(n))}function wr(e,t,n){var r=Object.assign(Object.assign({},vr()),Ze({},t,n));return new Ft("auth","Firebase",r).create(t,{appName:e.name})}function br(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ar(e,"argument-error"),wr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=he(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(he(o)))}return yr.create.apply(yr,[e].concat(n))}function xr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _r.apply(void 0,[t].concat(r))}}function Cr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gr(t),new Error(t)}function Er(e,t){e||Cr(t)}var Sr=new Map;function Ir(e){Er(e instanceof Function,"Expected a class definition");var t=Sr.get(e);return t?(Er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sr.set(e,t),t)}function Tr(e,t){var n=zn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Wt(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ar(r,"already-initialized")}return n.initialize({options:t})}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pr(){return"http:"===Dr()||"https:"===Dr()}function Dr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Or=function(){function e(t,n){ft(this,e),this.shortDelay=t,this.longDelay=n,Er(n>t,"Short delay should be less than long delay!"),this.isMobile=Nt()||Dt()}return dt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pr()||Pt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Rr(e,t){Er(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mr=function(){function e(){ft(this,e)}return dt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fr=(Ze(dr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ze(dr,"MISSING_CUSTOM_TOKEN","internal-error"),Ze(dr,"INVALID_IDENTIFIER","invalid-email"),Ze(dr,"MISSING_CONTINUE_URI","internal-error"),Ze(dr,"INVALID_PASSWORD","wrong-password"),Ze(dr,"MISSING_PASSWORD","internal-error"),Ze(dr,"EMAIL_EXISTS","email-already-in-use"),Ze(dr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ze(dr,"INVALID_IDP_RESPONSE","invalid-credential"),Ze(dr,"INVALID_PENDING_TOKEN","invalid-credential"),Ze(dr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ze(dr,"MISSING_REQ_TYPE","internal-error"),Ze(dr,"EMAIL_NOT_FOUND","user-not-found"),Ze(dr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ze(dr,"EXPIRED_OOB_CODE","expired-action-code"),Ze(dr,"INVALID_OOB_CODE","invalid-action-code"),Ze(dr,"MISSING_OOB_CODE","internal-error"),Ze(dr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ze(dr,"INVALID_ID_TOKEN","invalid-user-token"),Ze(dr,"TOKEN_EXPIRED","user-token-expired"),Ze(dr,"USER_NOT_FOUND","user-token-expired"),Ze(dr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ze(dr,"INVALID_CODE","invalid-verification-code"),Ze(dr,"INVALID_SESSION_INFO","invalid-verification-id"),Ze(dr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ze(dr,"MISSING_SESSION_INFO","missing-verification-id"),Ze(dr,"SESSION_EXPIRED","code-expired"),Ze(dr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ze(dr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ze(dr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ze(dr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ze(dr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ze(dr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ze(dr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ze(dr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ze(dr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ze(dr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ze(dr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),dr),Lr=new Or(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Br(e,t,n,r){return Ur.apply(this,arguments)}function Ur(){return Ur=Ye(Je().mark((function e(t,n,r,i){var a,o=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Vr(t,a,Ye(Je().mark((function e(){var a,o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Gt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mr.fetch()(Hr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function Vr(e,t,n){return qr.apply(this,arguments)}function qr(){return(qr=Ye(Je().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fr),n),e.prev=2,a=new Wr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Kr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Kr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Kr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Kr(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw wr(t,p,d);case 34:Ar(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Mt)){e.next=41;break}throw e.t0;case 41:Ar(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Qr(e,t,n,r){return zr.apply(this,arguments)}function zr(){return zr=Ye(Je().mark((function e(t,n,r,i){var a,o,s=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Br(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ar(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Hr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wr=function(){function e(t){var n=this;ft(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(kr(n.auth,"network-request-failed"))}),Lr.get())}))}return dt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Kr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=kr(e,t,r);return i.customData._tokenResponse=n,i}function Gr(e,t){return Jr.apply(this,arguments)}function Jr(){return(Jr=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function $r(){return $r=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=nn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xr((a=ti(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Zr(ei(a.auth_time)),issuedAtTime:Zr(ei(a.iat)),expirationTime:Zr(ei(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function ei(e){return 1e3*Number(e)}function ti(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return gr("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ct(i);return o?JSON.parse(o):(gr("Failed to decode base64 JWT payload"),null)}catch(s){return gr("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Ye(Je().mark((function e(t,n){var r=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Mt&&ii(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ri.apply(this,arguments)}function ii(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ai=function(){function e(t){ft(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return dt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ye(Je().mark((function t(){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),oi=function(){function e(t,n){ft(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return dt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function si(e){return ui.apply(this,arguments)}function ui(){return ui=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ni(t,Xr(r,{idToken:i}));case 6:xr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?fi(o.providerUserInfo):[],u=li(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new oi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function ci(){return(ci=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nn(t),e.next=3,si(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(he(n),he(t))}function fi(e){return e.map((function(e){var t=e.providerId,n=hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function hi(e,t){return di.apply(this,arguments)}function di(){return(di=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vr(t,{},Ye(Je().mark((function e(){var r,i,a,o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Hr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pi=function(){function e(){ft(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return dt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xr(e.idToken,"internal-error"),xr("undefined"!==typeof e.idToken,"internal-error"),xr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ti(e);return xr(t,"internal-error"),xr("undefined"!==typeof t.exp,"internal-error"),xr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ye(Je().mark((function e(t){var n,r=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Cr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function vi(e,t){xr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yi=function(){function e(t){ft(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=hr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?he(a.providerData):[],this.metadata=new oi(a.createdAt||void 0,a.lastLoginAt||void 0)}return dt(e,[{key:"getIdToken",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $r.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ci.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,si(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ni(this,Gr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,_=n.stsTokenManager;xr(A&&_,t,"internal-error");var x=pi.fromJSON(this.name,_);xr("string"===typeof A,t,"internal-error"),vi(f,t.name),vi(h,t.name),xr("boolean"===typeof k,t,"internal-error"),xr("boolean"===typeof w,t,"internal-error"),vi(d,t.name),vi(p,t.name),vi(v,t.name),vi(y,t.name),vi(m,t.name),vi(g,t.name);var C=new e({uid:A,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return b&&Array.isArray(b)&&(C.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(C._redirectEventId=y),C}},{key:"_fromIdTokenResponse",value:function(){var t=Ye(Je().mark((function t(n,r){var i,a,o,s=arguments;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new pi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,si(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),mi=function(){function e(){ft(this,e),this.type="NONE",this.storage={}}return dt(e,[{key:"_isAvailable",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();mi.type="NONE";var gi=mi;function Ai(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ki=function(){function e(t,n,r){ft(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ai(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ai("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return dt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ye(Je().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ir(gi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ir(gi),s=Ai(i,n.config.apiKey,n.name),u=null,c=lt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=yi._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ci(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Si(t))return"Blackberry";if(Ii(t))return"Webos";if(_i(t))return"Safari";if((t.includes("chrome/")||xi(t))&&!t.includes("edge/"))return"Chrome";if(Ei(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/firefox\//i.test(e)}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/crios\//i.test(e)}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/iemobile/i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/android/i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/blackberry/i.test(e)}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/webos/i.test(e)}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ni(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return Ti(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Pi(){return Ot()&&10===document.documentMode}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return Ti(e)||Ei(e)||Ii(e)||Si(e)||/windows phone/i.test(e)||Ci(e)}function Oi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wi(Tt());break;case"Worker":t="".concat(wi(Tt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gn,"/").concat(r)}var Ri=function(){function e(t){ft(this,e),this.auth=t,this.queue=[]}return dt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u,c;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=lt(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=lt(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mi=function(){function e(t,n,r){ft(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return dt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(Ye(Je().mark((function r(){var i,a;return Je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ki.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return xr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,si(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?nn(t):null)&&xr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ye(Je().mark((function e(t){var n,r=this,i=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&xr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ye(Je().mark((function n(){return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ir(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ft("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xr(n=t&&Ir(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ki.create(this,[Ir(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ye(Je().mark((function e(t){var n=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Oi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ye(Je().mark((function e(){var t,n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fi(e){return nn(e)}var Li=function(){function e(t){var n=this;ft(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Zt(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return dt(e,[{key:"next",get:function(){return xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var ji=function(){function e(t,n){ft(this,e),this.providerId=t,this.signInMethod=n}return dt(e,[{key:"toJSON",value:function(){return Cr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Cr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Cr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Cr("not implemented")}}]),e}();function Bi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPassword",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ki=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ft(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return dt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qi(t,{email:this._email,oobCode:this._password}));case 5:Ar(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ar(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ji);function Gi(e,t){return Ji.apply(this,arguments)}function Ji(){return(Ji=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithIdp",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xi=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return dt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=hr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ji);function Yi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:sendVerificationCode",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(){return($i=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(){return(ea=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Kr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ta=Ze({},"USER_NOT_FOUND","user-not-found");function na(){return(na=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,r),ta));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,"phone","phone")).params=e,r}return dt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return $i.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ea.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return na.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ji);var ia=function(){function e(t){var n,r,i,a,o,s;ft(this,e);var u=Jt(Xt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);xr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return dt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Jt(Xt(e)).link,n=t?Jt(Xt(t)).deep_link_id:null,r=Jt(Xt(e)).deep_link_id;return(r?Jt(Xt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var aa=function(){function e(){ft(this,e),this.providerId=e.PROVIDER_ID}return dt(e,null,[{key:"credential",value:function(e,t){return Ki._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ia.parseLink(t);return xr(n,"argument-error"),Ki._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();aa.PROVIDER_ID="password",aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var oa=function(){function e(t){ft(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return dt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),sa=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.apply(this,arguments)).scopes=[],e}return dt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return he(this.scopes)}}]),n}(oa),ua=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this,"facebook.com")}return dt(n,null,[{key:"credential",value:function(e){return Xi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(sa);ua.FACEBOOK_SIGN_IN_METHOD="facebook.com",ua.PROVIDER_ID="facebook.com";var ca=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return dt(n,null,[{key:"credential",value:function(e,t){return Xi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(sa);ca.GOOGLE_SIGN_IN_METHOD="google.com",ca.PROVIDER_ID="google.com";var la=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this,"github.com")}return dt(n,null,[{key:"credential",value:function(e){return Xi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(sa);la.GITHUB_SIGN_IN_METHOD="github.com",la.PROVIDER_ID="github.com";var fa=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this,"twitter.com")}return dt(n,null,[{key:"credential",value:function(e,t){return Xi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(sa);function ha(e,t){return da.apply(this,arguments)}function da(){return(da=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signUp",jr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}fa.TWITTER_SIGN_IN_METHOD="twitter.com",fa.PROVIDER_ID="twitter.com";var pa=function(){function e(t){ft(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return dt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ye(Je().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=va(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ye(Je().mark((function t(n,r,i){var a;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=va(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function va(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ya=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a){var o,s;return ft(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(it(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return dt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Mt);function ma(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ya._fromErrorAndOperation(e,n,t,r);throw n}))}function ga(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=Ye(Je().mark((function e(t,n){var r,i,a=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ni,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",pa._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function ka(e,t){return wa.apply(this,arguments)}function wa(){return wa=Ye(Je().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,ni(t,ma(a,o,n,t),r);case 6:return xr((s=e.sent).idToken,a,"internal-error"),xr(u=ti(s.idToken),a,"internal-error"),c=u.sub,xr(t.uid===c,a,"user-mismatch"),e.abrupt("return",pa._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Ar(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wa.apply(this,arguments)}function ba(e,t){return _a.apply(this,arguments)}function _a(){return _a=Ye(Je().mark((function e(t,n){var r,i,a,o,s=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ma(t,i,n);case 4:return a=e.sent,e.next=7,pa._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function xa(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(Fi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t,n){return Sa.apply(this,arguments)}function Sa(){return(Sa=Ye(Je().mark((function e(t,n,r){var i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fi(t),e.next=3,ha(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,pa._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ia(e,t,n){return xa(nn(e),aa.credential(t,n))}function Ta(e,t,n,r){return nn(e).onAuthStateChanged(t,n,r)}function Na(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:start",jr(e,t))}new WeakMap;var Pa="__sak",Da=function(){function e(t,n){ft(this,e),this.storageRetriever=t,this.type=n}return dt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pa,"1"),this.storage.removeItem(Pa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Oa=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Tt();return _i(e)||Ti(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Di(),e._shouldAllowMigration=!0,e}return dt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Pi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ye(Je().mark((function e(t,r){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(tt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ye(Je().mark((function e(t){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(tt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(tt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Da);Oa.type="LOCAL";var Ra=Oa,Ma=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return dt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Da);Ma.type="SESSION";var Fa=Ma;function La(e){return Promise.all(e.map(function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ja=function(){function e(t){ft(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return dt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u,c;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,La(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ba(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ja.receivers=[];var Ua=function(){function e(t){ft(this,e),this.target=t,this.handlers=new Set}return dt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ba("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Va(){return window}function qa(){return"undefined"!==typeof Va().WorkerGlobalScope&&"function"===typeof Va().importScripts}function Qa(){return za.apply(this,arguments)}function za(){return(za=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ha(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wa="firebaseLocalStorageDb",Ka="firebaseLocalStorage",Ga="fbase_key",Ja=function(){function e(t){ft(this,e),this.request=t}return dt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xa(e,t){return e.transaction([Ka],t?"readwrite":"readonly").objectStore(Ka)}function Ya(){var e=indexedDB.deleteDatabase(Wa);return new Ja(e).toPromise()}function Za(){var e=indexedDB.open(Wa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ka,{keyPath:Ga})}catch(r){n(r)}})),e.addEventListener("success",Ye(Je().mark((function n(){var r;return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ka)){n.next=12;break}return r.close(),n.next=5,Ya();case 5:return n.t0=t,n.next=8,Za();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function $a(e,t,n){return eo.apply(this,arguments)}function eo(){return eo=Ye(Je().mark((function e(t,n,r){var i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xa(t,!0).put((Ze(i={},Ga,n),Ze(i,"value",r),i)),e.abrupt("return",new Ja(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t,!1).get(n),e.next=3,new Ja(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){var n=Xa(e,!0).delete(t);return new Ja(n).toPromise()}var io=function(){function e(){ft(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return dt(e,[{key:"_openDb",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Za();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ye(Je().mark((function e(){var t=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ja._getInstance(qa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ye(Je().mark((function e(n,r){var i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ye(Je().mark((function e(){var t,n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ua(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ha()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Za();case 5:return t=e.sent,e.next=8,$a(t,Pa,"1");case 8:return e.next=10,ro(t,Pa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ye(Je().mark((function e(t,n){var r=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return $a(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return to(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ye(Je().mark((function e(t){var n=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ro(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ye(Je().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xa(e,!1).getAll();return new Ja(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=lt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ye(Je().mark((function t(){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();io.type="LOCAL";var ao=io;function oo(e,t){return Br(e,"POST","/v2/accounts/mfaSignIn:start",jr(e,t))}function so(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=kr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function uo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}uo("rcb"),new Or(3e4,6e4);var co="recaptcha";function lo(e,t,n){return fo.apply(this,arguments)}function fo(){return fo=Ye(Je().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xr("string"===typeof a,t,"argument-error"),xr(r.type===co,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return xr("enroll"===s.type,t,"internal-error"),e.next=13,Na(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return xr("signin"===s.type,t,"internal-error"),xr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oo(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Yi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),fo.apply(this,arguments)}var ho=function(){function e(t){ft(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fi(t)}return dt(e,[{key:"verifyPhoneNumber",value:function(e,t){return lo(this.auth,e,nn(t))}}],[{key:"credential",value:function(e,t){return ra._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ra._fromTokenResponse(n,r):null}}]),e}();function po(e,t){return t?Ir(t):(xr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ho.PROVIDER_ID="phone",ho.PHONE_SIGN_IN_METHOD="phone";var vo=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,"custom","custom")).params=e,r}return dt(n,[{key:"_getIdTokenResponse",value:function(e){return Gi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ji);function yo(e){return ba(e.auth,new vo(e),e.bypassAuthState)}function mo(e){var t=e.auth,n=e.user;return xr(n,t,"internal-error"),ka(n,new vo(e),e.bypassAuthState)}function go(e){return Ao.apply(this,arguments)}function Ao(){return(Ao=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xr(r=t.user,n,"internal-error"),e.abrupt("return",ga(r,new vo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ko=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ft(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return dt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ye(Je().mark((function t(n,r){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i,a,o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yo;case"linkViaPopup":case"linkViaRedirect":return go;case"reauthViaPopup":case"reauthViaRedirect":return mo;default:Ar(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),wo=new Or(2e3,1e4);function bo(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=Ye(Je().mark((function e(t,n,r){var i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fi(t),br(t,n,oa),a=po(i,r),o=new xo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xo=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a,o){var s;return ft(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=it(s),s}return dt(n,[{key:"executeNotNull",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ye(Je().mark((function e(){var t,n=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er(1===this.filter.length,"Popup operations only handle one event"),t=Ba(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(kr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(kr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(kr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,wo.get())}()}}]),n}(ko);xo.currentPopupAction=null;var Co=new Map,Eo=function(e){ot(n,e);var t=ct(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ft(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return dt(n,[{key:"execute",value:function(){var e=Ye(Je().mark((function e(){var t,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Co.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,So(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,rt(tt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Co.set(this.auth._key(),t);case 21:return this.bypassAuthState||Co.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ye(Je().mark((function e(t){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",rt(tt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",rt(tt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ko);function So(e,t){return Io.apply(this,arguments)}function Io(){return(Io=Ye(Je().mark((function e(t,n){var r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(n),i=No(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t){Co.set(e._key(),t)}function No(e){return Ir(e._redirectPersistence)}function Po(e){return Ai("pendingRedirect",e.config.apiKey,e.name)}function Do(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=Ye(Je().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Fi(t),a=po(i,n),o=new Eo(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}var Ro=function(){function e(t){ft(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return dt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Fo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Mo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Mo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Fo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lo(e){return jo.apply(this,arguments)}function jo(){return jo=Ye(Je().mark((function e(t){var n,r=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Br(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}var Bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uo=/^https?/;function Vo(){return(Vo=Ye(Je().mark((function e(t){var n,r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lo(t);case 4:n=e.sent,r=n.authorizedDomains,i=lt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qo(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ar(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function qo(e){var t=Nr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Uo.test(r))return!1;if(Bo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qo=new Or(3e4,6e4);function zo(){var e=Va().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=he(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ho=null;function Wo(e){return Ho=Ho||function(e){return new Promise((function(t,n){var r,i,a;function o(){zo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zo(),n(kr(e,"network-request-failed"))},timeout:Qo.get()})}if(null===(i=null===(r=Va().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Va().gapi)||void 0===a?void 0:a.load)){var s=uo("iframefcb");return Va()[s]=function(){gapi.load?o():n(kr(e,"network-request-failed"))},so("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ho=null,e}))}(e),Ho}var Ko=new Or(5e3,15e3),Go={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xo(e){var t=e.config;xr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Rr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gn},i=Jo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Gt(r).slice(1))}function Yo(e){return Zo.apply(this,arguments)}function Zo(){return Zo=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(t);case 2:return n=e.sent,xr(r=Va().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Xo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Go,dontclear:!0},(function(e){return new Promise(function(){var n=Ye(Je().mark((function n(r,i){var a,o,s;return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Va().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=kr(t,"network-request-failed"),o=Va().setTimeout((function(){i(a)}),Ko.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}var $o={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},es="_blank",ts="http://localhost",ns=function(){function e(t){ft(this,e),this.window=t,this.associatedEvent=null}return dt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function rs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},$o),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Tt().toLowerCase();n&&(s=xi(l)?es:n),bi(l)&&(t=t||ts,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ni(l)&&"_self"!==s)return is(t||"",s),new ns(null);var h=window.open(t||"",s,f);xr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ns(h)}function is(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var as="__/auth/handler",os="emulator/auth/handler";function ss(e,t,n,r,i,a){xr(e.config.authDomain,e,"auth-domain-config-required"),xr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(t instanceof oa){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",zt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof sa){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(as);return Rr(t,os)}(e),"?").concat(Gt(p).slice(1))}var us="webStorageSupport",cs=function(){function e(){ft(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=Do,this._overrideRedirectResult=To}return dt(e,[{key:"_openPopup",value:function(){var e=Ye(Je().mark((function e(t,n,r,i){var a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ss(t,n,r,Nr(),i),e.abrupt("return",rs(t,o,Ba()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ye(Je().mark((function e(t,n,r,i){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ss(t,n,r,Nr(),i),Va().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Er(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t);case 2:return n=e.sent,r=new Ro(t),n.register("authEvent",(function(e){return xr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(us,{type:us},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ar(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Di()||_i()||Ti()}}]),e}(),ls=cs,fs=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,"phone")).credential=e,r}return dt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:finalize",jr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Br(e,"POST","/v2/accounts/mfaSignIn:finalize",jr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){ft(this,e),this.factorId=t}return dt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cr("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){ft(this,e)}return dt(e,null,[{key:"assertion",value:function(e){return fs._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var hs,ds="@firebase/auth",ps="0.20.5",vs=function(){function e(t){ft(this,e),this.auth=t,this.internalListeners=new Map}return dt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=zn(e,"auth");return t.isInitialized()?t.getImmediate():Tr(e,{popupRedirectResolver:ls,persistence:[ao,Ra,Fa]})}hs="Browser",Qn(new rn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){xr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),xr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:hs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oi(hs)},i=new Mi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Qn(new rn("auth-internal",(function(e){return function(e){return new vs(e)}(Fi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(ds,ps,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hs)),Yn(ds,ps,"esm2017");Yn("firebase","9.9.3","app");var ms,gs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},As={},ks=ks||{},ws=gs||self;function bs(){}function _s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cs="closure_uid_"+(1e9*Math.random()>>>0),Es=0;function Ss(e,t,n){return e.call.apply(e.bind,arguments)}function Is(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ts(e,t,n){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ss:Is).apply(null,arguments)}function Ns(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ps(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ds(){this.s=this.s,this.o=this.o}var Os={};Ds.prototype.s=!1,Ds.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cs)&&e[Cs]||(e[Cs]=++Es)}(this);delete Os[e]}},Ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ms=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Fs(e){return Array.prototype.concat.apply([],arguments)}function Ls(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function js(e){return/^[\s\xa0]*$/.test(e)}var Bs,Us=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vs(e,t){return-1!=e.indexOf(t)}function qs(e,t){return e<t?-1:e>t?1:0}e:{var Qs=ws.navigator;if(Qs){var zs=Qs.userAgent;if(zs){Bs=zs;break e}}Bs=""}function Hs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ws(e){var t={};for(var n in e)t[n]=e[n];return t}var Ks="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ks.length;a++)n=Ks[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Js(e){return Js[" "](e),e}Js[" "]=bs;var Xs,Ys=Vs(Bs,"Opera"),Zs=Vs(Bs,"Trident")||Vs(Bs,"MSIE"),$s=Vs(Bs,"Edge"),eu=$s||Zs,tu=Vs(Bs,"Gecko")&&!(Vs(Bs.toLowerCase(),"webkit")&&!Vs(Bs,"Edge"))&&!(Vs(Bs,"Trident")||Vs(Bs,"MSIE"))&&!Vs(Bs,"Edge"),nu=Vs(Bs.toLowerCase(),"webkit")&&!Vs(Bs,"Edge");function ru(){var e=ws.document;return e?e.documentMode:void 0}e:{var iu="",au=function(){var e=Bs;return tu?/rv:([^\);]+)(\)|;)/.exec(e):$s?/Edge\/([\d\.]+)/.exec(e):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nu?/WebKit\/(\S+)/.exec(e):Ys?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(au&&(iu=au?au[1]:""),Zs){var ou=ru();if(null!=ou&&ou>parseFloat(iu)){Xs=String(ou);break e}}Xs=iu}var su,uu={};function cu(){return function(e){var t=uu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Us(String(Xs)).split("."),n=Us("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qs(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qs(0==a[2].length,0==o[2].length)||qs(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ws.document&&Zs){var lu=ru();su=lu||(parseInt(Xs,10)||void 0)}else su=void 0;var fu=su,hu=function(){if(!ws.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ws.addEventListener("test",bs,t),ws.removeEventListener("test",bs,t)}catch(n){}return e}();function du(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function pu(e,t){if(du.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tu){e:{try{Js(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:vu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pu.Z.h.call(this)}}du.prototype.h=function(){this.defaultPrevented=!0},Ps(pu,du);var vu={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yu="closure_listenable_"+(1e6*Math.random()|0),mu=0;function gu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++mu,this.ca=this.fa=!1}function Au(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ku(e){this.src=e,this.g={},this.h=0}function wu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Rs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Au(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ku.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bu(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new gu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var _u="closure_lm_"+(1e6*Math.random()|0),xu={};function Cu(e,t,n,r,i){if(r&&r.once)return Su(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cu(e,t[a],n,r,i);return null}return n=Ru(n),e&&e[yu]?e.N(t,n,xs(r)?!!r.capture:!!r,i):Eu(e,t,n,!1,r,i)}function Eu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xs(i)?!!i.capture:!!i,s=Du(e);if(s||(e[_u]=s=new ku(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Su(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Su(e,t[a],n,r,i);return null}return n=Ru(n),e&&e[yu]?e.O(t,n,xs(r)?!!r.capture:!!r,i):Eu(e,t,n,!0,r,i)}function Iu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Iu(e,t[a],n,r,i);else r=xs(r)?!!r.capture:!!r,n=Ru(n),e&&e[yu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bu(a=e.g[t],n,r,i))&&(Au(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Du(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bu(t,n,r,i)),(n=-1<e?t[e]:null)&&Tu(n))}function Tu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[yu])wu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Du(t))?(wu(n,e),0==n.h&&(n.src=null,t[_u]=null)):Au(e)}}}function Nu(e){return e in xu?xu[e]:xu[e]="on"+e}function Pu(e,t){if(e.ca)e=!0;else{t=new pu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Tu(e),e=n.call(r,t)}return e}function Du(e){return(e=e[_u])instanceof ku?e:null}var Ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(e){return"function"===typeof e?e:(e[Ou]||(e[Ou]=function(t){return e.handleEvent(t)}),e[Ou])}function Mu(){Ds.call(this),this.i=new ku(this),this.P=this,this.I=null}function Fu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new du(t,e);else if(t instanceof du)t.target=t.target||e;else{var i=t;Gs(t=new du(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Lu(o,r,!0,t)&&i}if(i=Lu(o=t.g=e,r,!0,t)&&i,i=Lu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Lu(o=t.g=n[a],r,!1,t)&&i}function Lu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&wu(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ps(Mu,Ds),Mu.prototype[yu]=!0,Mu.prototype.removeEventListener=function(e,t,n,r){Iu(this,e,t,n,r)},Mu.prototype.M=function(){if(Mu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Au(n[r]);delete t.g[e],t.h--}}this.I=null},Mu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ju=ws.JSON.stringify;function Bu(){var e=Ku,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uu,Vu=function(){function e(){ft(this,e),this.h=this.g=null}return dt(e,[{key:"add",value:function(e,t){var n=qu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qu=new(function(){function e(t,n){ft(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return dt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qu}),(function(e){return e.reset()})),Qu=function(){function e(){ft(this,e),this.next=this.g=this.h=null}return dt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function zu(e){ws.setTimeout((function(){throw e}),0)}function Hu(e,t){Uu||function(){var e=ws.Promise.resolve(void 0);Uu=function(){e.then(Gu)}}(),Wu||(Uu(),Wu=!0),Ku.add(e,t)}var Wu=!1,Ku=new Vu;function Gu(){for(var e;e=Bu();){try{e.h.call(e.g)}catch(n){zu(n)}var t=qu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wu=!1}function Ju(e,t){Mu.call(this),this.h=e||1,this.g=t||ws,this.j=Ts(this.kb,this),this.l=Date.now()}function Xu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yu(e,t,n){if("function"===typeof e)n&&(e=Ts(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ts(e.handleEvent,e)}return 2147483647<Number(t)?-1:ws.setTimeout(e,t||0)}function Zu(e){e.g=Yu((function(){e.g=null,e.i&&(e.i=!1,Zu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ps(Ju,Mu),(ms=Ju.prototype).da=!1,ms.S=null,ms.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fu(this,"tick"),this.da&&(Xu(this),this.start()))}},ms.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ms.M=function(){Ju.Z.M.call(this),Xu(this),delete this.g};var $u=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return dt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zu(this)}},{key:"M",value:function(){rt(tt(n.prototype),"M",this).call(this),this.g&&(ws.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ds);function ec(e){Ds.call(this),this.h=e,this.g={}}Ps(ec,Ds);var tc=[];function nc(e,t,n,r){Array.isArray(n)||(n&&(tc[0]=n.toString()),n=tc);for(var i=0;i<n.length;i++){var a=Cu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function rc(e){Hs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Tu(e)}),e),e.g={}}function ic(){this.g=!0}function ac(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ju(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ec.prototype.M=function(){ec.Z.M.call(this),rc(this)},ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ic.prototype.Aa=function(){this.g=!1},ic.prototype.info=function(){};var oc={},sc=null;function uc(){return sc=sc||new Mu}function cc(e){du.call(this,oc.Ma,e)}function lc(e){var t=uc();Fu(t,new cc(t,e))}function fc(e,t){du.call(this,oc.STAT_EVENT,e),this.stat=t}function hc(e){var t=uc();Fu(t,new fc(t,e))}function dc(e,t){du.call(this,oc.Na,e),this.size=t}function pc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ws.setTimeout((function(){e()}),t)}oc.Ma="serverreachability",Ps(cc,du),oc.STAT_EVENT="statevent",Ps(fc,du),oc.Na="timingevent",Ps(dc,du);var vc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mc(){}function gc(e){return e.h||(e.h=e.i())}function Ac(){}mc.prototype.h=null;var kc,wc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bc(){du.call(this,"d")}function _c(){du.call(this,"c")}function xc(){}function Cc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ec(this),this.P=Sc,e=eu?125:void 0,this.W=new Ju(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ec}function Ec(){this.i=null,this.g="",this.h=!1}Ps(bc,du),Ps(_c,du),Ps(xc,mc),xc.prototype.g=function(){return new XMLHttpRequest},xc.prototype.i=function(){return{}},kc=new xc;var Sc=45e3,Ic={},Tc={};function Nc(e,t,n){e.K=1,e.v=$c(Kc(t)),e.s=n,e.U=!0,Pc(e,null)}function Pc(e,t){e.F=Date.now(),Mc(e),e.A=Kc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),hl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ec,e.g=vf(e.l,n?t:null,!e.s),0<e.O&&(e.L=new $u(Ts(e.Ia,e,e.g),e.O)),nc(e.V,e.g,"readystatechange",e.gb),t=e.H?Ws(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),lc(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Oc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Rc(e,n))==Tc){4==t&&(e.o=4,hc(14),i=!1),ac(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ic){e.o=4,hc(15),ac(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ac(e.j,e.m,r,null),Uc(e,r)}Dc(e)&&r!=Tc&&r!=Ic&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sf(t),t.L=!0,hc(11))):(ac(e.j,e.m,n,"[Invalid Chunked Response]"),Bc(e),jc(e))}function Rc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Tc:(n=Number(t.substring(n,r)),isNaN(n)?Ic:(r+=1)+n>t.length?Tc:(t=t.substr(r,n),e.C=r+n,t))}function Mc(e){e.Y=Date.now()+e.P,Fc(e,e.P)}function Fc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pc(Ts(e.eb,e),t)}function Lc(e){e.B&&(ws.clearTimeout(e.B),e.B=null)}function jc(e){0==e.l.G||e.I||lf(e.l,e)}function Bc(e){Lc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xu(e.W),rc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Uc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||kl(n.i,e)))if(n.I=e.N,!e.J&&kl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cf(n),Yl(n)}of(n),hc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pc(Ts(n.ab,n),6e3));if(1>=Al(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else hf(n,11)}else if((e.J||n.g==e)&&cf(n),!js(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Vs(l,"spdy")||Vs(l,"quic")||Vs(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(wl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Zc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=pf(r,r.H?r.la:null,r.W),d.J){bl(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Lc(p),Mc(p)),r.g=d}else af(r);0<n.l.length&&ef(n)}else"stop"!=a[0]&&"close"!=a[0]||hf(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?hf(n,7):Xl(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}lc(4)}catch(a){}}function Vc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_s(e)||"string"===typeof e)Ms(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(_s(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(_s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function qc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ms=Cc.prototype).setTimeout=function(e){this.P=e},ms.gb=function(e){e=e.target;var t=this.L;t&&3==Hl(e)?t.l():this.Ia(e)},ms.Ia=function(e){try{if(e==this.g)e:{var t=Hl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||eu||this.g&&(this.h.h||this.g.ga()||Wl(this.g)))){this.I||4!=t||7==n||lc(8==n||0>=r?3:2),Lc(this);var i=this.g.ba();this.N=i;t:if(Dc(this)){var a=Wl(this.g);e="";var o=a.length,s=4==Hl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bc(this),jc(this);var u="";break t}this.h.i=new ws.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!js(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,hc(12),Bc(this),jc(this);break e}ac(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uc(this,i)}this.U?(Oc(this,t,u),eu&&this.i&&3==t&&(nc(this.V,this.W,"tick",this.fb),this.W.start())):(ac(this.j,this.m,u,null),Uc(this,u)),4==t&&Bc(this),this.i&&!this.I&&(4==t?lf(this.l,this):(this.i=!1,Mc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,hc(12)):(this.o=0,hc(13)),Bc(this),jc(this)}}}catch(t){}},ms.fb=function(){if(this.g){var e=Hl(this.g),t=this.g.ga();this.C<t.length&&(Lc(this),Oc(this,e,t),this.i&&4!=e&&Mc(this))}},ms.cancel=function(){this.I=!0,Bc(this)},ms.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(lc(3),hc(17)),Bc(this),this.o=2,jc(this)):Fc(this,this.Y-e)},(ms=qc.prototype).R=function(){Qc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ms.T=function(){return Qc(this),this.g.concat()},ms.get=function(e,t){return zc(this.h,e)?this.h[e]:t},ms.set=function(e,t){zc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ms.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Hc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wc){this.g=void 0!==t?t:e.g,Gc(this,e.j),this.s=e.s,Jc(this,e.i),Xc(this,e.m),this.l=e.l,t=e.h;var n=new ul;n.i=t.i,t.g&&(n.g=new qc(t.g),n.h=t.h),Yc(this,n),this.o=e.o}else e&&(n=String(e).match(Hc))?(this.g=!!t,Gc(this,n[1]||"",!0),this.s=el(n[2]||""),Jc(this,n[3]||"",!0),Xc(this,n[4]),this.l=el(n[5]||"",!0),Yc(this,n[6]||"",!0),this.o=el(n[7]||"")):(this.g=!!t,this.h=new ul(null,this.g))}function Kc(e){return new Wc(e)}function Gc(e,t,n){e.j=n?el(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jc(e,t,n){e.i=n?el(t,!0):t}function Xc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yc(e,t,n){t instanceof ul?(e.h=t,function(e,t){t&&!e.j&&(cl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ll(this,t),hl(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=tl(t,ol)),e.h=new ul(t,e.g))}function Zc(e,t,n){e.h.set(t,n)}function $c(e){return Zc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function el(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,nl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tl(t,rl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tl(t,rl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tl(n,"/"==n.charAt(0)?al:il,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tl(n,sl)),e.join("")};var rl=/[#\/\?@]/g,il=/[#\?:]/g,al=/[#\?]/g,ol=/[#\?@]/g,sl=/#/g;function ul(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function cl(e){e.g||(e.g=new qc,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ll(e,t){cl(e),t=dl(e,t),zc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qc(e)))}function fl(e,t){return cl(e),t=dl(e,t),zc(e.g.h,t)}function hl(e,t,n){ll(e,t),0<n.length&&(e.i=null,e.g.set(dl(e,t),Ls(n)),e.h+=n.length)}function dl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ms=ul.prototype).add=function(e,t){cl(this),this.i=null,e=dl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ms.forEach=function(e,t){cl(this),this.g.forEach((function(n,r){Ms(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ms.T=function(){cl(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ms.R=function(e){cl(this);var t=[];if("string"===typeof e)fl(this,e)&&(t=Fs(t,this.g.get(dl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Fs(t,e[n])}return t},ms.set=function(e,t){return cl(this),this.i=null,fl(this,e=dl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ms.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ms.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var pl=dt((function e(t,n){ft(this,e),this.h=t,this.g=n}));function vl(e){this.l=e||ml,ws.PerformanceNavigationTiming?e=0<(e=ws.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ws.g&&ws.g.Ea&&ws.g.Ea()&&ws.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yl,ml=10;function gl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Al(e){return e.h?1:e.g?e.g.size:0}function kl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wl(e,t){e.g?e.g.add(t):e.h=t}function bl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function _l(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=lt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ls(e.i)}function xl(){}function Cl(){this.g=new xl}function El(e,t,n){var r=n||"";try{Vc(e,(function(e,n){var i=e;xs(e)&&(i=ju(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Il(e){this.l=e.$b||null,this.j=e.ib||!1}function Tl(e,t){Mu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=lt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xl.prototype.stringify=function(e){return ws.JSON.stringify(e,void 0)},xl.prototype.parse=function(e){return ws.JSON.parse(e,void 0)},Ps(Il,mc),Il.prototype.g=function(){return new Tl(this.l,this.j)},Il.prototype.i=(yl={},function(){return yl}),Ps(Tl,Mu);var Nl=0;function Pl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Dl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ol(e)}function Ol(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ms=Tl.prototype).open=function(e,t){if(this.readyState!=Nl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ol(this)},ms.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ws).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ms.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dl(this)),this.readyState=Nl},ms.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ws.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ms.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dl(this):Ol(this),3==this.readyState&&Pl(this)}},ms.Ua=function(e){this.g&&(this.response=this.responseText=e,Dl(this))},ms.Ta=function(e){this.g&&(this.response=e,Dl(this))},ms.ha=function(){this.g&&Dl(this)},ms.setRequestHeader=function(e,t){this.v.append(e,t)},ms.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ms.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rl=ws.JSON.parse;function Ml(e){Mu.call(this),this.headers=new qc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fl,this.K=this.L=!1}Ps(Ml,Mu);var Fl="",Ll=/^https?$/i,jl=["POST","PUT"];function Bl(e){return"content-type"==e.toLowerCase()}function Ul(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vl(e),Ql(e)}function Vl(e){e.D||(e.D=!0,Fu(e,"complete"),Fu(e,"error"))}function ql(e){if(e.h&&"undefined"!=typeof ks&&(!e.C[1]||4!=Hl(e)||2!=e.ba()))if(e.v&&4==Hl(e))Yu(e.Fa,0,e);else if(Fu(e,"readystatechange"),4==Hl(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Hc)[1]||null;if(!a&&ws.self&&ws.self.location){var o=ws.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ll.test(a?a.toLowerCase():"")}t=i}if(t)Fu(e,"complete"),Fu(e,"success");else{e.m=6;try{var s=2<Hl(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Vl(e)}}finally{Ql(e)}}}function Ql(e,t){if(e.g){zl(e);var n=e.g,r=e.C[0]?bs:null;e.g=null,e.C=null,t||Fu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function zl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ws.clearTimeout(e.A),e.A=null)}function Hl(e){return e.g?e.g.readyState:0}function Wl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Hs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Zc(e,t,n))}function Gl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jl(e){this.za=0,this.l=[],this.h=new ic,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gl("baseRetryDelayMs",5e3,e),this.$a=Gl("retryDelaySeedMs",1e4,e),this.Ya=Gl("forwardChannelMaxRetries",2,e),this.ra=Gl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new vl(e&&e.concurrentRequestLimit),this.Ca=new Cl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xl(e){if(Zl(e),3==e.G){var t=e.V++,n=Kc(e.F);Zc(n,"SID",e.J),Zc(n,"RID",t),Zc(n,"TYPE","terminate"),nf(e,n),(t=new Cc(e,e.h,t,void 0)).K=2,t.v=$c(Kc(n)),n=!1,ws.navigator&&ws.navigator.sendBeacon&&(n=ws.navigator.sendBeacon(t.v.toString(),"")),!n&&ws.Image&&((new Image).src=t.v,n=!0),n||(t.g=vf(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mc(t)}df(e)}function Yl(e){e.g&&(sf(e),e.g.cancel(),e.g=null)}function Zl(e){Yl(e),e.u&&(ws.clearTimeout(e.u),e.u=null),cf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ws.clearTimeout(e.m),e.m=null)}function $l(e,t){e.l.push(new pl(e.Za++,t)),3==e.G&&ef(e)}function ef(e){gl(e.i)||e.m||(e.m=!0,Hu(e.Ha,e),e.C=0)}function tf(e,t){var n;n=t?t.m:e.V++;var r=Kc(e.F);Zc(r,"SID",e.J),Zc(r,"RID",n),Zc(r,"AID",e.U),nf(e,r),e.o&&e.s&&Kl(r,e.o,e.s),n=new Cc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=rf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),wl(e.i,n),Nc(n,r,t)}function nf(e,t){e.j&&Vc({},(function(e,n){Zc(t,n,e)}))}function rf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ts(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{El(l,o,"req"+c+"_")}catch(Qf){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function af(e){e.g||e.u||(e.Y=1,Hu(e.Ga,e),e.A=0)}function of(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=pc(Ts(e.Ga,e),ff(e,e.A)),e.A++,!0)}function sf(e){null!=e.B&&(ws.clearTimeout(e.B),e.B=null)}function uf(e){e.g=new Cc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Kc(e.oa);Zc(t,"RID","rpc"),Zc(t,"SID",e.J),Zc(t,"CI",e.N?"0":"1"),Zc(t,"AID",e.U),nf(e,t),Zc(t,"TYPE","xmlhttp"),e.o&&e.s&&Kl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=$c(Kc(t)),n.s=null,n.U=!0,Pc(n,e)}function cf(e){null!=e.v&&(ws.clearTimeout(e.v),e.v=null)}function lf(e,t){var n=null;if(e.g==t){cf(e),sf(e),e.g=null;var r=2}else{if(!kl(e.i,t))return;n=t.D,bl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fu(r=uc(),new dc(r,n,t,i)),ef(e)}else af(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Al(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=pc(Ts(e.Ha,e,t),ff(e,e.C)),e.C++,!0))}(e,t)||2==r&&of(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hf(e,5);break;case 4:hf(e,10);break;case 3:hf(e,6);break;default:hf(e,2)}}function ff(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hf(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ts(e.jb,e);n||(n=new Wc("//www.google.com/images/cleardot.gif"),ws.location&&"http"==ws.location.protocol||Gc(n,"https"),$c(n)),function(e,t){var n=new ic;if(ws.Image){var r=new Image;r.onload=Ns(Sl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ns(Sl,n,r,"TestLoadImage: error",!1,t),r.onabort=Ns(Sl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ns(Sl,n,r,"TestLoadImage: timeout",!1,t),ws.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hc(2);e.G=0,e.j&&e.j.va(t),df(e),Zl(e)}function df(e){e.G=0,e.I=-1,e.j&&(0==_l(e.i).length&&0==e.l.length||(e.i.i.length=0,Ls(e.l),e.l.length=0),e.j.ua())}function pf(e,t,n){var r=function(e){return e instanceof Wc?Kc(e):new Wc(e,void 0)}(n);if(""!=r.i)t&&Jc(r,t+"."+r.i),Xc(r,r.m);else{var i=ws.location;r=function(e,t,n,r){var i=new Wc(null,void 0);return e&&Gc(i,e),t&&Jc(i,t),n&&Xc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Hs(e.aa,(function(e,t){Zc(r,t,e)})),t=e.D,n=e.sa,t&&n&&Zc(r,t,n),Zc(r,"VER",e.ma),nf(e,r),r}function vf(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ml(new Il({ib:!0})):new Ml(e.qa)).L=e.H,t}function yf(){}function mf(){if(Zs&&!(10<=Number(fu)))throw Error("Environmental error: no available transport.")}function gf(e,t){Mu.call(this),this.g=new Jl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!js(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!js(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wf(this)}function Af(e){bc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kf(){_c.call(this),this.status=1}function wf(e){this.g=e}(ms=Ml.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kc.g(),this.C=this.u?gc(this.u):gc(kc),this.g.onreadystatechange=Ts(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ul(this,a)}e=n||"";var i=new qc(this.headers);r&&Vc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Bl,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ws.FormData&&e instanceof ws.FormData,!(0<=Rs(jl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zl(this),0<this.B&&((this.K=function(e){return Zs&&cu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ts(this.pa,this)):this.A=Yu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ul(this,a)}},ms.pa=function(){"undefined"!=typeof ks&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fu(this,"timeout"),this.abort(8))},ms.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fu(this,"complete"),Fu(this,"abort"),Ql(this))},ms.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ql(this,!0)),Ml.Z.M.call(this)},ms.Fa=function(){this.s||(this.F||this.v||this.l?ql(this):this.cb())},ms.cb=function(){ql(this)},ms.ba=function(){try{return 2<Hl(this)?this.g.status:-1}catch(yl){return-1}},ms.ga=function(){try{return this.g?this.g.responseText:""}catch(yl){return""}},ms.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rl(t)}},ms.Da=function(){return this.m},ms.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ms=Jl.prototype).ma=8,ms.G=1,ms.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ms.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Cc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Gs(n=Ws(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=rf(this,t,r),Zc(i=Kc(this.F),"RID",e),Zc(i,"CVER",22),this.D&&Zc(i,"X-HTTP-Session-Id",this.D),nf(this,i),this.o&&n&&Kl(i,this.o,n),wl(this.i,t),this.Ra&&Zc(i,"TYPE","init"),this.ja?(Zc(i,"$req",r),Zc(i,"SID","null"),t.$=!0,Nc(t,i,null)):Nc(t,i,r),this.G=2}}else 3==this.G&&(e?tf(this,e):0==this.l.length||gl(this.i)||tf(this))},ms.Ga=function(){if(this.u=null,uf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pc(Ts(this.bb,this),e)}},ms.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hc(10),Yl(this),uf(this))},ms.ab=function(){null!=this.v&&(this.v=null,Yl(this),of(this),hc(19))},ms.jb=function(e){e?(this.h.info("Successfully pinged google.com"),hc(2)):(this.h.info("Failed to ping google.com"),hc(1))},(ms=yf.prototype).xa=function(){},ms.wa=function(){},ms.va=function(){},ms.ua=function(){},ms.Oa=function(){},mf.prototype.g=function(e,t){return new gf(e,t)},Ps(gf,Mu),gf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Hu(Ts(e.hb,e,t))),hc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=pf(e,null,e.W),ef(e)},gf.prototype.close=function(){Xl(this.g)},gf.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,$l(this.g,t)}else this.v?((t={}).__data__=ju(e),$l(this.g,t)):$l(this.g,e)},gf.prototype.M=function(){this.g.j=null,delete this.j,Xl(this.g),delete this.g,gf.Z.M.call(this)},Ps(Af,bc),Ps(kf,_c),Ps(wf,yf),wf.prototype.xa=function(){Fu(this.g,"a")},wf.prototype.wa=function(e){Fu(this.g,new Af(e))},wf.prototype.va=function(e){Fu(this.g,new kf(e))},wf.prototype.ua=function(){Fu(this.g,"b")},mf.prototype.createWebChannel=mf.prototype.g,gf.prototype.send=gf.prototype.u,gf.prototype.open=gf.prototype.m,gf.prototype.close=gf.prototype.close,vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,yc.COMPLETE="complete",Ac.EventType=wc,wc.OPEN="a",wc.CLOSE="b",wc.ERROR="c",wc.MESSAGE="d",Mu.prototype.listen=Mu.prototype.N,Ml.prototype.listenOnce=Ml.prototype.O,Ml.prototype.getLastError=Ml.prototype.La,Ml.prototype.getLastErrorCode=Ml.prototype.Da,Ml.prototype.getStatus=Ml.prototype.ba,Ml.prototype.getResponseJson=Ml.prototype.Qa,Ml.prototype.getResponseText=Ml.prototype.ga,Ml.prototype.send=Ml.prototype.ea;var bf=As.createWebChannelTransport=function(){return new mf},_f=As.getStatEventTarget=function(){return uc()},xf=As.ErrorCode=vc,Cf=As.EventType=yc,Ef=As.Event=oc,Sf=As.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},If=As.FetchXmlHttpFactory=Il,Tf=As.WebChannel=Ac,Nf=As.XhrIo=Ml,Pf="@firebase/firestore",Df=function(){function e(t){ft(this,e),this.uid=t}return dt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Df.UNAUTHENTICATED=new Df(null),Df.GOOGLE_CREDENTIALS=new Df("google-credentials-uid"),Df.FIRST_PARTY=new Df("first-party-uid"),Df.MOCK_USER=new Df("mock-user");var Of="9.9.2",Rf=new vn("@firebase/firestore");function Mf(){return Rf.logLevel}function Ff(e){if(Rf.logLevel<=un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bf);Rf.debug.apply(Rf,["Firestore (".concat(Of,"): ").concat(e)].concat(he(i)))}}function Lf(e){if(Rf.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bf);Rf.error.apply(Rf,["Firestore (".concat(Of,"): ").concat(e)].concat(he(i)))}}function jf(e){if(Rf.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bf);Rf.warn.apply(Rf,["Firestore (".concat(Of,"): ").concat(e)].concat(he(i)))}}function Bf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Of,") INTERNAL ASSERTION FAILED: ")+e;throw Lf(t),new Error(t)}function Vf(e,t){e||Uf()}function qf(e,t){return e}var Qf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zf=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return dt(n)}(Mt),Hf=dt((function e(){var t=this;ft(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wf=dt((function e(t,n){ft(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Kf=function(){function e(){ft(this,e)}return dt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Df.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Gf=function(){function e(t){ft(this,e),this.t=t,this.currentUser=Df.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return dt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ff("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ff("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ff("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vf("string"==typeof n.accessToken),new Wf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Vf(null===e||"string"==typeof e),new Df(e)}}]),e}(),Jf=dt((function e(t,n,r){ft(this,e),this.type="FirstParty",this.user=Df.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Xf=function(){function e(t,n,r){ft(this,e),this.h=t,this.l=n,this.m=r}return dt(e,[{key:"getToken",value:function(){return Promise.resolve(new Jf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Df.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Yf=dt((function e(t){ft(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Zf=function(){function e(t){ft(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return dt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ff("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ff("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ff("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ff("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Vf("string"==typeof t.token),e.p=t.token,new Yf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $f(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var eh=function(){function e(){ft(this,e)}return dt(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$f(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function th(e,t){return e<t?-1:e>t?1:0}function nh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var rh=function(){function e(t,n){if(ft(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new zf(Qf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zf(Qf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new zf(Qf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zf(Qf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return dt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?th(this.nanoseconds,e.nanoseconds):th(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ih=function(){function e(t){ft(this,e),this.timestamp=t}return dt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rh(0,0))}},{key:"max",value:function(){return new e(new rh(253402300799,999999999))}}]),e}(),ah=function(){function e(t,n,r){ft(this,e),void 0===n?n=0:n>t.length&&Uf(),void 0===r?r=t.length-n:r>t.length-n&&Uf(),this.segments=t,this.offset=n,this.len=r}return dt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),oh=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new zf(Qf.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,he(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ah),sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uh=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new zf(Qf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new zf(Qf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zf(Qf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new zf(Qf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ah),ch=function(){function e(t){ft(this,e),this.path=t}return dt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===oh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(oh.fromString(t))}},{key:"fromName",value:function(t){return new e(oh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(oh.emptyPath())}},{key:"comparator",value:function(e,t){return oh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new oh(t.slice()))}}]),e}(),lh=dt((function e(t,n,r,i){ft(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));lh.UNKNOWN_ID=-1;function fh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ih.fromTimestamp(1e9===r?new rh(n+1,0):new rh(n,r));return new dh(i,ch.empty(),t)}function hh(e){return new dh(e.readTime,e.key,-1)}var dh=function(){function e(t,n,r){ft(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return dt(e,null,[{key:"min",value:function(){return new e(ih.min(),ch.empty(),-1)}},{key:"max",value:function(){return new e(ih.max(),ch.empty(),-1)}}]),e}();function ph(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ch.comparator(e.documentKey,t.documentKey))?n:th(e.largestBatchId,t.largestBatchId)}var vh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yh=function(){function e(){ft(this,e),this.onCommittedListeners=[]}return dt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function mh(e){return gh.apply(this,arguments)}function gh(){return gh=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Qf.FAILED_PRECONDITION&&t.message===vh){e.next=2;break}throw t;case 2:Ff("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}var Ah=function(){function e(t){var n=this;ft(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return dt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Uf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=lt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function kh(e){return"IndexedDbTransactionError"===e.name}var wh=function(){function e(t,n){var r=this;ft(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return dt(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function bh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _h(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}wh.ot=-1;var Ch=function(){function e(t,n){ft(this,e),this.comparator=t,this.root=n||Sh.EMPTY}return dt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Eh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Eh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Eh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Eh(this.root,e,this.comparator,!0)}}]),e}(),Eh=function(){function e(t,n,r,i){ft(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return dt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sh=function(){function e(t,n,r,i,a){ft(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return dt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Uf();if(this.right.isRed())throw Uf();var e=this.left.check();if(e!==this.right.check())throw Uf();return e+(this.isRed()?0:1)}}]),e}();Sh.EMPTY=null,Sh.RED=!0,Sh.BLACK=!1,Sh.EMPTY=new(function(){function e(){ft(this,e),this.size=0}return dt(e,[{key:"key",get:function(){throw Uf()}},{key:"value",get:function(){throw Uf()}},{key:"color",get:function(){throw Uf()}},{key:"left",get:function(){throw Uf()}},{key:"right",get:function(){throw Uf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ih=function(){function e(t){ft(this,e),this.comparator=t,this.data=new Ch(this.comparator)}return dt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Th(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Th(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Th=function(){function e(t){ft(this,e),this.iter=t}return dt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Nh=function(){function e(t){ft(this,e),this.fields=t,t.sort(uh.comparator)}return dt(e,[{key:"unionWith",value:function(t){var n,r=new Ih(uh.comparator),i=lt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=lt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=lt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return nh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ph=function(e){function t(e){ft(this,t),this.binaryString=e}return dt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return th(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ph.EMPTY_BYTE_STRING=new Ph("");var Dh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oh(e){if(Vf(!!e),"string"==typeof e){var t=0,n=Dh.exec(e);if(Vf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rh(e.seconds),nanos:Rh(e.nanos)}}function Rh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mh(e){return"string"==typeof e?Ph.fromBase64String(e):Ph.fromUint8Array(e)}function Fh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lh(e){var t=e.mapValue.fields.__previous_value__;return Fh(t)?Lh(t):t}function jh(e){var t=Oh(e.mapValue.fields.__local_write_time__.timestampValue);return new rh(t.seconds,t.nanos)}var Bh=dt((function e(t,n,r,i,a,o,s,u){ft(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Uh=function(){function e(t,n){ft(this,e),this.projectId=t,this.database=n||"(default)"}return dt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Vh(e){return null==e}function qh(e){return 0===e&&1/e==-1/0}function Qh(e){return"number"==typeof e&&Number.isInteger(e)&&!qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fh(e)?4:ad(e)?9007199254740991:10:Uf()}function Wh(e,t){if(e===t)return!0;var n=Hh(e);if(n!==Hh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jh(e).isEqual(jh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Oh(e.timestampValue),r=Oh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mh(e.bytesValue).isEqual(Mh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rh(e.geoPointValue.latitude)===Rh(t.geoPointValue.latitude)&&Rh(e.geoPointValue.longitude)===Rh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rh(e.integerValue)===Rh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rh(e.doubleValue),r=Rh(t.doubleValue);return n===r?qh(n)===qh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nh(e.arrayValue.values||[],t.arrayValue.values||[],Wh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bh(n)!==bh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wh(n[i],r[i])))return!1;return!0}(e,t);default:return Uf()}}function Kh(e,t){return void 0!==(e.values||[]).find((function(e){return Wh(e,t)}))}function Gh(e,t){if(e===t)return 0;var n=Hh(e),r=Hh(t);if(n!==r)return th(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return th(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rh(e.integerValue||e.doubleValue),r=Rh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jh(e.timestampValue,t.timestampValue);case 4:return Jh(jh(e),jh(t));case 5:return th(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Mh(e),r=Mh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=th(n[i],r[i]);if(0!==a)return a}return th(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=th(Rh(e.latitude),Rh(t.latitude));return 0!==n?n:th(Rh(e.longitude),Rh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Gh(n[i],r[i]);if(a)return a}return th(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zh.mapValue&&t===zh.mapValue)return 0;if(e===zh.mapValue)return 1;if(t===zh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=th(r[o],a[o]);if(0!==s)return s;var u=Gh(n[r[o]],i[a[o]]);if(0!==u)return u}return th(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Uf()}}function Jh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return th(e,t);var n=Oh(e),r=Oh(t),i=th(n.seconds,r.seconds);return 0!==i?i:th(n.nanos,r.nanos)}function Xh(e){return Yh(e)}function Yh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Oh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ch.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=lt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Yh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=lt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Yh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Uf();var t,n}function Zh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $h(e){return!!e&&"integerValue"in e}function ed(e){return!!e&&"arrayValue"in e}function td(e){return!!e&&"nullValue"in e}function nd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rd(e){return!!e&&"mapValue"in e}function id(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _h(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=id(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=id(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ad(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var od=function(){function e(t){ft(this,e),this.value=t}return dt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(t)}},{key:"setAll",value:function(e){var t=this,n=uh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=id(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_h(t,(function(t,n){return e[t]=n}));var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(id(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sd(e){var t=[];return _h(e.fields,(function(e,n){var r=new uh([e]);if(rd(n)){var i=sd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=lt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Nh(t)}var ud=function(){function e(t,n,r,i,a,o){ft(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return dt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=od.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=od.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ih.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ih.min(),ih.min(),od.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ih.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ih.min(),od.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ih.min(),od.empty(),2)}}]),e}(),cd=dt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ft(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function ld(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new cd(e,t,n,r,i,a,o)}function fd(e){var t=qf(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Xh(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Xh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Xh(e)})).join(",")),t.ut=n}return t.ut}function hd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Cd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Wh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sd(e.startAt,t.startAt)&&Sd(e.endAt,t.endAt)}function dd(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pd=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return dt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Gh(t,this.value)):null!==t&&Hh(this.value)===Hh(t)&&this.at(Gh(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uf()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vd(e,t,r):"array-contains"===t?new Ad(e,r):"in"===t?new kd(e,r):"not-in"===t?new wd(e,r):"array-contains-any"===t?new bd(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new yd(e,n):new md(e,n)}}]),n}(function(){return dt((function e(){ft(this,e)}))}()),vd=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this,e,r,i)).key=ch.fromName(i.referenceValue),a}return dt(n,[{key:"matches",value:function(e){var t=ch.comparator(e.key,this.key);return this.at(t)}}]),n}(pd),yd=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e,"in",r)).keys=gd("in",r),i}return dt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pd),md=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e,"not-in",r)).keys=gd("not-in",r),i}return dt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pd);function gd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ch.fromName(e.referenceValue)}))}var Ad=function(e){ot(n,e);var t=ct(n);function n(e,r){return ft(this,n),t.call(this,e,"array-contains",r)}return dt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ed(t)&&Kh(t.arrayValue,this.value)}}]),n}(pd),kd=function(e){ot(n,e);var t=ct(n);function n(e,r){return ft(this,n),t.call(this,e,"in",r)}return dt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Kh(this.value.arrayValue,t)}}]),n}(pd),wd=function(e){ot(n,e);var t=ct(n);function n(e,r){return ft(this,n),t.call(this,e,"not-in",r)}return dt(n,[{key:"matches",value:function(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Kh(this.value.arrayValue,t)}}]),n}(pd),bd=function(e){ot(n,e);var t=ct(n);function n(e,r){return ft(this,n),t.call(this,e,"array-contains-any",r)}return dt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Kh(t.value.arrayValue,e)}))}}]),n}(pd),_d=dt((function e(t,n){ft(this,e),this.position=t,this.inclusive=n})),xd=dt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ft(this,e),this.field=t,this.dir=n}));function Cd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ed(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ch.comparator(ch.fromName(o.referenceValue),n.key):Gh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wh(e.position[n],t.position[n]))return!1;return!0}var Id=dt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ft(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Td(e,t,n,r,i,a,o,s){return new Id(e,t,n,r,i,a,o,s)}function Nd(e){return new Id(e)}function Pd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Od(e){var t,n=lt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Rd(e){return null!==e.collectionGroup}function Md(e){var t=qf(e);if(null===t.lt){t.lt=[];var n=Od(t),r=Dd(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new xd(n)),t.lt.push(new xd(uh.keyField(),"asc"));else{var i,a=!1,o=lt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new xd(uh.keyField(),u))}}}return t.lt}function Fd(e){var t=qf(e);if(!t.ft)if("F"===t.limitType)t.ft=ld(t.path,t.collectionGroup,Md(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=lt(Md(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xd(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new _d(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new _d(t.startAt.position,t.startAt.inclusive):null;t.ft=ld(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function Ld(e,t,n){return new Id(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jd(e,t){return hd(Fd(e),Fd(t))&&e.limitType===t.limitType}function Bd(e){return"".concat(fd(Fd(e)),"|lt:").concat(e.limitType)}function Ud(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Xh(t.value));var t})).join(", "),"]")),Vh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Xh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Xh(e)})).join(",")),"Target(".concat(t,")")}(Fd(e)),"; limitType=").concat(e.limitType,")")}function Vd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ch.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=lt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=lt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ed(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Md(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ed(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Md(e),t))}(e,t)}function qd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qd(e){return function(t,n){var r,i=!1,a=lt(Md(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=zd(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function zd(e,t,n){var r=e.field.isKeyField()?ch.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gh(r,i):Uf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uf()}}function Hd(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(t)?"-0":t}}function Wd(e){return{integerValue:""+e}}function Kd(e,t){return Qh(t)?Wd(t):Hd(e,t)}var Gd=dt((function e(){ft(this,e),this._=void 0}));function Jd(e,t,n){return e instanceof Zd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $d?ep(e,t):e instanceof tp?np(e,t):function(e,t){var n=Yd(e,t),r=ip(n)+ip(e._t);return $h(n)&&$h(e._t)?Wd(r):Hd(e.wt,r)}(e,t)}function Xd(e,t,n){return e instanceof $d?ep(e,t):e instanceof tp?np(e,t):n}function Yd(e,t){return e instanceof rp?$h(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zd=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n)}(Gd),$d=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).elements=e,r}return dt(n)}(Gd);function ep(e,t){var n,r=ap(t),i=lt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tp=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).elements=e,r}return dt(n)}(Gd);function np(e,t){var n,r=ap(t),i=lt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rp=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this)).wt=e,i._t=r,i}return dt(n)}(Gd);function ip(e){return Rh(e.integerValue||e.doubleValue)}function ap(e){return ed(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var op=dt((function e(t,n){ft(this,e),this.field=t,this.transform=n}));var sp=dt((function e(t,n){ft(this,e),this.version=t,this.transformResults=n})),up=function(){function e(t,n){ft(this,e),this.updateTime=t,this.exists=n}return dt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lp=dt((function e(){ft(this,e)}));function fp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _p(e.key,up.none()):new yp(e.key,e.data,up.none());var n,r=e.data,i=od.empty(),a=new Ih(uh.comparator),o=lt(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new mp(e.key,i,new Nh(a.toArray()),up.none())}function hp(e,t,n){e instanceof yp?function(e,t,n){var r=e.value.clone(),i=Ap(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mp?function(e,t,n){if(cp(e.precondition,t)){var r=Ap(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dp(e,t,n,r){return e instanceof yp?function(e,t,n,r){if(!cp(e.precondition,t))return n;var i=e.value.clone(),a=kp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mp?function(e,t,n,r){if(!cp(e.precondition,t))return n;var i=kp(e.fieldTransforms,r,t),a=t.data;return a.setAll(gp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pp(e,t){var n,r=null,i=lt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Yd(a.transform,o||null);null!=s&&(null===r&&(r=od.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function vp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $d&&t instanceof $d||e instanceof tp&&t instanceof tp?nh(e.elements,t.elements,Wh):e instanceof rp&&t instanceof rp?Wh(e._t,t._t):e instanceof Zd&&t instanceof Zd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var yp=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ft(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return dt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lp),mp=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ft(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return dt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lp);function gp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ap(e,t,n){var r=new Map;Vf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Xd(o,s,n[i]))}return r}function kp(e,t,n){var r,i=new Map,a=lt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Jd(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wp,bp,_p=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return dt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lp),xp=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return dt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lp),Cp=dt((function e(t){ft(this,e),this.count=t}));function Ep(e){switch(e){default:return Uf();case Qf.CANCELLED:case Qf.UNKNOWN:case Qf.DEADLINE_EXCEEDED:case Qf.RESOURCE_EXHAUSTED:case Qf.INTERNAL:case Qf.UNAVAILABLE:case Qf.UNAUTHENTICATED:return!1;case Qf.INVALID_ARGUMENT:case Qf.NOT_FOUND:case Qf.ALREADY_EXISTS:case Qf.PERMISSION_DENIED:case Qf.FAILED_PRECONDITION:case Qf.ABORTED:case Qf.OUT_OF_RANGE:case Qf.UNIMPLEMENTED:case Qf.DATA_LOSS:return!0}}function Sp(e){if(void 0===e)return Lf("GRPC error has no .code"),Qf.UNKNOWN;switch(e){case wp.OK:return Qf.OK;case wp.CANCELLED:return Qf.CANCELLED;case wp.UNKNOWN:return Qf.UNKNOWN;case wp.DEADLINE_EXCEEDED:return Qf.DEADLINE_EXCEEDED;case wp.RESOURCE_EXHAUSTED:return Qf.RESOURCE_EXHAUSTED;case wp.INTERNAL:return Qf.INTERNAL;case wp.UNAVAILABLE:return Qf.UNAVAILABLE;case wp.UNAUTHENTICATED:return Qf.UNAUTHENTICATED;case wp.INVALID_ARGUMENT:return Qf.INVALID_ARGUMENT;case wp.NOT_FOUND:return Qf.NOT_FOUND;case wp.ALREADY_EXISTS:return Qf.ALREADY_EXISTS;case wp.PERMISSION_DENIED:return Qf.PERMISSION_DENIED;case wp.FAILED_PRECONDITION:return Qf.FAILED_PRECONDITION;case wp.ABORTED:return Qf.ABORTED;case wp.OUT_OF_RANGE:return Qf.OUT_OF_RANGE;case wp.UNIMPLEMENTED:return Qf.UNIMPLEMENTED;case wp.DATA_LOSS:return Qf.DATA_LOSS;default:return Uf()}}(bp=wp||(wp={}))[bp.OK=0]="OK",bp[bp.CANCELLED=1]="CANCELLED",bp[bp.UNKNOWN=2]="UNKNOWN",bp[bp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bp[bp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bp[bp.NOT_FOUND=5]="NOT_FOUND",bp[bp.ALREADY_EXISTS=6]="ALREADY_EXISTS",bp[bp.PERMISSION_DENIED=7]="PERMISSION_DENIED",bp[bp.UNAUTHENTICATED=16]="UNAUTHENTICATED",bp[bp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bp[bp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bp[bp.ABORTED=10]="ABORTED",bp[bp.OUT_OF_RANGE=11]="OUT_OF_RANGE",bp[bp.UNIMPLEMENTED=12]="UNIMPLEMENTED",bp[bp.INTERNAL=13]="INTERNAL",bp[bp.UNAVAILABLE=14]="UNAVAILABLE",bp[bp.DATA_LOSS=15]="DATA_LOSS";var Ip=function(){function e(t,n){ft(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return dt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_h(this.inner,(function(t,n){var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return xh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tp=new Ch(ch.comparator);function Np(){return Tp}var Pp=new Ch(ch.comparator);function Dp(){for(var e=Pp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Op(e){var t=Pp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Rp(){return Fp()}function Mp(){return Fp()}function Fp(){return new Ip((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Lp=new Ch(ch.comparator),jp=new Ih(ch.comparator);function Bp(){for(var e=jp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Up=new Ih(th);function Vp(){return Up}var qp=function(){function e(t,n,r,i,a){ft(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return dt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ih.min(),r,Vp(),Np(),Bp())}}]),e}(),Qp=function(){function e(t,n,r,i,a){ft(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return dt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ph.EMPTY_BYTE_STRING,n,Bp(),Bp(),Bp())}}]),e}(),zp=dt((function e(t,n,r,i){ft(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Hp=dt((function e(t,n){ft(this,e),this.targetId=t,this.It=n})),Wp=dt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ph.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ft(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Kp=function(){function e(){ft(this,e),this.Tt=0,this.Et=Xp(),this.At=Ph.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return dt(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Bp(),t=Bp(),n=Bp();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uf()}})),new Qp(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Xp()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Gp=function(){function e(t){ft(this,e),this.Ot=t,this.Ft=new Map,this.$t=Np(),this.Bt=Jp(),this.Lt=new Ih(th)}return dt(e,[{key:"Ut",value:function(e){var t,n=lt(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=lt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Uf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(dd(i))if(0===n){var a=new ch(i.path);this.Kt(t,a,ud.newNoDocument(a,ih.min()))}else Vf(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&dd(a.target)){var o=new ch(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,ud.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Bp();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new qp(e,n,this.Lt,this.$t,r);return this.$t=Np(),this.Bt=Jp(),this.Lt=new Ih(th),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Kp,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Ih(th),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Ff("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Kp),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function Jp(){return new Ch(ch.comparator)}function Xp(){return new Ch(ch.comparator)}var Yp={asc:"ASCENDING",desc:"DESCENDING"},Zp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$p=dt((function e(t,n){ft(this,e),this.databaseId=t,this.dt=n}));function ev(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tv(e,t){return e.dt?t.toBase64():t.toUint8Array()}function nv(e,t){return ev(e,t.toTimestamp())}function rv(e){return Vf(!!e),ih.fromTimestamp(function(e){var t=Oh(e);return new rh(t.seconds,t.nanos)}(e))}function iv(e,t){return function(e){return new oh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function av(e){var t=oh.fromString(e);return Vf(Cv(t)),t}function ov(e,t){return iv(e.databaseId,t.path)}function sv(e,t){var n=av(t);if(n.get(1)!==e.databaseId.projectId)throw new zf(Qf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zf(Qf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ch(fv(n))}function uv(e,t){return iv(e.databaseId,t)}function cv(e){var t=av(e);return 4===t.length?oh.emptyPath():fv(t)}function lv(e){return new oh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fv(e){return Vf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hv(e,t,n){return{name:ov(e,t),fields:n.value.mapValue.fields}}function dv(e,t){var n;if(t instanceof yp)n={update:hv(e,t.key,t.value)};else if(t instanceof _p)n={delete:ov(e,t.key)};else if(t instanceof mp)n={update:hv(e,t.key,t.data),updateMask:xv(t.fieldMask)};else{if(!(t instanceof xp))return Uf();n={verify:ov(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $d)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rp)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Uf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uf()}(e,t.precondition)),n}function pv(e,t){return{documents:[uv(e,t.path)]}}function vv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=uv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=uv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(nd(e.value))return{unaryFilter:{field:kv(e.field),op:"IS_NAN"}};if(td(e.value))return{unaryFilter:{field:kv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nd(e.value))return{unaryFilter:{field:kv(e.field),op:"IS_NOT_NAN"}};if(td(e.value))return{unaryFilter:{field:kv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kv(e.field),op:Av(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kv(e.field),direction:gv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||Vh(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yv(e){var t=cv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=mv(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new xd(wv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Vh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _d(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _d(n,t)}(n.endAt)),Td(t,i,s,o,u,"F",c,l)}function mv(e){return e?void 0!==e.unaryFilter?[_v(e)]:void 0!==e.fieldFilter?[bv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return mv(e)})).reduce((function(e,t){return e.concat(t)})):Uf():[]}function gv(e){return Yp[e]}function Av(e){return Zp[e]}function kv(e){return{fieldPath:e.canonicalString()}}function wv(e){return uh.fromServerFormat(e.fieldPath)}function bv(e){return pd.create(wv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uf()}}(e.fieldFilter.op),e.fieldFilter.value)}function _v(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wv(e.unaryFilter.field);return pd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wv(e.unaryFilter.field);return pd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wv(e.unaryFilter.field);return pd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wv(e.unaryFilter.field);return pd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uf()}}function xv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ev=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Sv=([].concat(he(Ev),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Iv=Sv;[].concat(Iv,["indexConfiguration","indexState","indexEntries"]);var Tv=function(){function e(t,n,r,i){ft(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return dt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=lt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=dp(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=lt(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=dp(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Mp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=fp(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ih.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(function(e,t){return vp(e,t)}))&&nh(this.baseMutations,e.baseMutations,(function(e,t){return vp(e,t)}))}}]),e}(),Nv=function(){function e(t,n,r,i){ft(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return dt(e,null,[{key:"from",value:function(t,n,r){Vf(t.mutations.length===r.length);for(var i=Lp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pv=function(){function e(t,n){ft(this,e),this.largestBatchId=t,this.mutation=n}return dt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ih.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ih.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ph.EMPTY_BYTE_STRING;ft(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return dt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ov=dt((function e(t){ft(this,e),this.ne=t}));function Rv(e){var t=yv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ld(t,t.limit,"L"):t}var Mv=function(){function e(){ft(this,e)}return dt(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Rh(e.integerValue));else if("doubleValue"in e){var n=Rh(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),qh(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Mh(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?ad(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Uf()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),ch.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();Mv.ye=new Mv;var Fv=function(){function e(){ft(this,e),this.ze=new Lv}return dt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Ah.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ah.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ah.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ah.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ah.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ah.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ah.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ah.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ah.resolve(dh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ah.resolve(dh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ah.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ah.resolve()}}]),e}(),Lv=function(){function e(){ft(this,e),this.index={}}return dt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ih(oh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ih(oh.comparator)).toArray()}}]),e}();new Uint8Array(0);var jv=function(){function e(t,n,r){ft(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return dt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();jv.DEFAULT_COLLECTION_PERCENTILE=10,jv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jv.DEFAULT=new jv(41943040,jv.DEFAULT_COLLECTION_PERCENTILE,jv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jv.DISABLED=new jv(-1,0,0);var Bv=function(){function e(t){ft(this,e),this.En=t}return dt(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var Uv=function(){function e(){ft(this,e),this.changes=new Ip((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return dt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ud.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ah.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Vv=dt((function e(t,n){ft(this,e),this.overlayedDocument=t,this.mutatedFields=n})),qv=function(){function e(t,n,r,i){ft(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return dt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&dp(r.mutation,e,Nh.empty(),rh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Bp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bp(),i=Rp();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Dp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Rp();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Bp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Np(),a=Fp(),o=Fp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof mp)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),dp(o.mutation,t,o.mutation.getFieldMask(),rh.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Fp(),i=new Ch((function(e,t){return e-t})),a=Bp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=lt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Nh.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Bp()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Mp();c.forEach((function(e){if(!a.has(e)){var n=fp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Ah.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ah.resolve(Rp()),s=-1,u=a;return o.next((function(t){return Ah.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ah.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Bp())})).next((function(e){return{batchId:s,changes:Op(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ch(t)).next((function(e){var t=Dp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dp();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ah.forEach(o,(function(o){var s=function(e,t){return new Id(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ud.newInvalidDocument(n)))}));var n=Dp();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&dp(a.mutation,i,Nh.empty(),rh.now()),Vd(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ah.resolve(ud.newInvalidDocument(t))}}]),e}(),Qv=function(){function e(t){ft(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return dt(e,[{key:"getBundleMetadata",value:function(e,t){return Ah.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:rv(n.createTime)}),Ah.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ah.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Rv(e.bundledQuery),readTime:rv(e.readTime)}}(t)),Ah.resolve()}}]),e}(),zv=function(){function e(){ft(this,e),this.overlays=new Ch(ch.comparator),this.Xn=new Map}return dt(e,[{key:"getOverlay",value:function(e,t){return Ah.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Rp();return Ah.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Ah.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Ah.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Rp(),i=t.length+1,a=new ch(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ah.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ch((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Rp(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Rp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ah.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pv(t,n));var a=this.Xn.get(t);void 0===a&&(a=Bp(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Hv=function(){function e(){ft(this,e),this.Zn=new Ih(Wv.ts),this.es=new Ih(Wv.ns)}return dt(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wv(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Wv(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ch(new oh([])),r=new Wv(n,e),i=new Wv(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ch(new oh([])),n=new Wv(t,e),r=new Wv(t,e+1),i=Bp();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wv(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wv=function(){function e(t,n){ft(this,e),this.key=t,this.ls=n}return dt(e,null,[{key:"ts",value:function(e,t){return ch.comparator(e.key,t.key)||th(e.ls,t.ls)}},{key:"ns",value:function(e,t){return th(e.ls,t.ls)||ch.comparator(e.key,t.key)}}]),e}(),Kv=function(){function e(t,n){ft(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Ih(Wv.ts)}return dt(e,[{key:"checkEmpty",value:function(e){return Ah.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Tv(i,t,n,r);this.mutationQueue.push(a);var o,s=lt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new Wv(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ah.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ah.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Ah.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ah.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Ah.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wv(t,0),i=new Wv(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Ah.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ih(th);return t.forEach((function(e){var t=new Wv(e,0),i=new Wv(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Ah.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ch.isDocumentKey(i)||(i=i.child(""));var a=new Wv(new ch(i),0),o=new Ih(th);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Ah.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Vf(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Ah.forEach(t.mutations,(function(i){var a=new Wv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wv(t,0),r=this.ds.firstAfterOrEqual(n);return Ah.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ah.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Gv=function(){function e(t){ft(this,e),this.ps=t,this.docs=new Ch(ch.comparator),this.size=0}return dt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ah.resolve(n?n.document.mutableCopy():ud.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Np();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ud.newInvalidDocument(e))})),Ah.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Np(),i=new ch(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ph(hh(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Ah.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Uf()}},{key:"Is",value:function(e,t){return Ah.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Jv(this)}},{key:"getSize",value:function(e){return Ah.resolve(this.size)}}]),e}(),Jv=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).zn=e,r}return dt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Ah.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Uv),Xv=function(){function e(t){ft(this,e),this.persistence=t,this.Ts=new Ip((function(e){return fd(e)}),hd),this.lastRemoteSnapshotVersion=ih.min(),this.highestTargetId=0,this.Es=0,this.As=new Hv,this.targetCount=0,this.Rs=Bv.An()}return dt(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Ah.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ah.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ah.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Ah.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Ah.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Bv(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Ah.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Ah.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ah.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ah.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ah.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Ah.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Ah.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ah.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Ah.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Ah.resolve(n)}},{key:"containsKey",value:function(e,t){return Ah.resolve(this.As.containsKey(t))}}]),e}(),Yv=function(){function e(t,n){var r=this;ft(this,e),this.bs={},this.overlays={},this.Ps=new wh(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Xv(this),this.indexManager=new Fv,this.remoteDocumentCache=new Gv((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Ov(n),this.Ds=new Qv(this.wt)}return dt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new zv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Kv(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ff("MemoryPersistence","Starting transaction:",e);var i=new Zv(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Ah.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Zv=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return dt(n)}(yh),$v=function(){function e(t){ft(this,e),this.persistence=t,this.ks=new Hv,this.Ms=null}return dt(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw Uf()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Ah.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Ah.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Ah.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ah.forEach(this.Fs,(function(r){var i=ch.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,ih.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Ah.or([function(){return Ah.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}();var ey=function(){function e(t,n,r,i){ft(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return dt(e,null,[{key:"Vi",value:function(t,n){var r,i=Bp(),a=Bp(),o=lt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ty=function(){function e(){ft(this,e),this.Si=!1}return dt(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(Pd(t))return Ah.resolve(null);var r=Fd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ld(t,null,"F"),r=Fd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Bp.apply(void 0,he(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,Ld(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return Pd(t)||r.isEqual(ih.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(Mf()<=un.DEBUG&&Ff("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ud(t)),i.Oi(e,o,t,fh(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Ih(Qd(e));return t.forEach((function(t,r){Vd(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Mf()<=un.DEBUG&&Ff("QueryEngine","Using full collection scan to execute query:",Ud(t)),this.Di.getDocumentsMatchingQuery(e,t,dh.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ny=function(){function e(t,n,r,i){ft(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Ch(th),this.Bi=new Ip((function(e){return fd(e)}),hd),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return dt(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qv(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function ry(e,t,n,r){return new ny(e,t,n,r)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Bp(),u=lt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=lt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){u.e(A)}finally{u.f()}var d,p=lt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=lt(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(A){m.e(A)}finally{m.f()}}}catch(A){p.e(A)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t){var n=qf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ah.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Vf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Bp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function sy(e){var t=qf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function uy(e,t){var n=qf(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Ph.EMPTY_BYTE_STRING,ih.min()).withLastLimboFreeSnapshotVersion(ih.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=Np(),u=Bp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cy(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(ih.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ah.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function cy(e,t,n){var r=Bp(),i=Bp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Np();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ih.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ff("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function ly(e,t){var n=qf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fy(e,t){var n=qf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Ah.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Dv(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=Ye(Je().mark((function e(t,n,r){var i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qf(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),kh(e.t1)){e.next=12;break}throw e.t1;case 12:Ff("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dy.apply(this,arguments)}function py(e,t,n){var r=qf(e),i=ih.min(),a=Bp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qf(e),i=r.Bi.get(n);return void 0!==i?Ah.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Fd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:ih.min(),n?a:Bp())})).next((function(e){return vy(r,qd(t),e),{documents:e,ji:a}}))}))}function vy(e,t,n){var r=ih.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var yy=function(){function e(){ft(this,e),this.activeTargetIds=Vp()}return dt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),my=function(){function e(){ft(this,e),this.Fr=new yy,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return dt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new yy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),gy=function(){function e(){ft(this,e)}return dt(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ay=function(){function e(){var t=this;ft(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return dt(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ff("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=lt(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Ff("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=lt(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wy=function(){function e(t){ft(this,e),this.jr=t.jr,this.Wr=t.Wr}return dt(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),by=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return dt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Nf;o.listenOnce(Cf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case xf.NO_ERROR:var t=o.getResponseJson();Ff("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xf.TIMEOUT:Ff("Connection",'RPC "'+e+'" timed out'),a(new zf(Qf.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:var n=o.getStatus();if(Ff("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qf).indexOf(t)>=0?t:Qf.UNKNOWN}(r.status);a(new zf(s,r.message))}else a(new zf(Qf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new zf(Qf.UNAVAILABLE,"Connection failed."));break;default:Uf()}}finally{Ff("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=bf(),a=_f(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new If({})),this.uo(o.initMessageHeaders,t,n),Nt()||Dt()||Tt().indexOf("Electron/")>=0||Ot()||Tt().indexOf("MSAppHost/")>=0||Pt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Ff("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new wy({jr:function(e){l?Ff("Connection","Not sending because WebChannel is closed:",e):(c||(Ff("Connection","Opening WebChannel transport."),u.open(),c=!0),Ff("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Tf.EventType.OPEN,(function(){l||Ff("Connection","WebChannel transport opened.")})),h(u,Tf.EventType.CLOSE,(function(){l||(l=!0,Ff("Connection","WebChannel transport closed"),f.eo())})),h(u,Tf.EventType.ERROR,(function(e){l||(l=!0,jf("Connection","WebChannel transport errored:",e),f.eo(new zf(Qf.UNAVAILABLE,"The operation could not be completed")))})),h(u,Tf.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Vf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ff("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wp[e];if(void 0!==t)return Sp(t)}(a),s=i.message;void 0===o&&(o=Qf.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new zf(o,s)),u.close()}else Ff("Connection","WebChannel received:",n),f.no(n)}})),h(a,Ef.STAT_EVENT,(function(e){e.stat===Sf.PROXY?Ff("Connection","Detected buffering proxy"):e.stat===Sf.NOPROXY&&Ff("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ft(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return dt(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ff("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Ff("RestConnection","Received: ",e),e}),(function(t){throw jf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Of,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=ky[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function _y(){return"undefined"!=typeof document?document:null}function xy(e){return new $p(e,!0)}var Cy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ft(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return dt(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ff("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Ey=function(){function e(t,n,r,i,a,o,s,u){ft(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Cy(t,n)}return dt(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Qf.RESOURCE_EXHAUSTED?(Lf(n.toString()),Lf("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Qf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new zf(Qf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ye(Je().mark((function t(){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ff("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Ff("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Sy=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a,o,s){var u;return ft(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return dt(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Vf(void 0===t||"string"==typeof t),Ph.fromBase64String(t||"")):(Vf(void 0===t||t instanceof Uint8Array),Ph.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Qf.UNKNOWN:Sp(e.code);return new zf(t,e.message||"")}(o);n=new Wp(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=sv(e,u.document.name),l=rv(u.document.updateTime),f=new od({mapValue:{fields:u.document.fields}}),h=ud.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new zp(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=sv(e,v.document),m=v.readTime?rv(v.readTime):ih.min(),g=ud.newNoDocument(y,m),A=v.removedTargetIds||[];n=new zp([],A,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=sv(e,k.document),b=k.removedTargetIds||[];n=new zp([],b,w,null)}else{if(!("filter"in t))return Uf();t.filter;var _=t.filter;_.targetId;var x=_.count||0,C=new Cp(x),E=_.targetId;n=new Hp(E,C)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return ih.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ih.min():t.readTime?rv(t.readTime):ih.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=lv(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=dd(r)?{documents:pv(e,r)}:{query:vv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tv(e,t.resumeToken):t.snapshotVersion.compareTo(ih.min())>0&&(n.readTime=ev(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Uf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=lv(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(Ey),Iy=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a,o,s){var u;return ft(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return dt(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,rt(tt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Vf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Vf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rv(e.updateTime):rv(t);return n.isEqual(ih.min())&&(n=rv(t)),new sp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rv(e.commitTime);return this.listener.Jo(n,t)}return Vf(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=lv(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return dv(t.wt,e)}))};this.Oo(n)}}]),n}(Ey),Ty=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a){var o;return ft(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return dt(n,[{key:"tu",value:function(){if(this.Zo)throw new zf(Qf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new zf(Qf.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.bo.ao(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new zf(Qf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return dt((function e(){ft(this,e)}))}()),Ny=function(){function e(t,n){ft(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return dt(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Lf(t),this.su=!1):Ff("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Py=dt((function e(t,n,r,i,a){var o=this;ft(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qy(o),!e.t0){e.next=5;break}return Ff("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qf(t)).lu.add(4),e.next=4,Ry(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Dy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Ny(r,i)}));function Dy(e){return Oy.apply(this,arguments)}function Oy(){return Oy=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qy(t)){e.next=18;break}n=lt(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Oy.apply(this,arguments)}function Ry(e){return My.apply(this,arguments)}function My(){return My=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lt(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),My.apply(this,arguments)}function Fy(e,t){var n=qf(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Vy(n)?Uy(n):mm(n).Co()&&jy(n,t))}function Ly(e,t){var n=qf(e),r=mm(n);n.hu.delete(t),r.Co()&&By(n,t),0===n.hu.size&&(r.Co()?r.ko():qy(n)&&n._u.set("Unknown"))}function jy(e,t){e.wu.Nt(t.targetId),mm(e).Qo(t)}function By(e,t){e.wu.Nt(t),mm(e).jo(t)}function Uy(e){e.wu=new Gp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),mm(e).start(),e._u.iu()}function Vy(e){return qy(e)&&!mm(e).Do()&&e.hu.size>0}function qy(e){return 0===qf(e).lu.size}function Qy(e){e.wu=void 0}function zy(e){return Hy.apply(this,arguments)}function Hy(){return Hy=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){jy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Wy(e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qy(t),Vy(t)?(t._u.uu(n),Uy(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Gy(e,t,n){return Jy.apply(this,arguments)}function Jy(){return Jy=Ye(Je().mark((function e(t,n,r){var i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Wp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=lt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ff("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Xy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof zp?t.wu.Ut(n):n instanceof Hp?t.wu.zt(n):t.wu.Gt(n),r.isEqual(ih.min())){e.next=29;break}return e.prev=14,e.next=17,sy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Ph.EMPTY_BYTE_STRING,n.snapshotVersion)),By(e,t);var r=new Dv(n.target,t,1,n.sequenceNumber);jy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ff("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Xy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Jy.apply(this,arguments)}function Xy(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=Ye(Je().mark((function e(t,n,r){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kh(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Ry(t);case 5:t._u.set("Offline"),r||(r=function(){return sy(t.localStore)}),t.asyncQueue.enqueueRetryable(Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ff("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Dy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Zy(e,t){return t().catch((function(n){return Xy(e,n,t)}))}function $y(e){return em.apply(this,arguments)}function em(){return em=Ye(Je().mark((function e(t){var n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qf(t),r=gm(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!tm(n)){e.next=19;break}return e.prev=3,e.next=6,ly(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,nm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Xy(n,e.t0);case 17:e.next=2;break;case 19:rm(n)&&im(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),em.apply(this,arguments)}function tm(e){return qy(e)&&e.au.length<10}function nm(e,t){e.au.push(t);var n=gm(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function rm(e){return qy(e)&&!gm(e).Do()&&e.au.length>0}function im(e){gm(e).start()}function am(e){return om.apply(this,arguments)}function om(){return om=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gm(t).Xo();case 1:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function sm(e){return um.apply(this,arguments)}function um(){return um=Ye(Je().mark((function e(t){var n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gm(t),r=lt(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t,n){return lm.apply(this,arguments)}function lm(){return lm=Ye(Je().mark((function e(t,n,r){var i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Nv.from(i,n,r),e.next=3,Zy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,$y(t);case 5:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=Ye(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&gm(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ep(i=n.code)||i===Qf.ABORTED){e.next=7;break}return r=t.au.shift(),gm(t).No(),e.next=5,Zy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,$y(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:rm(t)&&im(t);case 5:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qf(t)).asyncQueue.verifyOperationInProgress(),Ff("RemoteStore","RemoteStore received new credentials"),i=qy(r),r.lu.add(3),e.next=6,Ry(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Dy(r);case 12:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return ym.apply(this,arguments)}function ym(){return ym=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Dy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Ry(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e){return e.mu||(e.mu=function(e,t,n){var r=qf(e);return r.tu(),new Sy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:zy.bind(null,e),Jr:Wy.bind(null,e),Go:Gy.bind(null,e)}),e.fu.push(function(){var t=Ye(Je().mark((function t(n){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Vy(e)?Uy(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Qy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function gm(e){return e.gu||(e.gu=function(e,t,n){var r=qf(e);return r.tu(),new Iy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:am.bind(null,e),Jr:fm.bind(null,e),Yo:sm.bind(null,e),Jo:cm.bind(null,e)}),e.fu.push(function(){var t=Ye(Je().mark((function t(n){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,$y(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Ff("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Am=function(){function e(t,n,r,i,a){ft(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return dt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zf(Qf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function km(e,t){if(Lf("AsyncQueue","".concat(t,": ").concat(e)),kh(e))return new zf(Qf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var wm=function(){function e(t){ft(this,e),this.comparator=t?function(e,n){return t(e,n)||ch.comparator(e.key,n.key)}:function(e,t){return ch.comparator(e.key,t.key)},this.keyedMap=Dp(),this.sortedSet=new Ch(this.comparator)}return dt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),bm=function(){function e(){ft(this,e),this.yu=new Ch(ch.comparator)}return dt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Uf():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_m=function(){function e(t,n,r,i,a,o,s,u){ft(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return dt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,wm.emptySet(n),a,r,i,!0,!1)}}]),e}(),xm=dt((function e(){ft(this,e),this.Iu=void 0,this.listeners=[]})),Cm=dt((function e(){ft(this,e),this.queries=new Ip((function(e){return Bd(e)}),jd),this.onlineState="Unknown",this.Tu=new Set}));function Em(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=Ye(Je().mark((function e(t,n){var r,i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new xm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=km(e.t0,"Initialization of query '".concat(Ud(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Dm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Sm.apply(this,arguments)}function Im(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=Ye(Je().mark((function e(t,n){var r,i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Nm(e,t){var n,r=qf(e),i=!1,a=lt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=lt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Dm(r)}function Pm(e,t,n){var r=qf(e),i=r.queries.get(t);if(i){var a,o=lt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Dm(e){e.Tu.forEach((function(e){e.next()}))}var Om=function(){function e(t,n,r){ft(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return dt(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=lt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _m(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=_m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var Rm=dt((function e(t){ft(this,e),this.key=t})),Mm=dt((function e(t){ft(this,e),this.key=t})),Fm=function(){function e(t,n){ft(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Bp(),this.mutatedKeys=Bp(),this.Lu=Qd(t),this.Uu=new wm(this.Lu)}return dt(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new bm,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uf()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new _m(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new bm,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Bp(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Mm(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Rm(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Bp();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return _m.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Lm=dt((function e(t,n,r){ft(this,e),this.query=t,this.targetId=n,this.view=r})),jm=dt((function e(t){ft(this,e),this.key=t,this.Xu=!1})),Bm=function(){function e(t,n,r,i,a,o){ft(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Ip((function(e){return Bd(e)}),jd),this.ec=new Map,this.nc=new Set,this.sc=new Ch(ch.comparator),this.ic=new Map,this.rc=new Hv,this.oc={},this.uc=new Map,this.cc=Bv.Rn(),this.onlineState="Unknown",this.ac=void 0}return dt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Um(e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=Ye(Je().mark((function e(t,n){var r,i,a,o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vg(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,fy(r.localStore,Fd(n));case 8:return s=e.sent,r.isPrimaryClient&&Fy(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,qm(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function qm(e,t,n,r){return Qm.apply(this,arguments)}function Qm(){return Qm=Ye(Je().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ye(Je().mark((function e(t,n,r,i){var a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,py(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sg(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,py(t.localStore,n,!0);case 3:return a=e.sent,o=new Fm(n,a.ji),s=o.Ku(a.documents),u=Qp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),sg(t,r,c.zu),l=new Lm(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function zm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Ye(Je().mark((function e(t,n){var r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!jd(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ly(r.remoteStore,i.targetId),ag(r,i.targetId)})).catch(mh);case 9:e.next=14;break;case 11:return ag(r,i.targetId),e.next=14,hy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Wm(e,t,n){return Km.apply(this,arguments)}function Km(){return Km=Ye(Je().mark((function e(t,n,r){var i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=qf(e),a=rh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Bp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Np(),u=Bp();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=lt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=pp(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new mp(c.key,l,sd(l.value.mapValue),up.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Op(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Ch(th)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lg(i,a.changes);case 9:return e.next=11,$y(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=km(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Km.apply(this,arguments)}function Gm(e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.prev=1,e.next=4,uy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Vf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Vf(n.Xu):e.removedDocuments.size>0&&(Vf(n.Xu),n.Xu=!1))})),e.next=8,lg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,mh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Jm.apply(this,arguments)}function Xm(e,t,n){var r=qf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=lt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Dm(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ym(e,t,n){return Zm.apply(this,arguments)}function Zm(){return Zm=Ye(Je().mark((function e(t,n,r){var i,a,o,s,u,c;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ch(ch.comparator)).insert(o,ud.newNoDocument(o,ih.min())),u=Bp().add(o),c=new qp(ih.min(),new Map,new Ih(th),s,u),e.next=9,Gm(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),cg(i),e.next=16;break;case 14:return e.next=16,hy(i.localStore,n,!1).then((function(){return ag(i,n,r)})).catch(mh);case 16:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function $m(e,t){return eg.apply(this,arguments)}function eg(){return eg=Ye(Je().mark((function e(t,n){var r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),i=n.batch.batchId,e.prev=1,e.next=4,oy(r.localStore,n);case 4:return a=e.sent,ig(r,i,null),rg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eg.apply(this,arguments)}function tg(e,t,n){return ng.apply(this,arguments)}function ng(){return ng=Ye(Je().mark((function e(t,n,r){var i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qf(t),e.prev=1,e.next=4,function(e,t){var n=qf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Vf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ig(i,n,r),rg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ng.apply(this,arguments)}function rg(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function ig(e,t,n){var r=qf(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function ag(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=lt(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||og(e,t)}))}function og(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Ly(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),cg(e))}function sg(e,t,n){var r,i=lt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Rm?(e.rc.addReference(a.key,t),ug(e,a)):a instanceof Mm?(Ff("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||og(e,a.key)):Uf()}}catch(o){i.e(o)}finally{i.f()}}function ug(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Ff("SyncEngine","New document in limbo: "+n),e.nc.add(r),cg(e))}function cg(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new ch(oh.fromString(t)),r=e.cc.next();e.ic.set(r,new jm(n)),e.sc=e.sc.insert(n,r),Fy(e.remoteStore,new Dv(Fd(Nd(n.path)),r,2,wh.ot))}}function lg(e,t,n){return fg.apply(this,arguments)}function fg(){return fg=Ye(Je().mark((function e(t,n,r){var i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qf(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ey.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ah.forEach(n,(function(t){return Ah.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ah.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),kh(e.t0)){e.next=10;break}throw e.t0;case 10:Ff("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=lt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t){return dg.apply(this,arguments)}function dg(){return dg=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qf(t)).currentUser.isEqual(n)){e.next=11;break}return Ff("SyncEngine","User change. New user:",n.toKey()),e.next=5,iy(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new zf(Qf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lg(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){var n=qf(e),r=n.ic.get(t);if(r&&r.Xu)return Bp().add(r.key);var i=Bp(),a=n.ec.get(t);if(!a)return i;var o,s=lt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function vg(e){var t=qf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ym.bind(null,t),t.Zu.Go=Nm.bind(null,t.eventManager),t.Zu.lc=Pm.bind(null,t.eventManager),t}function yg(e){var t=qf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$m.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tg.bind(null,t),t}var mg=function(){function e(){ft(this,e),this.synchronizeTabs=!1}return dt(e,[{key:"initialize",value:function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=xy(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return ry(this.persistence,new ty,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Yv($v.Os,this.wt)}},{key:"dc",value:function(e){return new my}},{key:"terminate",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gg=function(){function e(){ft(this,e)}return dt(e,[{key:"initialize",value:function(){var e=Ye(Je().mark((function e(t,n){var r=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Xm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hg.bind(null,this.syncEngine),e.next=12,vm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Cm}},{key:"createDatastore",value:function(e){var t,n=xy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new by(t));return function(e,t,n,r){return new Ty(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Xm(o.syncEngine,e,0)},a=Ay.V()?new Ay:new gy,new Py(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Bm(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qf(t),Ff("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Ry(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Ag=function(){function e(t){ft(this,e),this.observer=t,this.muted=!1}return dt(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):Lf("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kg=function(){function e(t,n,r,i){var a=this;ft(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Df.UNAUTHENTICATED,this.clientId=eh.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ff("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ff("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return dt(e,[{key:"getConfiguration",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new zf(Qf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ye(Je().mark((function n(){var r;return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=km(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ff("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,iy(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function _g(e,t){return xg.apply(this,arguments)}function xg(){return xg=Ye(Je().mark((function e(t,n){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Cg(t);case 3:return r=e.sent,Ff("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return dm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return dm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Cg(e){return Eg.apply(this,arguments)}function Eg(){return Eg=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ff("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wg(t,new mg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e){return Ig.apply(this,arguments)}function Ig(){return Ig=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ff("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_g(t,new gg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}function Tg(e){return Sg(e).then((function(e){return e.syncEngine}))}function Ng(e){return Pg.apply(this,arguments)}function Pg(){return Pg=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Um.bind(null,n.syncEngine),r.onUnlisten=zm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hf;return e.asyncQueue.enqueueAndForget(Ye(Je().mark((function i(){return Je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ag({next:function(a){t.enqueueAndForget((function(){return Im(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new zf(Qf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new zf(Qf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Om(Nd(n.path),a,{includeMetadataChanges:!0,Du:!0});return Em(e,o)},i.next=3,Ng(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Og(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hf;return e.asyncQueue.enqueueAndForget(Ye(Je().mark((function i(){return Je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ag({next:function(n){t.enqueueAndForget((function(){return Im(e,o)})),n.fromCache&&"server"===r.source?i.reject(new zf(Qf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Om(n,a,{includeMetadataChanges:!0,Du:!0});return Em(e,o)},i.next=3,Ng(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Rg=new Map;function Mg(e,t,n){if(!n)throw new zf(Qf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fg(e){if(!ch.isDocumentKey(e))throw new zf(Qf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lg(e){if(ch.isDocumentKey(e))throw new zf(Qf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Uf()}function Bg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zf(Qf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jg(e);throw new zf(Qf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ug(e,t){if(t<=0)throw new zf(Qf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vg=function(){function e(t){var n;if(ft(this,e),void 0===t.host){if(void 0!==t.ssl)throw new zf(Qf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zf(Qf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new zf(Qf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return dt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qg=function(){function e(t,n,r){ft(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1,t instanceof Uh?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zf(Qf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(e.options.projectId)}(t))}return dt(e,[{key:"app",get:function(){if(!this._app)throw new zf(Qf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new zf(Qf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kf;switch(e.type){case"gapi":var t=e.client;return Vf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Xf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new zf(Qf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Rg.get(e);t&&(Ff("ComponentProvider","Removing Datastore"),Rg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Qg=function(){function e(t,n,r){ft(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return dt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),zg=function(){function e(t,n,r){ft(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return dt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hg=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this,e,r,Nd(i)))._path=i,a.type="collection",a}return dt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qg(this.firestore,null,new ch(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zg);function Wg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),Mg("collection","path",t),e instanceof qg){var a=oh.fromString.apply(oh,[t].concat(r));return Lg(a),new Hg(e,null,a)}if(!(e instanceof Qg||e instanceof Hg))throw new zf(Qf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(oh.fromString.apply(oh,[t].concat(r)));return Lg(o),new Hg(e.firestore,null,o)}function Kg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),1===arguments.length&&(t=eh.I()),Mg("doc","path",t),e instanceof qg){var a=oh.fromString.apply(oh,[t].concat(r));return Fg(a),new Qg(e,null,new ch(a))}if(!(e instanceof Qg||e instanceof Hg))throw new zf(Qf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(oh.fromString.apply(oh,[t].concat(r)));return Fg(o),new Qg(e.firestore,e instanceof Hg?e.converter:null,new ch(o))}var Gg=function(){function e(){var t=this;ft(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Cy(this,"async_queue_retry"),this.Kc=function(){var e=_y();e&&Ff("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=_y();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return dt(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=_y();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Hf;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ye(Je().mark((function e(){var t=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),kh(e.t0)){e.next=12;break}throw e.t0;case 12:Ff("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Am.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Uf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ye(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=lt(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=lt(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Jg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=lt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Xg=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Gg,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return dt(n,[{key:"_terminate",value:function(){return this._firestoreClient||$g(this),this._firestoreClient.terminate()}}]),n}(qg);function Yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn();return zn(e,"firestore").getImmediate()}function Zg(e){return e._firestoreClient||$g(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $g(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Bh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new kg(e._authCredentials,e._appCheckCredentials,e._queue,r)}var eA=function(){function e(){ft(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new zf(Qf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uh(n)}return dt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tA=function(){function e(t){ft(this,e),this._byteString=t}return dt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ph.fromBase64String(t))}catch(t){throw new zf(Qf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ph.fromUint8Array(t))}}]),e}(),nA=dt((function e(t){ft(this,e),this._methodName=t})),rA=function(){function e(t,n){if(ft(this,e),!isFinite(t)||t<-90||t>90)throw new zf(Qf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new zf(Qf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return dt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return th(this._lat,e._lat)||th(this._long,e._long)}}]),e}(),iA=/^__.*__$/,aA=function(){function e(t,n,r){ft(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return dt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mp(e,this.data,this.fieldMask,t,this.fieldTransforms):new yp(e,this.data,t,this.fieldTransforms)}}]),e}(),oA=function(){function e(t,n,r){ft(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return dt(e,[{key:"toMutation",value:function(e,t){return new mp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uf()}}var uA=function(){function e(t,n,r,i,a,o){ft(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return dt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return IA(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(sA(this.Zc)&&iA.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),cA=function(){function e(t,n,r){ft(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||xy(t)}return dt(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uA({Zc:e,methodName:t,ca:n,path:uh.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function lA(e){var t=e._freezeSettings(),n=xy(e._databaseId);return new cA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);xA("Data must be an object, but it was:",o,r);var s,u,c=bA(r,o);if(a.merge)s=new Nh(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=lt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=CA(t,d,n);if(!o.contains(p))throw new zf(Qf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));TA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Nh(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new aA(new od(c),s,u)}var hA=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nA);function dA(e,t,n){return new uA({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var pA=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"_toFieldTransform",value:function(e){return new op(e.path,new Zd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nA),vA=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e)).ha=r,i}return dt(n,[{key:"_toFieldTransform",value:function(e){var t=dA(this,e,!0),n=this.ha.map((function(e){return wA(e,t)})),r=new $d(n);return new op(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nA),yA=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e)).ha=r,i}return dt(n,[{key:"_toFieldTransform",value:function(e){var t=dA(this,e,!0),n=this.ha.map((function(e){return wA(e,t)})),r=new tp(n);return new op(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nA),mA=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,e)).la=r,i}return dt(n,[{key:"_toFieldTransform",value:function(e){var t=new rp(e.wt,Kd(e.wt,this.la));return new op(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nA);function gA(e,t,n,r){var i=e.aa(1,t,n);xA("Data must be an object, but it was:",i,r);var a=[],o=od.empty();_h(r,(function(e,r){var s=SA(t,e,n);r=nn(r);var u=i.ia(s);if(r instanceof hA)a.push(s);else{var c=wA(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Nh(a);return new oA(o,s,i.fieldTransforms)}function AA(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[CA(t,r,n)],u=[i];if(a.length%2!=0)throw new zf(Qf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(CA(t,a[c])),u.push(a[c+1]);for(var l=[],f=od.empty(),h=s.length-1;h>=0;--h)if(!TA(l,s[h])){var d=s[h],p=u[h];p=nn(p);var v=o.ia(d);if(p instanceof hA)l.push(d);else{var y=wA(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Nh(l);return new oA(f,m,o.fieldTransforms)}function kA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wA(n,e.aa(r?4:3,t))}function wA(e,t){if(_A(e=nn(e)))return xA("Unsupported field value:",t,e),bA(e,t);if(e instanceof nA)return function(e,t){if(!sA(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=lt(e);try{for(a.s();!(n=a.n()).done;){var o=wA(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=nn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kd(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rh.fromDate(e);return{timestampValue:ev(t.wt,n)}}if(e instanceof rh){var r=new rh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ev(t.wt,r)}}if(e instanceof rA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tA)return{bytesValue:tv(t.wt,e._byteString)};if(e instanceof Qg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(jg(e)))}(e,t)}function bA(e,t){var n={};return xh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_h(e,(function(e,r){var i=wA(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _A(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rh||e instanceof rA||e instanceof tA||e instanceof Qg||e instanceof nA)}function xA(e,t,n){if(!_A(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jg(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function CA(e,t,n){if((t=nn(t))instanceof eA)return t._internalPath;if("string"==typeof t)return SA(e,t);throw IA("Field path arguments must be of type string or ",e,!1,void 0,n)}var EA=new RegExp("[~\\*/\\[\\]]");function SA(e,t,n){if(t.search(EA)>=0)throw IA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return pt(eA,he(t.split(".")))._internalPath}catch(r){throw IA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function IA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new zf(Qf.INVALID_ARGUMENT,s+e+u)}function TA(e,t){return e.some((function(e){return e.isEqual(t)}))}var NA=function(){function e(t,n,r,i,a){ft(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return dt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new PA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(DA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),PA=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"data",value:function(){return rt(tt(n.prototype),"data",this).call(this)}}]),n}(NA);function DA(e,t){return"string"==typeof t?SA(e,t):t instanceof eA?t._internalPath:t._delegate._internalPath}var OA=function(){function e(t,n){ft(this,e),this.hasPendingWrites=t,this.fromCache=n}return dt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),RA=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a,o,s){var u;return ft(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return dt(n,[{key:"exists",value:function(){return rt(tt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(DA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(NA),MA=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rt(tt(n.prototype),"data",this).call(this,e)}}]),n}(RA),FA=function(){function e(t,n,r,i){ft(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new OA(i.hasPendingWrites,i.fromCache),this.query=r}return dt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MA(n._firestore,n._userDataWriter,r.key,r,new OA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zf(Qf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new MA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uf()}}function jA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zf(Qf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var BA=dt((function e(){ft(this,e)}));function UA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var VA=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return dt(n,[{key:"_apply",value:function(e){var t=lA(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new zf(Qf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){WA(o,a);var u,c=[],l=lt(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(HA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=HA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||WA(o,a),s=kA(n,"where",o,"in"===a||"not-in"===a);var h=pd.create(i,a,s);return function(e,t){if(t.ht()){var n=Od(e);if(null!==n&&!n.isEqual(t.field))throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dd(e);null!==r&&KA(e,t.field,r)}var i=function(e,t){var n,r=lt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new zf(Qf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zf(Qf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new zg(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Id(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(BA);function qA(e,t,n){var r=t,i=DA("where",e);return new VA(i,r,n)}var QA=function(e){ot(n,e);var t=ct(n);function n(e,r,i){var a;return ft(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return dt(n,[{key:"_apply",value:function(e){return new zg(e.firestore,e.converter,Ld(e._query,this.ma,this.ga))}}]),n}(BA);function zA(e){return Ug("limit",e),new QA("limit",e,"F")}function HA(e,t,n){if("string"==typeof(n=nn(n))){if(""===n)throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rd(t)&&-1!==n.indexOf("/"))throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(oh.fromString(n));if(!ch.isDocumentKey(r))throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zh(e,new ch(r))}if(n instanceof Qg)return Zh(e,n._key);throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jg(n),"."))}function WA(e,t){if(!Array.isArray(e)||0===e.length)throw new zf(Qf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new zf(Qf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KA(e,t,n){if(!n.isEqual(t))throw new zf(Qf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var GA=function(){function e(){ft(this,e)}return dt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Uf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return _h(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rA(Rh(e.latitude),Rh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Lh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Oh(e);return new rh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=oh.fromString(e);Vf(Cv(n));var r=new Uh(n.get(1),n.get(3)),i=new ch(n.popFirst(5));return r.isEqual(t)||Lf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function JA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function XA(e){e=Bg(e,Qg);var t=Bg(e.firestore,Xg);return Dg(Zg(t),e._key).then((function(n){return ak(t,e,n)}))}var YA=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).firestore=e,r}return dt(n,[{key:"convertBytes",value:function(e){return new tA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qg(this.firestore,null,t)}}]),n}(GA);function ZA(e){e=Bg(e,zg);var t=Bg(e.firestore,Xg),n=Zg(t),r=new YA(t);return jA(e._query),Og(n,e._query).then((function(n){return new FA(t,r,e,n)}))}function $A(e,t,n){e=Bg(e,Qg);var r=Bg(e.firestore,Xg),i=JA(e.converter,t,n);return ik(r,[fA(lA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,up.none())])}function ek(e,t,n){e=Bg(e,Qg);for(var r=Bg(e.firestore,Xg),i=lA(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ik(r,[("string"==typeof(t=nn(t))||t instanceof eA?AA(i,"updateDoc",e._key,t,n,o):gA(i,"updateDoc",e._key,t)).toMutation(e._key,up.exists(!0))])}function tk(e){return ik(Bg(e.firestore,Xg),[new _p(e._key,up.none())])}function nk(e,t){var n=Bg(e.firestore,Xg),r=Kg(e),i=JA(e.converter,t);return ik(n,[fA(lA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,up.exists(!1))]).then((function(){return r}))}function rk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=nn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Jg(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Jg(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Qg)l=Bg(e.firestore,Xg),f=Nd(e._key.path),c={next:function(t){n[u]&&n[u](ak(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Bg(e,zg);l=Bg(p.firestore,Xg),f=p._query;var v=new YA(l);c={next:function(e){n[u]&&n[u](new FA(l,v,p,e))},error:n[u+1],complete:n[u+2]},jA(e._query)}return function(e,t,n,r){var i=new Ag(r),a=new Om(t,i,n);return e.asyncQueue.enqueueAndForget(Ye(Je().mark((function t(){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Em,t.next=3,Ng(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ye(Je().mark((function t(){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Im,t.next=3,Ng(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zg(l),f,h,c)}function ik(e,t){return function(e,t){var n=new Hf;return e.asyncQueue.enqueueAndForget(Ye(Je().mark((function r(){return Je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Wm,r.next=3,Tg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zg(e),t)}function ak(e,t,n){var r=n.docs.get(t._key),i=new YA(e);return new RA(e,i,t._key,r,new OA(n.hasPendingWrites,n.fromCache),t.converter)}function ok(){return new pA("serverTimestamp")}function sk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vA("arrayUnion",t)}function uk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yA("arrayRemove",t)}function ck(e){return new mA("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Of="9.9.3",Qn(new rn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Xg(i,new Gf(e.getProvider("auth-internal")),new Zf(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Yn(Pf,"3.4.14",e),Yn(Pf,"3.4.14","esm2017")}();var lk="firebasestorage.googleapis.com",fk=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this,hk(e),"Firebase Storage: ".concat(r," (").concat(hk(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(it(i),n.prototype),i}return dt(n,[{key:"_codeEquals",value:function(e){return hk(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Mt);function hk(e){return"storage/"+e}function dk(){return new fk("unknown","An unknown error occurred, please check the error payload for server response.")}function pk(){return new fk("canceled","User canceled the upload/download.")}function vk(){return new fk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function yk(e){return new fk("invalid-argument",e)}function mk(){return new fk("app-deleted","The Firebase app was deleted.")}function gk(e,t){return new fk("invalid-format","String does not match format '"+e+"': "+t)}function Ak(e){throw new fk("internal-error","Internal error: "+e)}var kk,wk=function(){function e(t,n){ft(this,e),this.bucket=t,this.path_=n}return dt(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new fk("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===lk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new fk("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),bk=function(){function e(t){ft(this,e),this.promise_=Promise.reject(t)}return dt(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function _k(e){return"string"===typeof e||e instanceof String}function xk(e){return Ck()&&e instanceof Blob}function Ck(){return"undefined"!==typeof Blob}function Ek(e,t,n,r){if(r<t)throw yk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw yk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Sk(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ik(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kk||(kk={}));var Tk=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;ft(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return dt(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=dk();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?mk():pk());else i(new fk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Nk(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Nk(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===kk.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Nk(o,r))}else{var s=r.getErrorCode()===kk.ABORT;t(!1,new Nk(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Nk=dt((function e(t,n,r){ft(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Pk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Dk(){for(var e=Pk(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Ck())return new Blob(n);throw new fk("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ok="raw",Rk="base64",Mk="base64url",Fk="data_url",Lk=dt((function e(t,n){ft(this,e),this.data=t,this.contentType=n||null}));function jk(e,t){switch(e){case Ok:return new Lk(Bk(t));case Rk:case Mk:return new Lk(Uk(e,t));case Fk:return new Lk(function(e){var t=new Vk(e);return t.base64?Uk(Rk,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw gk(Fk,"Malformed data URL.")}return Bk(t)}(t.rest)}(t),new Vk(t).contentType)}throw dk()}function Bk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Uk(e,t){switch(e){case Rk:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw gk(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Mk:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw gk(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw gk(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Vk=dt((function e(t){ft(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw gk(Fk,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var qk=function(){function e(t,n){ft(this,e);var r=0,i="";xk(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return dt(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(xk(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Ck()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Dk.apply(null,i))}var a=n.map((function(e){return _k(e)?jk(Ok,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Qk(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zk(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Hk(e,t){return t}var Wk=dt((function e(t,n,r,i){ft(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Hk})),Kk=null;function Gk(){if(Kk)return Kk;var e=[];e.push(new Wk("bucket")),e.push(new Wk("generation")),e.push(new Wk("metageneration")),e.push(new Wk("name","fullPath",!0));var t=new Wk("name");t.xform=function(e,t){return function(e){return!_k(e)||e.length<2?e:zk(e)}(t)},e.push(t);var n=new Wk("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Wk("timeCreated")),e.push(new Wk("updated")),e.push(new Wk("md5Hash",null,!0)),e.push(new Wk("cacheControl",null,!0)),e.push(new Wk("contentDisposition",null,!0)),e.push(new Wk("contentEncoding",null,!0)),e.push(new Wk("contentLanguage",null,!0)),e.push(new Wk("contentType",null,!0)),e.push(new Wk("metadata","customMetadata",!0)),Kk=e}function Jk(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new wk(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Xk(e,t,n){var r=Qk(t);return null===r?null:Jk(e,r,n)}function Yk(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Zk=dt((function e(t,n,r,i){ft(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $k(e){if(!e)throw dk()}function ew(e,t){return function(n,r){var i=Xk(e,r,t);return $k(null!==i),i}}function tw(e,t){return function(n,r){var i=Xk(e,r,t);return $k(null!==i),function(e,t,n,r){var i=Qk(t);if(null===i)return null;if(!_k(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Sk("/b/"+o(i)+"/o/"+o(a),n,r)+Ik({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function nw(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new fk("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new fk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new fk("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new fk("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function rw(e){var t=nw(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new fk("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function iw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function aw(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=iw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Yk(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=qk.getBlob(c,r,l);if(null===f)throw vk();var h={name:u.fullPath},d=Sk(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Zk(d,"POST",ew(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=nw(t),v}var ow=function(){function e(){var t=this;ft(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kk.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=kk.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=kk.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return dt(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ak("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ak("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ak("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ak("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ak("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),sw=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(ow);function uw(){return new sw}var cw=function(){function e(t,n){ft(this,e),this._service=t,this._location=n instanceof wk?n:wk.makeFromUrl(n,t.host)}return dt(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new wk(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return zk(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new wk(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new fk("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function lw(e,t,n){e._throwIfRoot("uploadBytes");var r=aw(e.storage,e._location,Gk(),new qk(t,!0),n);return e.storage.makeRequestWithTokens(r,uw).then((function(t){return{metadata:t,ref:e}}))}function fw(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Sk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Zk(r,"GET",tw(e,n),i);return a.errorHandler=rw(t),a}(e.storage,e._location,Gk());return e.storage.makeRequestWithTokens(t,uw).then((function(e){if(null===e)throw new fk("no-download-url","The given file does not have any download URLs.");return e}))}function hw(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new wk(e._location.bucket,n);return new cw(e.storage,r)}function dw(e,t){if(e instanceof yw){var n=e;if(null==n._bucket)throw new fk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new cw(n,n._bucket);return null!=t?dw(r,t):r}return void 0!==t?hw(e,t):e}function pw(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yw)return new cw(e,t);throw yk("To use ref(service, url), the first argument must be a Storage instance.")}return dw(e,t)}function vw(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:wk.makeFromBucketSpec(n,e)}var yw=function(){function e(t,n,r,i,a){ft(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=lk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?wk.makeFromBucketSpec(i,this._host):vw(this._host,this.app.options)}return dt(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=wk.makeFromBucketSpec(this._url,e):this._bucket=vw(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ye(Je().mark((function e(){var t,n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ye(Je().mark((function e(){var t,n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new cw(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new bk(mk());var a=function(e,t,n,r,i,a){var o=Ik(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Tk(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),mw="@firebase/storage",gw="0.9.9",Aw="storage";function kw(e,t,n){return lw(e=nn(e),t,n)}function ww(e){return fw(e=nn(e))}function bw(e,t){return pw(e=nn(e),t)}function _w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0,n=zn(e=nn(e),Aw),r=n.getImmediate({identifier:t});return r}function xw(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new yw(r,i,a,n,Gn)}Qn(new rn(Aw,xw,"PUBLIC").setMultipleInstances(!0)),Yn(mw,gw,""),Yn(mw,gw,"esm2017");var Cw="@firebase/database",Ew="0.13.5",Sw="";var Iw=function(){function e(t){ft(this,e),this.domStorage_=t,this.prefix_="firebase:"}return dt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ut(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Bt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Tw=function(){function e(){ft(this,e),this.cache_={},this.isInMemoryStorage=!0}return dt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return qt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Nw=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Iw(t)}}catch(n){}return new Tw},Pw=Nw("localStorage"),Dw=Nw("sessionStorage"),Ow=new vn("@firebase/database"),Rw=function(){var e=1;return function(){return e++}}(),Mw=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,At(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Yt;n.update(t);var r=n.digest();return bt.encodeByteArray(r)},Fw=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ut(r):r,t+=" "}return t},Lw=null,jw=!0,Bw=function(e,t){At(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ow.logLevel=un.VERBOSE,Lw=Ow.log.bind(Ow),t&&Dw.set("logging_enabled",!0)):"function"===typeof e?Lw=e:(Lw=null,Dw.remove("logging_enabled"))},Uw=function(){if(!0===jw&&(jw=!1,null===Lw&&!0===Dw.get("logging_enabled")&&Bw(!0)),Lw){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Fw.apply(null,t);Lw(r)}},Vw=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Uw.apply(void 0,[e].concat(n))}},qw=function(){var e="FIREBASE INTERNAL ERROR: "+Fw.apply(void 0,arguments);Ow.error(e)},Qw=function(){var e="FIREBASE FATAL ERROR: ".concat(Fw.apply(void 0,arguments));throw Ow.error(e),new Error(e)},zw=function(){var e="FIREBASE WARNING: "+Fw.apply(void 0,arguments);Ow.warn(e)},Hw=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ww="[MIN_NAME]",Kw="[MAX_NAME]",Gw=function(e,t){if(e===t)return 0;if(e===Ww||t===Kw)return-1;if(t===Ww||e===Kw)return 1;var n=ib(e),r=ib(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Jw=function(e,t){return e===t?0:e<t?-1:1},Xw=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ut(t))},Yw=function e(t){if("object"!==typeof t||null===t)return Ut(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ut(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Zw=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function $w(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var eb=function(e){At(!Hw(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var tb=new RegExp("^-?(0*)\\d{1,10}$"),nb=-2147483648,rb=2147483647,ib=function(e){if(tb.test(e)){var t=Number(e);if(t>=nb&&t<=rb)return t}return null},ab=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw zw("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ob=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},sb=function(){function e(t,n){var r=this;ft(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return dt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){zw('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ub=function(){function e(t,n,r){var i=this;ft(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return dt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Uw("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zw(e)}}]),e}(),cb=function(){function e(t){ft(this,e),this.accessToken=t}return dt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();cb.OWNER="owner";var lb="5",fb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hb="websocket",db="long_polling",pb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];ft(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pw.get("host:"+t)||this._host}return dt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pw.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function vb(e,t,n){var r;if(At("string"===typeof t,"typeof type must == string"),At("object"===typeof n,"typeof params must == object"),t===hb)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==db)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return $w(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var yb=function(){function e(){ft(this,e),this.counters_={}}return dt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Et(this.counters_)}}]),e}(),mb={},gb={};function Ab(e){var t=e.toString();return mb[t]||(mb[t]=new yb),mb[t]}var kb=function(){function e(t){ft(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return dt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&ab((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),wb="start",bb="close",_b=function(){function e(t,n,r,i,a,o,s){var u=this;ft(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vw(t),this.stats_=Ab(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),vb(n,db,e)}}return dt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Rt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new xb((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===wb)n.id=a,n.password=o;else{if(i!==bb)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=lb,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&fb.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ut(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=_t(t),r=Zw(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Rt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ut(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Rt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),xb=function(){function e(t,n,r,i){if(ft(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Rt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Rw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Uw("frame writing exception"),s.stack&&Uw(s.stack),Uw(s)}}}return dt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Rt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Uw("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Uw("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Cb=null;"undefined"!==typeof MozWebSocket?Cb=MozWebSocket:"undefined"!==typeof WebSocket&&(Cb=WebSocket);var Eb=function(){function e(t,n,r,i,a,o,s){ft(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vw(this.connId),this.stats_=Ab(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return dt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pw.set("previous_websocket_failure",!0);try{var r;if(Rt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(lb,"/").concat(Sw,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/insta-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Cb(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Pw.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Bt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(At(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ut(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Zw(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=lb,!Rt()&&"undefined"!==typeof location&&location.hostname&&fb.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),vb(e,hb,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cb&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Pw.isInMemoryStorage||!0===Pw.get("previous_websocket_failure")}}]),e}();Eb.responsesRequiredToBeHealthy=2,Eb.healthyTimeout=3e4;var Sb=function(){function e(t){ft(this,e),this.initTransports_(t)}return dt(e,[{key:"initTransports_",value:function(t){var n=Eb&&Eb.isAvailable(),r=n&&!Eb.previouslyFailed();if(t.webSocketOnly&&(n||zw("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Eb];else{var i,a=this.transports_=[],o=lt(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[_b,Eb]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Sb.globalTransportInitialized_=!1;var Ib=function(){function e(t,n,r,i,a,o,s,u,c,l){ft(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vw("c:"+this.id+":"),this.transportManager_=new Sb(n),this.log_("Connection created"),this.start_()}return dt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ob((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Xw("t",e),n=Xw("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Xw("t",e),n=Xw("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Xw("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qw("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qw("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),lb!==n&&zw("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ob((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ob((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Tb=function(){function e(){ft(this,e)}return dt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Nb=function(){function e(t){ft(this,e),this.allowedEvents_=t,this.listeners_={},At(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return dt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=he(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){At(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Pb=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Nt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return dt(n,[{key:"getInitialEvent",value:function(e){return At("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Nb),Db=function(){function e(t,n){if(ft(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return dt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ob(){return new Db("")}function Rb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mb(e){return e.pieces_.length-e.pieceNum_}function Fb(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Db(e.pieces_,t)}function Lb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Bb(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Db(t,0)}function Ub(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Db)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Db(n,0)}function Vb(e){return e.pieceNum_>=e.pieces_.length}function qb(e,t){var n=Rb(e),r=Rb(t);if(null===n)return t;if(n===r)return qb(Fb(e),Fb(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qb(e,t){for(var n=jb(e,0),r=jb(t,0),i=0;i<n.length&&i<r.length;i++){var a=Gw(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function zb(e,t){if(Mb(e)!==Mb(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Hb(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Mb(e)>Mb(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Wb=dt((function e(t,n){ft(this,e),this.errorPrefix_=n,this.parts_=jb(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=tn(this.parts_[r]);Kb(this)}));function Kb(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gb(e))}function Gb(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Jb=function(e){ot(n,e);var t=ct(n);function n(){var e,r,i;return ft(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return dt(n,[{key:"getInitialEvent",value:function(e){return At("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Nb),Xb=1e3,Yb=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a,o,s,u,c){var l;if(ft(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Vw("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Xb,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Jb.getInstance().on("visible",l.onVisible_,it(l)),-1===e.host.indexOf("fblocal")&&Pb.getInstance().on("online",l.onOnline_,it(l)),l}return dt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ut(i)),At(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new It,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),At(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),At(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Vt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Vt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),At(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ut(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qw("Unrecognized action received from server: "+Ut(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;At(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xb),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ye(Je().mark((function e(){var t,r,i,a,o,s,c,l,f,h,d,p,v,y,m=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},f=function(e){At(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=u(d,2),v=p[0],y=p[1],s?Uw("getToken() completed but was canceled"):(Uw("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new Ib(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){zw(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&zw(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Uw("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Uw("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zt(this.interruptReasons_)&&(this.reconnectDelay_=Xb,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Yw(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Db(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Uw("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Uw("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=lt(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=lt(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Rt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Sw.replace(/\./g,"-")]=1,Nt()?e["framework.cordova"]=1:Dt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Pb.getInstance().currentlyOnline();return zt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&qt(e,"w")){var n=Qt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();zw("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Tb);Yb.nextPersistentConnectionId_=0,Yb.nextConnectionId_=0;var Zb,$b=function(){function e(t,n){ft(this,e),this.name=t,this.node=n}return dt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),e_=function(){function e(){ft(this,e)}return dt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new $b(Ww,e),r=new $b(Ww,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return $b.MIN}}]),e}(),t_=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"compare",value:function(e,t){return Gw(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw kt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return $b.MIN}},{key:"maxPost",value:function(){return new $b(Kw,Zb)}},{key:"makePost",value:function(e,t){return At("string"===typeof e,"KeyIndex indexValue must always be a string."),new $b(e,Zb)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Zb},set:function(e){Zb=e}}]),n}(e_),n_=new t_,r_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ft(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return dt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),i_=function(){function e(t,n,r,i,a){ft(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:s_.EMPTY_NODE,this.right=null!=a?a:s_.EMPTY_NODE}return dt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return s_.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return s_.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();i_.RED=!0,i_.BLACK=!1;var a_,o_=function(){function e(){ft(this,e)}return dt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new i_(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),s_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;ft(this,e),this.comparator_=t,this.root_=n}return dt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,i_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,i_.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new r_(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new r_(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new r_(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new r_(this.root_,null,this.comparator_,!0,e)}}]),e}();function u_(e,t){return Gw(e.name,t.name)}function c_(e,t){return Gw(e,t)}s_.EMPTY_NODE=new o_;var l_,f_,h_,d_=function(e){return"number"===typeof e?"number:"+eb(e):"string:"+e},p_=function(e){if(e.isLeafNode()){var t=e.val();At("string"===typeof t||"number"===typeof t||"object"===typeof t&&qt(t,".sv"),"Priority must be a string or number.")}else At(e===a_||e.isEmpty(),"priority of unexpected type.");At(e===a_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},v_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;ft(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,At(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),p_(this.priorityNode_)}return dt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Vb(t)?this:".priority"===Rb(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Rb(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(At(".priority"!==r||1===Mb(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fb(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+d_(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?eb(this.value_):this.value_,this.lazyHash_=Mw(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(At(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return At(i>=0,"Unknown leaf type: "+n),At(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return l_},set:function(e){l_=e}}]),e}();v_.VALUE_TYPE_ORDER=["object","boolean","number","string"];var y_,m_,g_=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Gw(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return $b.MIN}},{key:"maxPost",value:function(){return new $b(Kw,new v_("[PRIORITY-POST]",h_))}},{key:"makePost",value:function(e,t){var n=f_(e);return new $b(t,new v_("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(e_),A_=new g_,k_=Math.log(2),w_=function(){function e(t){ft(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/k_,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return dt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),b_=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new i_(o,a.node,i_.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new i_(o,a.node,i_.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new i_(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,i_.BLACK):(s(f,i_.BLACK),s(f,i_.RED))}return a}(new w_(e.length));return new s_(r||t,a)},__={},x_=function(){function e(t,n){ft(this,e),this.indexes_=t,this.indexSet_=n}return dt(e,[{key:"get",value:function(e){var t=Qt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof s_?t:null}},{key:"hasIndex",value:function(e){return qt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){At(t!==n_,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator($b.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?b_(i,t.getCompare()):__;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Ht(this.indexes_,(function(e,i){var a=Qt(r.indexSet_,i);if(At(a,"Missing index implementation for "+i),e===__){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator($b.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),b_(o,a.getCompare())}return __}var c=n.get(t.name),l=e;return c&&(l=l.remove(new $b(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ht(this.indexes_,(function(e){if(e===__)return e;var r=n.get(t.name);return r?e.remove(new $b(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return At(__&&A_,"ChildrenNode.ts has not been loaded"),y_=y_||new e({".priority":__},{".priority":A_})}}]),e}(),C_=function(){function e(t,n,r){ft(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&p_(this.priorityNode_),this.children_.isEmpty()&&At(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return dt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||m_}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?m_:t}},{key:"getChild",value:function(e){var t=Rb(e);return null===t?this:this.getImmediateChild(t).getChild(Fb(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(At(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new $b(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?m_:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Rb(e);if(null===n)return t;At(".priority"!==Rb(e)||1===Mb(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Fb(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(A_,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+d_(this.getPriority().val())+":"),this.forEachChild(A_,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Mw(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new $b(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new $b(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new $b(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,$b.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,$b.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===E_?-1:0}},{key:"withIndex",value:function(t){if(t===n_||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===n_||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(A_),r=t.getIterator(A_),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===n_?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return m_||(m_=new e(new s_(c_),null,x_.Default))}}]),e}();C_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var E_=new(function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this,new s_(c_),C_.EMPTY_NODE,x_.Default)}return dt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return C_.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(C_));Object.defineProperties($b,{MIN:{value:new $b(Ww,C_.EMPTY_NODE)},MAX:{value:new $b(Kw,E_)}}),t_.__EMPTY_NODE=C_.EMPTY_NODE,v_.__childrenNodeConstructor=C_,a_=E_,function(e){h_=e}(E_);function S_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return C_.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),At(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new v_(n,S_(t))}if(e instanceof Array){var r=C_.EMPTY_NODE;return $w(e,(function(t,n){if(qt(e,t)&&"."!==t.substring(0,1)){var i=S_(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(S_(t))}var i=[],a=!1,o=e;if($w(o,(function(e,t){if("."!==e.substring(0,1)){var n=S_(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new $b(e,n)))}})),0===i.length)return C_.EMPTY_NODE;var s=b_(i,u_,(function(e){return e.name}),c_);if(a){var u=b_(i,A_.getCompare());return new C_(s,S_(t),new x_({".priority":u},{".priority":A_}))}return new C_(s,S_(t),x_.Default)}!function(e){f_=e}(S_);var I_=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this)).indexPath_=e,At(!Vb(e)&&".priority"!==Rb(e),"Can't create PathIndex with empty path or .priority key"),r}return dt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Gw(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=S_(e),r=C_.EMPTY_NODE.updateChild(this.indexPath_,n);return new $b(t,r)}},{key:"maxPost",value:function(){var e=C_.EMPTY_NODE.updateChild(this.indexPath_,E_);return new $b(Kw,e)}},{key:"toString",value:function(){return jb(this.indexPath_,0).join("/")}}]),n}(e_),T_=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Gw(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return $b.MIN}},{key:"maxPost",value:function(){return $b.MAX}},{key:"makePost",value:function(e,t){var n=S_(e);return new $b(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(e_),N_=new T_,P_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D_=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=P_.charAt(n%64),n=Math.floor(n/64);At(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=P_.charAt(t[r]);return At(20===o.length,"nextPushId: Length should be 20."),o}}();function O_(e){return{type:"value",snapshotNode:e}}function R_(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function M_(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function F_(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var L_=function(){function e(t){ft(this,e),this.index_=t}return dt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){At(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(M_(t,o)):At(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(R_(t,n)):a.trackChildChange(F_(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(A_,(function(e,r){t.hasChild(e)||n.trackChildChange(M_(e,r))})),t.isLeafNode()||t.forEachChild(A_,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(F_(t,r,i))}else n.trackChildChange(R_(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?C_.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),j_=function(){function e(t){ft(this,e),this.indexedFilter_=new L_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return dt(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new $b(t,n))||(n=C_.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=C_.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(C_.EMPTY_NODE);var i=this;return t.forEachChild(A_,(function(e,t){i.matches(new $b(e,t))||(r=r.updateImmediateChild(e,C_.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),B_=function(){function e(t){ft(this,e),this.rangedFilter_=new j_(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return dt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new $b(t,n))||(n=C_.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=C_.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=C_.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(C_.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,C_.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;At(s.numChildren()===this.limit_,"");var u=new $b(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(F_(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(M_(t,f));var p=s.updateImmediateChild(t,C_.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(R_(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(M_(c.name,c.node)),i.trackChildChange(R_(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,C_.EMPTY_NODE)):e}}]),e}(),U_=function(){function e(){ft(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=A_}return dt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return At(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return At(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ww}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return At(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return At(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kw}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return At(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===A_}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function V_(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function q_(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Q_(e,t){var n=e.copy();return n.index_=t,n}function z_(e){var t,n={};return e.isDefault()||(e.index_===A_?t="$priority":e.index_===N_?t="$value":e.index_===n_?t="$key":(At(e.index_ instanceof I_,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ut(t),e.startSet_&&(n.startAt=Ut(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ut(e.indexStartName_))),e.endSet_&&(n.endAt=Ut(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ut(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function H_(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==A_&&(t.i=e.index_.toString()),t}var W_=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a){var o;return ft(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Vw("p:rest:"),o.listens_={},o}return dt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=z_(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Qt(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=z_(e._queryParams),r=e._path.toString(),i=new It;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Gt(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Bt(l.responseText)}catch(n){zw("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&zw("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(At(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Tb),K_=function(){function e(){ft(this,e),this.rootNode_=C_.EMPTY_NODE}return dt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function G_(){return{value:null,children:new Map}}function J_(e,t,n){if(Vb(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Rb(t);e.children.has(r)||e.children.set(r,G_()),J_(e.children.get(r),t=Fb(t),n)}}function X_(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){X_(r,new Db(t.toString()+"/"+e),n)}))}var Y_,Z_=function(){function e(t){ft(this,e),this.collection_=t,this.last_=null}return dt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$w(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),$_=function(){function e(t,n){ft(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Z_(t);var r=1e4+2e4*Math.random();ob(this.reportStats_.bind(this),Math.floor(r))}return dt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;$w(t,(function(t,i){i>0&&qt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ob(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ex(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Y_||(Y_={}));var tx,nx=function(){function e(t,n,r){ft(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Y_.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return dt(e,[{key:"operationForChild",value:function(t){if(Vb(this.path)){if(null!=this.affectedTree.value)return At(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Db(t));return new e(Ob(),n,this.revert)}return At(Rb(this.path)===t,"operationForChild called for unrelated child."),new e(Fb(this.path),this.affectedTree,this.revert)}}]),e}(),rx=function(){function e(t,n){ft(this,e),this.source=t,this.path=n,this.type=Y_.LISTEN_COMPLETE}return dt(e,[{key:"operationForChild",value:function(t){return Vb(this.path)?new e(this.source,Ob()):new e(this.source,Fb(this.path))}}]),e}(),ix=function(){function e(t,n,r){ft(this,e),this.source=t,this.path=n,this.snap=r,this.type=Y_.OVERWRITE}return dt(e,[{key:"operationForChild",value:function(t){return Vb(this.path)?new e(this.source,Ob(),this.snap.getImmediateChild(t)):new e(this.source,Fb(this.path),this.snap)}}]),e}(),ax=function(){function e(t,n,r){ft(this,e),this.source=t,this.path=n,this.children=r,this.type=Y_.MERGE}return dt(e,[{key:"operationForChild",value:function(t){if(Vb(this.path)){var n=this.children.subtree(new Db(t));return n.isEmpty()?null:n.value?new ix(this.source,Ob(),n.value):new e(this.source,Ob(),n)}return At(Rb(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fb(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),ox=function(){function e(t,n,r){ft(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return dt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Vb(e))return this.isFullyInitialized()&&!this.filtered_;var t=Rb(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),sx=dt((function e(t){ft(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function ux(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw kt("Should only compare child_ events.");var r=new $b(t.childName,t.snapshotNode),i=new $b(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function cx(e,t){return{eventCache:e,serverCache:t}}function lx(e,t,n,r){return cx(new ox(t,n,r),e.serverCache)}function fx(e,t,n,r){return cx(e.eventCache,new ox(t,n,r))}function hx(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function dx(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var px=function(){return tx||(tx=new s_(Jw)),tx},vx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:px();ft(this,e),this.value=t,this.children=n}return dt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ob(),value:this.value};if(Vb(e))return null;var n=Rb(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Fb(e),t);return null!=i?{path:Ub(new Db(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Vb(t))return this;var n=Rb(t),r=this.children.get(n);return null!==r?r.subtree(Fb(t)):new e(null)}},{key:"set",value:function(t,n){if(Vb(t))return new e(n,this.children);var r=Rb(t),i=(this.children.get(r)||new e(null)).set(Fb(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Vb(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Rb(t),r=this.children.get(n);if(r){var i,a=r.remove(Fb(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Vb(e))return this.value;var t=Rb(e),n=this.children.get(t);return n?n.get(Fb(e)):null}},{key:"setTree",value:function(t,n){if(Vb(t))return n;var r,i=Rb(t),a=(this.children.get(i)||new e(null)).setTree(Fb(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ob(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ub(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ob(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Vb(e))return null;var i=Rb(e),a=this.children.get(i);return a?a.findOnPath_(Fb(e),Ub(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ob(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Vb(t))return this;this.value&&r(n,this.value);var i=Rb(t),a=this.children.get(i);return a?a.foreachOnPath_(Fb(t),Ub(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ob(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ub(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return $w(t,(function(e,t){n=n.set(new Db(e),t)})),n}}]),e}(),yx=function(){function e(t){ft(this,e),this.writeTree_=t}return dt(e,null,[{key:"empty",value:function(){return new e(new vx(null))}}]),e}();function mx(e,t,n){if(Vb(t))return new yx(new vx(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qb(i,t);return a=a.updateChild(o,n),new yx(e.writeTree_.set(i,a))}var s=new vx(n),u=e.writeTree_.setTree(t,s);return new yx(u)}function gx(e,t,n){var r=e;return $w(n,(function(e,n){r=mx(r,Ub(t,e),n)})),r}function Ax(e,t){if(Vb(t))return yx.empty();var n=e.writeTree_.setTree(t,new vx(null));return new yx(n)}function kx(e,t){return null!=wx(e,t)}function wx(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qb(n.path,t)):null}function bx(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(A_,(function(e,n){t.push(new $b(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new $b(e,n.value))})),t}function _x(e,t){if(Vb(t))return e;var n=wx(e,t);return new yx(null!=n?new vx(n):e.writeTree_.subtree(t))}function xx(e){return e.writeTree_.isEmpty()}function Cx(e,t){return Ex(Ob(),e.writeTree_,t)}function Ex(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(At(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ex(Ub(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ub(e,".priority"),r)),n}function Sx(e,t){return Vx(t,e)}function Ix(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Tx(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));At(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Nx(s,r.path)?i=!1:Hb(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Dx(e.allWrites,Px,Ob()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ax(e.visibleWrites,r.path):$w(r.children,(function(t){e.visibleWrites=Ax(e.visibleWrites,Ub(r.path,t))}));return!0}return!1}function Nx(e,t){if(e.snap)return Hb(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Hb(Ub(e.path,n),t))return!0;return!1}function Px(e){return e.visible}function Dx(e,t,n){for(var r=yx.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Hb(n,o)?r=mx(r,s=qb(n,o),a.snap):Hb(o,n)&&(s=qb(o,n),r=mx(r,Ob(),a.snap.getChild(s)));else{if(!a.children)throw kt("WriteRecord should have .snap or .children");if(Hb(n,o))r=gx(r,s=qb(n,o),a.children);else if(Hb(o,n))if(Vb(s=qb(o,n)))r=gx(r,Ob(),a.children);else{var u=Qt(a.children,Rb(s));if(u){var c=u.getChild(Fb(s));r=mx(r,Ob(),c)}}}}}return r}function Ox(e,t,n,r,i){if(r||i){var a=_x(e.visibleWrites,t);if(!i&&xx(a))return n;if(i||null!=n||kx(a,Ob())){return Cx(Dx(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Hb(e.path,t)||Hb(t,e.path))}),t),n||C_.EMPTY_NODE)}return null}var o=wx(e.visibleWrites,t);if(null!=o)return o;var s=_x(e.visibleWrites,t);return xx(s)?n:null!=n||kx(s,Ob())?Cx(s,n||C_.EMPTY_NODE):null}function Rx(e,t,n,r){return Ox(e.writeTree,e.treePath,t,n,r)}function Mx(e,t){return function(e,t,n){var r=C_.EMPTY_NODE,i=wx(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(A_,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=_x(e.visibleWrites,t);return n.forEachChild(A_,(function(e,t){var n=Cx(_x(a,new Db(e)),t);r=r.updateImmediateChild(e,n)})),bx(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return bx(_x(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Fx(e,t,n,r){return function(e,t,n,r,i){At(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ub(t,n);if(kx(e.visibleWrites,a))return null;var o=_x(e.visibleWrites,a);return xx(o)?i.getChild(n):Cx(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Lx(e,t){return function(e,t){return wx(e.visibleWrites,t)}(e.writeTree,Ub(e.treePath,t))}function jx(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=_x(e.visibleWrites,t),c=wx(u,Ob());if(null!=c)s=c;else{if(null==n)return[];s=Cx(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Bx(e,t,n){return function(e,t,n,r){var i=Ub(t,n),a=wx(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Cx(_x(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ux(e,t){return Vx(Ub(e.treePath,t),e.writeTree)}function Vx(e,t){return{treePath:e,writeTree:t}}var qx=function(){function e(){ft(this,e),this.changeMap=new Map}return dt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;At("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),At(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,F_(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,M_(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,R_(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw kt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,F_(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Qx=new(function(){function e(){ft(this,e)}return dt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),zx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ft(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return dt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ox(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bx(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dx(this.viewCache_),i=jx(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Hx(e,t,n,r,i){var a,o,s=new qx;if(n.type===Y_.OVERWRITE){var u=n;u.source.fromUser?a=Gx(e,t,u.path,u.snap,r,i,s):(At(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Vb(u.path),a=Kx(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Y_.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Ub(n,r);Jx(t,Rb(c))&&(s=Gx(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Ub(n,r);Jx(t,Rb(c))||(s=Gx(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(At(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Yx(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Y_.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Lx(r,n))return t;var s,u=new zx(r,t,i),c=t.eventCache.getNode();if(Vb(n)||".priority"===Rb(n)){var l;if(t.serverCache.isFullyInitialized())l=Rx(r,dx(t));else{var f=t.serverCache.getNode();At(f instanceof C_,"serverChildren would be complete if leaf node"),l=Mx(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Rb(n),d=Bx(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Fb(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,C_.EMPTY_NODE,Fb(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Rx(r,dx(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Lx(r,Ob()),lx(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Lx(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Vb(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Kx(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Vb(n)){var c=new vx(null);return u.getNode().forEachChild(n_,(function(e,t){c=c.set(new Db(e),t)})),Yx(e,t,n,c,i,a,s,o)}return t}var l=new vx(null);return r.foreach((function(e,t){var r=Ub(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Yx(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Y_.LISTEN_COMPLETE)throw kt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=fx(t,a.getNode(),a.isFullyInitialized()||Vb(n),a.isFiltered());return Wx(e,o,n,r,Qx,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=hx(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(O_(hx(t)))}}(t,a,f),{viewCache:a,changes:f}}function Wx(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Lx(r,n))return t;if(Vb(n))if(At(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=dx(t),l=Mx(r,c instanceof C_?c:C_.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Rx(r,dx(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Rb(n);if(".priority"===h){At(1===Mb(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Fx(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Fb(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Fx(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Bx(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return lx(t,o,u.isFullyInitialized()||Vb(n),e.filter.filtersNodes())}function Kx(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Vb(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Rb(n);if(!c.isCompleteForPath(n)&&Mb(n)>1)return t;var d=Fb(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Qx,null)}var v=fx(t,u,c.isFullyInitialized()||Vb(n),l.filtersNodes());return Wx(e,v,n,i,new zx(i,v,a),s)}function Gx(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new zx(i,t,a);if(Vb(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=lx(t,u,!0,e.filter.filtersNodes());else{var f=Rb(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=lx(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Fb(n),p=c.getNode().getImmediateChild(f);if(Vb(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Lb(d)&&v.getChild(Bb(d)).isEmpty()?v:v.updateChild(d,r):C_.EMPTY_NODE}if(p.equals(h))s=t;else s=lx(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Jx(e,t){return e.eventCache.isCompleteForChild(t)}function Xx(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Yx(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Vb(n)?r:new vx(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Xx(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kx(e,c,new Db(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=Xx(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kx(e,c,new Db(n),f,i,a,o,s)}})),c}var Zx,$x=function(){function e(t,n){ft(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new L_(i.getIndex()),o=(r=i).loadsAllData()?new L_(r.getIndex()):r.hasLimit()?new B_(r):new j_(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(C_.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(C_.EMPTY_NODE,u.getNode(),null),f=new ox(c,s.isFullyInitialized(),a.filtersNodes()),h=new ox(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=cx(h,f),this.eventGenerator_=new sx(this.query_)}return dt(e,[{key:"query",get:function(){return this.query_}}]),e}();function eC(e,t){var n=dx(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Vb(t)&&!n.getImmediateChild(Rb(t)).isEmpty())?n.getChild(t):null}function tC(e){return 0===e.eventRegistrations_.length}function nC(e,t,n){var r=[];if(n){At(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function rC(e,t,n,r){t.type===Y_.MERGE&&null!==t.source.queryId&&(At(dx(e.viewCache_),"We should always have a full cache before handling merges"),At(hx(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Hx(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,At(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),At(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),At(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,iC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iC(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ux(e,i,"child_removed",t,r,n),ux(e,i,"child_added",t,r,n),ux(e,i,"child_moved",a,r,n),ux(e,i,"child_changed",t,r,n),ux(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var aC,oC=dt((function e(){ft(this,e),this.views=new Map}));function sC(e){return 0===e.views.size}function uC(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return At(null!=a,"SyncTree gave us an op for an invalid query."),rC(a,t,n,r)}var o,s=[],u=lt(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(rC(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function cC(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Rx(n,i?r:null),u=!1;s?u=!0:r instanceof C_?(s=Mx(n,r),u=!1):(s=C_.EMPTY_NODE,u=!1);var c=cx(new ox(s,u,!1),new ox(r,i,!1));return new $x(t,c)}return o}function lC(e,t,n,r,i,a){var o=cC(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(A_,(function(e,t){r.push(R_(e,t))})),n.isFullyInitialized()&&r.push(O_(n.getNode())),iC(e,r,n.getNode(),t)}(o,n)}function fC(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=yC(e);if("default"===i){var c,l=lt(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];o=o.concat(nC(d,n,r)),tC(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(nC(p,n,r)),tC(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!yC(e)&&a.push(new(At(Zx,"Reference.ts has not been loaded"),Zx)(t._repo,t._path)),{removed:a,events:o}}function hC(e){var t,n=[],r=lt(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function dC(e,t){var n,r=null,i=lt(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||eC(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function pC(e,t){if(t._queryParams.loadsAllData())return mC(e);var n=t._queryIdentifier;return e.views.get(n)}function vC(e,t){return null!=pC(e,t)}function yC(e){return null!=mC(e)}function mC(e){var t,n=lt(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var gC=1,AC=dt((function e(t){ft(this,e),this.listenProvider_=t,this.syncPointTree_=new vx(null),this.pendingWriteTree_={visibleWrites:yx.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function kC(e,t,n,r,i){return function(e,t,n,r,i){At(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=mx(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?TC(e,new ix({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function wC(e,t,n,r){!function(e,t,n,r){At(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=gx(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=vx.fromObject(n);return TC(e,new ax({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function bC(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ix(e.pendingWriteTree_,t),i=Tx(e.pendingWriteTree_,t);if(i){var a=new vx(null);return null!=r.snap?a=a.set(Ob(),!0):$w(r.children,(function(e){a=a.set(new Db(e),!0)})),TC(e,new nx(r.path,a,n))}return[]}function _C(e,t,n){return TC(e,new ix({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xC(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||vC(o,t))){var u=fC(o,t,n,r);sC(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return yC(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=jC(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=DC(e,v);e.listenProvider_.startListening(BC(y),OC(e,y),m.hashFn,m.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(BC(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(RC(t));e.listenProvider_.stopListening(BC(t),n)}))}UC(e,c)}return s}function CC(e,t,n,r){var i=MC(e,r);if(null!=i){var a=FC(i),o=a.path,s=a.queryId,u=qb(o,t);return LC(e,o,new ix(ex(s),u,n))}return[]}function EC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=qb(e,i);a=a||dC(t,n),o=o||yC(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||yC(u),a=a||dC(u,Ob())):(u=new oC,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=C_.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=dC(t,Ob());n&&(a=a.updateImmediateChild(e,n))}))}var l=vC(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=RC(t);At(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=VC();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=Sx(e.pendingWriteTree_,i),p=lC(u,t,n,d,a,s);if(!l&&!o&&!r){var v=pC(u,t);p=p.concat(qC(e,t,v))}return p}function SC(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=dC(n,qb(e,t));if(r)return r}));return Ox(r,t,i,n,!0)}function IC(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=qb(e,n);r=r||dC(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||dC(i,Ob()):(i=new oC,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new ox(r,!0,!1):null;return function(e){return hx(e.viewCache_)}(cC(i,t,Sx(e.pendingWriteTree_,t._path),a?o.getNode():C_.EMPTY_NODE,a))}function TC(e,t){return NC(t,e.syncPointTree_,null,Sx(e.pendingWriteTree_,Ob()))}function NC(e,t,n,r){if(Vb(e.path))return PC(e,t,n,r);var i=t.get(Ob());null==n&&null!=i&&(n=dC(i,Ob()));var a=[],o=Rb(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Ux(r,o);a=a.concat(NC(s,u,c,l))}return i&&(a=a.concat(uC(i,e,r,n))),a}function PC(e,t,n,r){var i=t.get(Ob());null==n&&null!=i&&(n=dC(i,Ob()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Ux(r,t),u=e.operationForChild(t);u&&(a=a.concat(PC(u,i,o,s)))})),i&&(a=a.concat(uC(i,e,r,n))),a}function DC(e,t){var n=t.query,r=OC(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||C_.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=MC(e,n);if(r){var i=FC(r),a=i.path,o=i.queryId,s=qb(a,t);return LC(e,a,new rx(ex(o),s))}return[]}(e,n._path,r):function(e,t){return TC(e,new rx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return xC(e,n,null,i)}}}function OC(e,t){var n=RC(t);return e.queryToTagMap.get(n)}function RC(e){return e._path.toString()+"$"+e._queryIdentifier}function MC(e,t){return e.tagToQueryMap.get(t)}function FC(e){var t=e.indexOf("$");return At(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Db(e.substr(0,t))}}function LC(e,t,n){var r=e.syncPointTree_.get(t);return At(r,"Missing sync point for query tag that we're tracking"),uC(r,n,Sx(e.pendingWriteTree_,t),null)}function jC(e){return e.fold((function(e,t,n){if(t&&yC(t))return[mC(t)];var r=[];return t&&(r=hC(t)),$w(n,(function(e,t){r=r.concat(t)})),r}))}function BC(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(At(aC,"Reference.ts has not been loaded"),aC)(e._repo,e._path):e}function UC(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=RC(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function VC(){return gC++}function qC(e,t,n){var r=t._path,i=OC(e,t),a=DC(e,n),o=e.listenProvider_.startListening(BC(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)At(!yC(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Vb(e)&&t&&yC(t))return[mC(t).query];var r=[];return t&&(r=r.concat(hC(t).map((function(e){return e.query})))),$w(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(BC(l),OC(e,l))}return o}var QC=function(){function e(t){ft(this,e),this.node_=t}return dt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),zC=function(){function e(t,n){ft(this,e),this.syncTree_=t,this.path_=n}return dt(e,[{key:"getImmediateChild",value:function(t){var n=Ub(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return SC(this.syncTree_,this.path_)}}]),e}(),HC=function(e,t,n){return e&&"object"===typeof e?(At(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?WC(e[".sv"],t,n):"object"===typeof e[".sv"]?KC(e[".sv"],t):void At(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},WC=function(e,t,n){if("timestamp"===e)return n.timestamp;At(!1,"Unexpected server value: "+e)},KC=function(e,t,n){e.hasOwnProperty("increment")||At(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&At(!1,"Unexpected increment value: "+r);var i=t.node();if(At(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},GC=function(e,t,n,r){return XC(t,new zC(n,e),r)},JC=function(e,t,n){return XC(e,new QC(t),n)};function XC(e,t,n){var r,i=e.getPriority().val(),a=HC(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=HC(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new v_(s,S_(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new v_(a))),u.forEachChild(A_,(function(e,i){var a=XC(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var YC=dt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};ft(this,e),this.name=t,this.parent=n,this.node=r}));function ZC(e,t){for(var n=t instanceof Db?t:new Db(t),r=e,i=Rb(n);null!==i;){var a=Qt(r.node.children,i)||{children:{},childCount:0};r=new YC(i,r,a),i=Rb(n=Fb(n))}return r}function $C(e){return e.node.value}function eE(e,t){e.node.value=t,aE(e)}function tE(e){return e.node.childCount>0}function nE(e,t){$w(e.node.children,(function(n,r){t(new YC(n,e,r))}))}function rE(e,t,n,r){n&&!r&&t(e),nE(e,(function(e){rE(e,t,!0,r)})),n&&r&&t(e)}function iE(e){return new Db(null===e.parent?e.name:iE(e.parent)+"/"+e.name)}function aE(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===$C(e)&&!tE(e)}(n),i=qt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,aE(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,aE(e))}(e.parent,e.name,e)}var oE=/[\[\].#$\/\u0000-\u001F\u007F]/,sE=/[\[\].#$\u0000-\u001F\u007F]/,uE=10485760,cE=function(e){return"string"===typeof e&&0!==e.length&&!oE.test(e)},lE=function(e){return"string"===typeof e&&0!==e.length&&!sE.test(e)},fE=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Hw(e)||e&&"object"===typeof e&&qt(e,".sv")},hE=function(e,t,n,r){r&&void 0===t||dE(en(e,"value"),t,n)},dE=function e(t,n,r){var i=r instanceof Db?new Wb(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Gb(i));if("function"===typeof n)throw new Error(t+"contains a function "+Gb(i)+" with contents = "+n.toString());if(Hw(n))throw new Error(t+"contains "+n.toString()+" "+Gb(i));if("string"===typeof n&&n.length>uE/3&&tn(n)>uE)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Gb(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if($w(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!cE(n)))throw new Error(t+" contains an invalid key ("+n+") "+Gb(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=tn(t),Kb(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=tn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Gb(i)+" in addition to actual children.")}},pE=function(e,t,n,r){if(!r||void 0!==t){var i=en(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];$w(t,(function(e,t){var r=new Db(e);if(dE(i,t,Ub(n,r)),".priority"===Lb(r)&&!fE(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=jb(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!cE(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Qb);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Hb(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},vE=function(e,t,n,r){if((!r||void 0!==n)&&!cE(n))throw new Error(en(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yE=function(e,t,n,r){if((!r||void 0!==n)&&!lE(n))throw new Error(en(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mE=function(e,t){if(".info"===Rb(t))throw new Error(e+" failed = Can't modify data under /.info/")},gE=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!cE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lE(e)}(n))throw new Error(en(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},AE=dt((function e(){ft(this,e),this.eventLists_=[],this.recursionDepth_=0}));function kE(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||zb(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function wE(e,t,n){kE(e,n),_E(e,(function(e){return zb(e,t)}))}function bE(e,t,n){kE(e,n),_E(e,(function(e){return Hb(e,t)||Hb(t,e)}))}function _E(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(xE(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function xE(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Lw&&Uw("event: "+n.toString()),ab(r)}}}var CE="repo_interrupt",EE=function(){function e(t,n,r,i){ft(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=G_(),this.transactionQueueTree_=new YC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return dt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function SE(e,t,n){if(e.stats_=Ab(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new W_(e.repoInfo_,(function(t,n,r,i){NE(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return PE(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yb(e.repoInfo_,t,(function(t,n,r,i){NE(e,t,n,r,i)}),(function(t){PE(e,t)}),(function(t){!function(e,t){$w(t,(function(t,n){DE(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return gb[n]||(gb[n]=t()),gb[n]}(e.repoInfo_,(function(){return new $_(e.stats_,e.server_)})),e.infoData_=new K_,e.infoSyncTree_=new AC({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=_C(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),DE(e,"connected",!1),e.serverSyncTree_=new AC({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);bE(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function IE(e){var t=e.infoData_.getNode(new Db(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function TE(e){return(t=(t={timestamp:IE(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function NE(e,t,n,r,i){e.dataUpdateCount++;var a=new Db(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ht(n,(function(e){return S_(e)}));o=function(e,t,n,r){var i=MC(e,r);if(i){var a=FC(i),o=a.path,s=a.queryId,u=qb(o,t),c=vx.fromObject(n);return LC(e,o,new ax(ex(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=S_(n);o=CC(e.serverSyncTree_,a,u,i)}else if(r){var c=Ht(n,(function(e){return S_(e)}));o=function(e,t,n){var r=vx.fromObject(n);return TC(e,new ax({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=S_(n);o=_C(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=qE(e,a)),bE(e.eventQueue_,f,o)}function PE(e,t){DE(e,"connected",t),!1===t&&function(e){LE(e,"onDisconnectEvents");var t=TE(e),n=G_();X_(e.onDisconnect_,Ob(),(function(r,i){var a=GC(r,i,e.serverSyncTree_,t);J_(n,r,a)}));var r=[];X_(n,Ob(),(function(t,n){r=r.concat(_C(e.serverSyncTree_,t,n));var i=KE(e,t);qE(e,i)})),e.onDisconnect_=G_(),bE(e.eventQueue_,Ob(),r)}(e)}function DE(e,t,n){var r=new Db("/.info/"+t),i=S_(n);e.infoData_.updateSnapshot(r,i);var a=_C(e.infoSyncTree_,r,i);bE(e.eventQueue_,r,a)}function OE(e){return e.nextWriteId_++}function RE(e,t,n,r,i){LE(e,"set",{path:t.toString(),value:n,priority:r});var a=TE(e),o=S_(n,r),s=SC(e.serverSyncTree_,t),u=JC(o,s,a),c=OE(e),l=kC(e.serverSyncTree_,t,u,c,!0);kE(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||zw("set at "+t+" failed: "+n);var o=bC(e.serverSyncTree_,c,!a);bE(e.eventQueue_,t,o),jE(e,i,n,r)}));var f=KE(e,t);qE(e,f),bE(e.eventQueue_,f,[])}function ME(e,t,n){var r;r=".info"===Rb(t._path)?xC(e.infoSyncTree_,t,n):xC(e.serverSyncTree_,t,n),wE(e.eventQueue_,t._path,r)}function FE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(CE)}function LE(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Uw.apply(void 0,[t].concat(r))}function jE(e,t,n,r){t&&ab((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function BE(e,t,n){return SC(e.serverSyncTree_,t,n)||C_.EMPTY_NODE}function UE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||WE(e,t),$C(t)){var n=zE(e,t);At(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&VE(e,iE(t),n)}else tE(t)&&nE(t,(function(t){UE(e,t)}))}function VE(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=BE(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];At(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=qb(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){LE(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(bC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);WE(e,ZC(e.transactionQueueTree_,t)),UE(e,e.transactionQueueTree_),bE(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)ab(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{zw("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}qE(e,t)}}),o)}function qE(e,t){var n=QE(e,t),r=iE(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=qb(n,u.path),l=!1,f=void 0;if(At(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(bC(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(bC(e.serverSyncTree_,u.currentWriteId,!0));else{var h=BE(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){dE("transaction failed: Data returned ",d,u.path);var p=S_(d);"object"===typeof d&&null!=d&&qt(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=TE(e),m=JC(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=OE(e),o.splice(o.indexOf(v),1),i=(i=i.concat(kC(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(bC(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(bC(e.serverSyncTree_,u.currentWriteId,!0))}bE(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);WE(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)ab(r[c]);UE(e,e.transactionQueueTree_)}(e,zE(e,n),r),r}function QE(e,t){var n,r=e.transactionQueueTree_;for(n=Rb(t);null!==n&&void 0===$C(r);)r=ZC(r,n),n=Rb(t=Fb(t));return r}function zE(e,t){var n=[];return HE(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function HE(e,t,n){var r=$C(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);nE(t,(function(t){HE(e,t,n)}))}function WE(e,t){var n=$C(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,eE(t,n.length>0?n:void 0)}nE(t,(function(t){WE(e,t)}))}function KE(e,t){var n=iE(QE(e,t)),r=ZC(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){GE(e,t)})),GE(e,r),rE(r,(function(t){GE(e,t)})),n}function GE(e,t){var n=$C(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(At(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(At(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bC(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?eE(t,void 0):n.length=a+1,bE(e.eventQueue_,iE(t),i);for(var s=0;s<r.length;s++)ab(r[s])}}var JE=function(e,t){var n=XE(e),r=n.namespace;"firebase.com"===n.domain&&Qw(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Qw("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&zw("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new pb(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Db(n.pathString)}},XE=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=lt(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):zw("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},YE=function(){function e(t,n,r,i){ft(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return dt(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Ut(this.snapshot.exportVal())}}]),e}(),ZE=function(){function e(t,n,r){ft(this,e),this.eventRegistration=t,this.error=n,this.path=r}return dt(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),$E=function(){function e(t,n){ft(this,e),this.snapshotCallback=t,this.cancelCallback=n}return dt(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return At(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),eS=function(){function e(t,n,r,i){ft(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return dt(e,[{key:"key",get:function(){return Vb(this._path)?null:Lb(this._path)}},{key:"ref",get:function(){return new iS(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=H_(this._queryParams),t=Yw(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return H_(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=nn(t))instanceof e))return!1;var n=this._repo===t._repo,r=zb(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function tS(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nS(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===n_){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ww)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Kw)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===A_){if(null!=t&&!fE(t)||null!=n&&!fE(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(At(e.getIndex()instanceof I_||e.getIndex()===N_,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rS(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var iS=function(e){ot(n,e);var t=ct(n);function n(e,r){return ft(this,n),t.call(this,e,r,new U_,!1)}return dt(n,[{key:"parent",get:function(){var e=Bb(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(eS),aS=function(){function e(t,n,r){ft(this,e),this._node=t,this.ref=n,this._index=r}return dt(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Db(t),r=sS(this.ref,t);return new e(this._node.getChild(n),r,A_)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,sS(n.ref,r),A_))}))}},{key:"hasChild",value:function(e){var t=new Db(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function oS(e,t){return(e=nn(e))._checkNotDeleted("ref"),void 0!==t?sS(e._root,t):e._root}function sS(e,t){var n,r,i,a;return null===Rb((e=nn(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),yE(n,r,i,a)):yE("child","path",t,!1),new iS(e._repo,Ub(e._path,t))}function uS(e,t){e=nn(e),mE("push",e._path),hE("push",t,e._path,!0);var n,r=IE(e._repo),i=D_(r),a=sS(e,i),o=sS(e,i);return n=null!=t?lS(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function cS(e){return mE("remove",e._path),lS(e,null)}function lS(e,t){e=nn(e),mE("set",e._path),hE("set",t,e._path,!1);var n=new It;return RE(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function fS(e,t){pE("update",t,e._path,!1);var n=new It;return function(e,t,n,r){LE(e,"update",{path:t.toString(),value:n});var i=!0,a=TE(e),o={};if($w(n,(function(n,r){i=!1,o[n]=GC(Ub(t,n),S_(r),e.serverSyncTree_,a)})),i)Uw("update() called with empty data.  Don't do anything."),jE(0,r,"ok",void 0);else{var s=OE(e),u=wC(e.serverSyncTree_,t,o,s);kE(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||zw("update at "+t+" failed: "+n);var o=bC(e.serverSyncTree_,s,!a),u=o.length>0?qE(e,t):t;bE(e.eventQueue_,u,o),jE(0,r,n,i)})),$w(n,(function(n){var r=KE(e,Ub(t,n));qE(e,r)})),bE(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function hS(e){e=nn(e);var t=new $E((function(){})),n=new dS(t);return function(e,t,n){var r=IC(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=S_(r).withIndex(t._queryParams.getIndex());if(EC(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=_C(e.serverSyncTree_,t._path,a);else{var o=OC(e.serverSyncTree_,t);i=CC(e.serverSyncTree_,t._path,a,o)}return bE(e.eventQueue_,t._path,i),xC(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return LE(e,"get for query "+Ut(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new aS(t,new iS(e._repo,e._path),e._queryParams.getIndex())}))}var dS=function(){function e(t){ft(this,e),this.callbackContext=t}return dt(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new YE("value",this,new aS(e.snapshotNode,new iS(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new ZE(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),pS=function(){function e(t,n){ft(this,e),this.eventType=t,this.callbackContext=n}return dt(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new ZE(this,e,t):null}},{key:"createEvent",value:function(e,t){At(null!=e.childName,"Child events should have a childName.");var n=sS(new iS(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new YE(e.type,this,new aS(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function vS(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){ME(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new $E(n,a||void 0),c="value"===t?new dS(u):new pS(t,u);return function(e,t,n){var r;r=".info"===Rb(t._path)?EC(e.infoSyncTree_,t,n):EC(e.serverSyncTree_,t,n),wE(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ME(e._repo,e,c)}}function yS(e,t,n,r){return vS(e,"value",t,n,r)}var mS=dt((function e(){ft(this,e)})),gS=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this))._value=e,i._key=r,i}return dt(n,[{key:"_apply",value:function(e){hE("endAt",this._value,e._path,!0);var t=q_(e._queryParams,this._value,this._key);if(rS(t),nS(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eS(e._repo,e._path,t,e._orderByCalled)}}]),n}(mS);var AS=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this))._value=e,i._key=r,i}return dt(n,[{key:"_apply",value:function(e){hE("startAt",this._value,e._path,!0);var t=V_(e._queryParams,this._value,this._key);if(rS(t),nS(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new eS(e._repo,e._path,t,e._orderByCalled)}}]),n}(mS);var kS=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this))._path=e,r}return dt(n,[{key:"_apply",value:function(e){tS(e,"orderByChild");var t=new Db(this._path);if(Vb(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new I_(t),r=Q_(e._queryParams,n);return nS(r),new eS(e._repo,e._path,r,!0)}}]),n}(mS);function wS(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yE("orderByChild","path",e,!1),new kS(e)}var bS=function(e){ot(n,e);var t=ct(n);function n(e,r){var i;return ft(this,n),(i=t.call(this))._value=e,i._key=r,i}return dt(n,[{key:"_apply",value:function(e){if(hE("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gS(this._value,this._key)._apply(new AS(this._value,this._key)._apply(e))}}]),n}(mS);function _S(e,t){return vE("equalTo","key",t,!0),new bS(e,t)}function xS(e){for(var t=nn(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){At(!Zx,"__referenceConstructor has already been defined"),Zx=e}(iS),function(e){At(!aC,"__referenceConstructor has already been defined"),aC=e}(iS);var CS={},ES=!1;function SS(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Qw("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Uw("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=JE(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/insta-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=JE(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new cb(cb.OWNER):new ub(e.name,e.options,t);gE("Invalid Firebase Database URL",s),Vb(s.path)||Qw("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=CS[t.name];i||(i={},CS[t.name]=i);var a=i[e.toURLString()];a&&Qw("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new EE(e,ES,n,r),i[e.toURLString()]=a,a}(u,e,l,new sb(e.name,n));return new IS(f,e)}var IS=function(){function e(t,n){ft(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return dt(e,[{key:"_repo",get:function(){return this._instanceStarted||(SE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new iS(this._repo,Ob())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=CS[t];n&&n[e.key]===e||Qw("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),FE(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Qw("Cannot call "+e+" on a deleted database.")}}]),e}();var TS={".sv":"timestamp"};Yb.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Yb.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Sw=e}(Gn),Qn(new rn("database",(function(e,t){var n=t.instanceIdentifier;return SS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Yn(Cw,Ew,e),Yn(Cw,Ew,"esm2017")}();var NS={apiKey:"AIzaSyBZoW7Tcp26aJ_7_zDEuMO9hDUzfiJxv8M",authDomain:"messenger-40cc4.firebaseapp.com",databaseURL:"https://messenger-40cc4-default-rtdb.europe-west1.firebasedatabase.app",projectId:"messenger-40cc4",storageBucket:"messenger-40cc4.appspot.com",messagingSenderId:"856002256521",appId:"1:856002256521:web:0be5cbb812449f12b93058"},PS=Jn(NS),DS=ys(),OS=(Yg(PS),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0;return zn(e,"database").getImmediate({identifier:t})}(PS)),RS=(new ca,function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}),MS=function(){function e(){ft(this,e),this.app=Jn(NS),this.fireStore=Yg(this.app),this.storage=_w(this.app),this.googleAuthProvider=new ca,this.storageRef=bw(this.storage),this.firebaseAuth=DS,this.authInstanse=ys(),this.getAuth=this.authInstanse}return dt(e,[{key:"getAllUsers",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wg(this.fireStore,"Users");case 3:return r=e.sent,e.next=6,ZA(r);case 6:return i=e.sent,a=[],i.forEach((function(e){a.push(e.data())})),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAvatar",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=RS(13),e.next=4,Kg(this.fireStore,"Users",t);case 4:if(i=e.sent,a=bw(this.storage,r),null===n){e.next=16;break}return e.next=9,kw(a,n);case 9:return e.next=11,ww(a);case 11:return o=e.sent,console.log(o),e.next=15,ek(i,{avatar:o});case 15:return e.abrupt("return",o);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateUserStatus",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Users",t);case 3:return r=e.sent,e.next=6,ek(r,{status:n});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFollowedUsers",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Followed/"+t);case 3:return n=e.sent,e.next=6,XA(n);case 6:return e.next=8,e.sent;case 8:if(r=e.sent,console.log(r),!r.exists()){e.next=15;break}return console.log(r.data()),e.abrupt("return",r.data().followed);case 15:return e.abrupt("return",null);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Followers/",t);case 3:return n=e.sent,e.next=7,XA(n);case 7:if(!(r=e.sent).exists()){e.next=13;break}return console.log(r.data()),e.abrupt("return",r.data());case 13:throw new Error("Cant fetch the followers");case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUsersByName",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UA(Wg(this.fireStore,"Users"),qA("fullName","==",t));case 3:return n=e.sent,e.next=6,ZA(n);case 6:if(r=e.sent,i=[],r.empty){e.next=14;break}return console.log(r.docs),r.forEach((function(e){console.log(e.data()),i.push(e.data())})),e.abrupt("return",i);case 14:return e.abrupt("return",null);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"followToggle",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p,v,y,m;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,Kg(this.fireStore,"Followed/",n.userID);case 4:return r=e.sent,e.next=7,XA(r);case 7:if(i=e.sent,console.log(i.data()),console.log(),i.exists()){e.next=34;break}return console.log("SET NEW DOC"),e.next=14,Kg(this.fireStore,"Followers",t.userID);case 14:return a=e.sent,e.next=17,Kg(this.fireStore,"Followed",n.userID);case 17:return o=e.sent,e.next=20,Kg(this.fireStore,"Users",t.userID);case 20:return s=e.sent,e.next=23,Kg(this.fireStore,"Users",n.userID);case 23:return u=e.sent,e.next=26,$A(a,{followers:[n]});case 26:return e.next=28,$A(o,{followed:[t]});case 28:return e.next=30,ek(s,{followers:sk(n.userID)});case 30:return e.next=32,ek(u,{followed:sk(t.userID)});case 32:e.next=79;break;case 34:if(null===(c=i.data())||void 0===c||!c.followed.find((function(e){return e.userID===t.userID}))){e.next=58;break}return console.log("REMOVE DOC"),e.next=38,Kg(this.fireStore,"Followers",t.userID);case 38:return l=e.sent,e.next=41,Kg(this.fireStore,"Followed",n.userID);case 41:return f=e.sent,e.next=44,Kg(this.fireStore,"Users",t.userID);case 44:return h=e.sent,e.next=47,Kg(this.fireStore,"Users",n.userID);case 47:return d=e.sent,e.next=50,ek(l,{followers:uk(n)});case 50:return e.next=52,ek(f,{followed:uk(t)});case 52:return e.next=54,ek(h,{followers:uk(n.userID)});case 54:return e.next=56,ek(d,{followed:uk(t.userID)});case 56:e.next=79;break;case 58:return console.log("Union docs"),e.next=61,Kg(this.fireStore,"Followers",t.userID);case 61:return p=e.sent,e.next=64,Kg(this.fireStore,"Followed",n.userID);case 64:return v=e.sent,e.next=67,Kg(this.fireStore,"Users",t.userID);case 67:return y=e.sent,e.next=70,Kg(this.fireStore,"Users",n.userID);case 70:return m=e.sent,e.next=73,ek(p,{followers:sk(n)});case 73:return e.next=75,ek(v,{followed:sk(t)});case 75:return e.next=77,ek(y,{followers:sk(n.userID)});case 77:return e.next=79,ek(m,{followed:sk(t.userID)});case 79:e.next=84;break;case 81:e.prev=81,e.t0=e.catch(0),console.log(e.t0);case 84:case"end":return e.stop()}}),e,this,[[0,81]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserPageByID",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kg(this.fireStore,"Users",t),e.next=4,XA(n);case 4:if(!(r=e.sent).exists()){e.next=9;break}return e.abrupt("return",r.data());case 9:throw new Error("User page does not exist");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),FS=new MS,LS="instaClone/profile_reducer/set_current_user+profile",jS="instaClone/profileReducer/updateAvatar",BS="instaClone/profileReducer/updateStatus",US="instaClone/profileReducer/setNewStatus",VS="instaClone/profileReducer/setNewAvatar",qS={userID:null,fullName:null,avatar:null,status:null,chats:[],newStatus:null,newAvatar:null},QS=function(e){return{type:"instaClone/profile_reducer/set_current_user+profile",payload:e}},zS=function(e){return{type:"instaClone/profileReducer/updateAvatar",payload:e}},HS=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},WS=(Yg(Jn(NS)),function(){function e(){ft(this,e),this.app=Jn(NS),this.fireStore=Yg(this.app),this.storage=_w(this.app),this.googleAuthProvider=new ca,this.storageRef=bw(this.storage),this.firebaseAuth=DS,this.authInstanse=ys(),this.getAuth=this.authInstanse}return dt(e,[{key:"getFirestore",value:function(){return this.fireStore}},{key:"signInByEmailAndPassword",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ia(this.firebaseAuth,t,n);case 3:return e.next=5,e.sent.user.uid;case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createNewUserWithEmailAndPassword",value:function(){var e=Ye(Je().mark((function e(t,n,r){var i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,Ea(this.firebaseAuth,t,n);case 4:return i=e.sent,e.next=7,Kg(this.fireStore,"Users",i.user.uid);case 7:return a=e.sent,o={fullName:r,avatar:i.user.photoURL,followed:[],followers:[],userID:i.user.uid,status:""},console.log(o),e.next=12,$A(a,o);case 12:return e.abrupt("return",o);case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"logInWithGooglePopUp",value:function(){var e=Ye(Je().mark((function e(){var t,n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bo(this.firebaseAuth,this.googleAuthProvider);case 3:return e.next=5,e.sent.user;case 5:return t=e.sent,e.next=8,Kg(this.fireStore,"Users",t.uid);case 8:return n=e.sent,e.next=11,XA(n);case 11:return e.next=13,e.sent;case 13:if((r=e.sent).exists()){e.next=24;break}return e.next=17,Wg(this.fireStore,"Users");case 17:return i=e.sent,a={fullName:t.displayName,userID:t.uid,avatar:t.photoURL,followers:[],followed:[],status:""},e.next=21,$A(Kg(i,t.uid),a);case 21:return e.abrupt("return",a);case 24:return e.abrupt("return",r.data());case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Ye(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nn(this.firebaseAuth).signOut();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),KS=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.apply(this,arguments)}return dt(n,[{key:"getUserPostsByUserID",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UA(Wg(this.fireStore,"Posts"),qA("creatorID","==",t));case 3:return n=e.sent,e.next=6,ZA(n);case 6:if(r=e.sent,i=[],r.empty){e.next=13;break}return r.forEach((function(e){i.push(et(et({},e.data()),{},{id:e.id}))})),e.abrupt("return",i);case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wg(this.fireStore,"Posts");case 3:return n=e.sent,r=et(et({},t),{},{id:n.id}),e.next=7,$A(Kg(n),r);case 7:return e.next=9,Kg(this.fireStore,"Posts",t.creatorID);case 9:return i=e.sent,e.next=12,XA(i);case 12:return a=e.sent,e.abrupt("return",a.data());case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addLikeToPost",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Posts",t);case 3:return i=e.sent,e.next=6,XA(i);case 6:return e.next=8,e.sent;case 8:if(a=e.sent,!Object.hasOwn(a,"likes_count")||!Object.values(null===(r=a.data())||void 0===r?void 0:r.likes_count).includes(n)){e.next=17;break}return e.next=12,Kg(this.fireStore,"Posts",t);case 12:return o=e.sent,e.next=15,ek(o,{likes_count:uk(n)});case 15:e.next=22;break;case 17:return e.next=19,Kg(this.fireStore,"Posts",t);case 19:return s=e.sent,e.next=22,ek(s,{likes_count:sk(n)});case 22:e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"RemovePostByPostID",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Posts",t);case 3:return n=e.sent,e.next=6,tk(n);case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addComentToPost",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Posts",t);case 3:return r=e.sent,e.next=6,RS(13);case 6:return i=e.sent,a=et(et({},n),{},{comentID:i}),e.next=10,ek(r,{coments:sk(a)}).finally((function(){return!0}));case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeComent",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Posts",n);case 3:return r=e.sent,e.next=6,ek(r,{coments:uk(t)});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(WS),GS=new WS,JS=new KS,XS="messenger/Users_reducer/get_users",YS="instaClone/UsersReducer/setNewStatus",ZS="instaClone/UsersReducer/follow",$S="instaClone/UsersReducer/unfollow",eI="instaClone/profileReducer/updateStatus",tI={fullName:null,avatar:null,status:null,userID:null,followed:[],followers:[]},nI=function(e){return{type:"messenger/Users_reducer/get_users",payload:e}},rI=function(e){return{type:"instaClone/UsersReducer/setNewStatus",payload:e}},iI=function(e){return{type:"instaClone/UsersReducer/follow",payload:e}},aI=function(e){return{type:"instaClone/UsersReducer/unfollow",payload:e}},oI=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},sI=function(e,t){return function(){var n=Ye(Je().mark((function n(r){var i;return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(CI.set_is_fetch_true()),n.next=3,FS.followToggle(t,e);case 3:i=n.sent,console.log(i),r(CI.set_is_fetch_fasle());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},uI="messenger/auth_reducer/set_true",cI="messenger/auth_reducer/set_false",lI="messenger/auth_reducer/set_token",fI="messenger/auth_reducer/create_user",hI="messenger/authReducer/setError",dI={is_auth:!1,auth_token:null,is_initialize:!1,user_id:null,onError:!1,regForm:{username:"",email:"",passTake1:"",passTake2:"",avatar:null,status:null}},pI=function(){return{type:"messenger/auth_reducer/set_true",payload:!0}},vI=function(){return{type:"messenger/auth_reducer/set_false"}},yI=function(e){return{type:"messenger/auth_reducer/create_user",payload:e}},mI=function(e){return{type:"messenger/authReducer/setError",payload:e}},gI="SET_INITIALIZE",AI="messenger/app_reducer/set_is_fetch_true",kI="messenger/app_reducer/set_is_fetch_false",wI="messenger/app_reducer/set_current_user_id",bI="insta-clone/postReducer/set_on_load",_I="insta-clone/postReducer/set_on_new_message",xI={is_initialize:!1,is_fetch:!1,currentUserID:null,onLoad:!1,onNewMessage:!1},CI={init:function(e){return{type:"SET_INITIALIZE",payload:e}},set_is_fetch_true:function(){return{type:"messenger/app_reducer/set_is_fetch_true"}},set_is_fetch_fasle:function(){return{type:"messenger/app_reducer/set_is_fetch_false"}},setCurrentUserID:function(e){return{type:"messenger/app_reducer/set_current_user_id",payload:e}},setOnLoad:function(e){return{type:"insta-clone/postReducer/set_on_load",payload:e}},setOnNewMessage:function(e){return{type:"insta-clone/postReducer/set_on_new_message",payload:e}}},EI=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this)}return dt(n,[{key:"sendMessageToUser",value:function(){var e=Ye(Je().mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,d,p,v,y,m,g,A,k,w,b,_,x;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Users",t);case 3:return c=e.sent,e.next=6,XA(c);case 6:if(l=e.sent,f=null===(u=l.data())||void 0===u?void 0:u.chats,h=f.find((function(e){return e.id===i})),console.log(h),!h){e.next=34;break}return e.next=13,Kg(this.fireStore,"Chats",h.roomID);case 13:return d=e.sent,e.next=16,XA(d);case 16:return e.sent,e.next=19,Wg(this.fireStore,"Messages");case 19:return p=e.sent,e.next=22,Kg(p);case 22:return v=e.sent,y={messageText:r,creator:n,creatorID:t,roomID:h.roomID,status:"unreaded",timeStamp:ok(),attachments:null,recepientID:i,recepientFullName:a},e.next=26,$A(v,et(et({},y),{},{roomID:h.roomID}));case 26:return e.next=28,ek(d,{lastMessage:r});case 28:return e.next=30,this.incrementUnreadedMessagesCount(h.roomID);case 30:return e.next=32,this.incrementMessagesCount(h.roomID);case 32:e.next=65;break;case 34:return e.next=36,Wg(this.fireStore,"Chats");case 36:return m=e.sent,g={users:[t,i],avatars:[{userID:t,avatar:o},{userID:i,avatar:s}],lastMessage:r,unreadedMessages:0,senderFullName:n,recepientFullNAme:a},e.next=40,nk(m,g);case 40:return A=e.sent,e.next=43,Kg(this.fireStore,"Users",t);case 43:return k=e.sent,e.next=46,Kg(this.fireStore,"Users",i);case 46:return w=e.sent,e.next=49,ek(k,{chats:sk({id:i,roomID:A.id})});case 49:return e.next=51,ek(w,{chats:sk({id:t,roomID:A.id})});case 51:return e.next=53,Wg(this.fireStore,"Messages");case 53:return b=e.sent,e.next=56,Kg(b);case 56:return _=e.sent,x={messageText:r,creator:n,creatorID:t,roomID:A.id,status:"unreaded",timeStamp:ok(),attachments:null,recepientID:i,recepientFullName:a},e.next=60,$A(_,et(et({},x),{},{roomID:A.id}));case 60:return e.next=62,this.incrementUnreadedMessagesCount(A.id);case 62:return e.next=64,this.incrementMessagesCount(A.id);case 64:return e.abrupt("return",x);case 65:e.next=70;break;case 67:e.prev=67,e.t0=e.catch(0),console.log(e.t0);case 70:case"end":return e.stop()}}),e,this,[[0,67]])})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}()},{key:"sendMesage",value:function(){var e=Ye(Je().mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,d,p,v,y,m,g;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UA(Wg(this.fireStore,"Chats/"),qA("users","array-contains-any",[t,i]));case 3:return u=e.sent,e.next=6,ZA(u);case 6:if(c=e.sent,console.log(c.docChanges()),c.forEach((function(e){return console.log(e.data())})),console.log(c.empty),l={messageText:r,creator:n,creatorID:t,roomID:c.docChanges()[0].doc.id,status:"unreaded",timeStamp:ok(),attachments:null,recepientID:i,recepientFullName:a},c.empty){e.next=31;break}return e.next=14,Wg(this.fireStore,"Messages/");case 14:return f=e.sent,e.next=17,Kg(f);case 17:return h=e.sent,e.next=20,$A(h,et(et({},l),{},{messageID:h.id}));case 20:return e.next=22,Kg(this.fireStore,"Chats",c.docChanges()[0].doc.id);case 22:return d=e.sent,e.next=25,ek(d,{lastMessage:r});case 25:return e.next=27,this.incrementMessagesCount(c.docChanges()[0].doc.id);case 27:return e.next=29,this.incrementUnreadedMessagesCount(c.docChanges()[0].doc.id);case 29:e.next=48;break;case 31:return e.next=33,Wg(this.fireStore,"Chats");case 33:return p=e.sent,e.next=36,Kg(p);case 36:return v=e.sent,y={users:[t,i],unreadedMessages:1,roomID:v.id,messagesCount:1,lastMessage:r,recepientAvatar:s,senderAvatar:s,senderFullName:n,recepientFullNAme:a},e.next=40,$A(v,y);case 40:return e.next=42,Wg(this.fireStore,"Messages");case 42:return m=e.sent,e.next=45,Kg(m);case 45:return g=e.sent,e.next=48,$A(g,et(et({},l),{},{roomID:v.id}));case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(0),console.log(e.t0);case 53:case"end":return e.stop()}}),e,this,[[0,50]])})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}()},{key:"incrementMessagesCount",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,Kg(this.fireStore,"Chats",t);case 4:return n=e.sent,e.t0=ek,e.t1=n,e.next=9,ck(1);case 9:return e.t2=e.sent,e.t3={messagesCount:e.t2},e.next=13,(0,e.t0)(e.t1,e.t3);case 13:e.next=18;break;case 15:e.prev=15,e.t4=e.catch(0),console.log(e.t4);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"decrementUnreadedMessagesCount",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Chats",t);case 3:return n=e.sent,e.next=6,ek(n,{unreadedMessages:ck(-1)});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"incrementUnreadedMessagesCount",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(this.fireStore,"Chats/",t);case 3:return n=e.sent,e.t0=ek,e.t1=n,e.next=8,ck(1);case 8:return e.t2=e.sent,e.t3={unreadedMessages:e.t2},e.next=12,(0,e.t0)(e.t1,e.t3);case 12:e.next=17;break;case 14:e.prev=14,e.t4=e.catch(0),console.log(e.t4);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserRoomsByUserID",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UA(Wg(this.fireStore,"Chats"),qA("users","array-contains",t));case 3:return n=e.sent,r=[],e.next=7,ZA(n);case 7:return e.sent.forEach((function(e){return r.push(et(et({},e.data()),{},{roomID:e.id}))})),console.log(r),e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessagesRealtime",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=UA(Wg(this.fireStore,"Messages"),qA("roomID","==",t)),r=[],e.next=5,rk(n,(function(e){e.forEach((function(e){r.push(e.data())}))}));case 5:return console.log(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=Ye(Je().mark((function e(t){var n,r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,UA(Wg(this.fireStore,"Messages"),qA("roomID","==",t));case 4:return n=e.sent,e.next=7,ZA(n);case 7:return r=e.sent,i=[],r.forEach((function(e){return i.push(e.data())})),console.log(r.docChanges()),e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(WS),SI=new EI,II="instaClone/chat_reducer/send_message",TI="instaClone/chatReducer/get_messages",NI="instaClone/chatReducer/getChats",PI="instaClone/chatReducer/setActiveChat",DI="instaClone/chatReducer/setNewMessage",OI="insta-clone/chatReducer/getAvatar",RI={activeChat:null,chats:[],messages:[],newMessage:"",interlocutorAvatar:null,unreadedMessages:null},MI=function(e){return{type:"instaClone/chatReducer/getChats",payload:e}},FI=function(e){return{type:"instaClone/chatReducer/setActiveChat",payload:e}},LI=function(e){return{type:"instaClone/chatReducer/get_messages",payload:e}},jI=function(e){return{type:"instaClone/chat_reducer/send_message",payload:e}},BI=function(e){return{type:"instaClone/chatReducer/setNewMessage",payload:e}},UI=function(e){return function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(CI.set_is_fetch_true()),t.next=3,SI.getUserRoomsByUserID(e);case 3:(r=t.sent)&&(n(MI(Object.values(r))),n(CI.set_is_fetch_fasle()));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},VI=n(184),qI=t.memo((function(e){var n=B(),r=We(),i=j().pathname,a=fe((function(e){return e.userPage})),o=fe((function(e){return e.account})),s=fe((function(e){return e.chat.chats}));(0,t.useEffect)((function(){r(UI(o.userID))}),[]);return(0,VI.jsx)("div",{className:i.includes("id")?Ke.chatListSidebar:Ke.chatListWrapper,children:(null===s||void 0===s?void 0:s.length)>0?(0,VI.jsx)("section",{children:null===s||void 0===s?void 0:s.map((function(e){var t,i=null===(t=e.avatars.find((function(e){return e.userID!==a.userID})))||void 0===t?void 0:t.avatar;return(0,VI.jsxs)("div",{className:Ke.userMini,onClick:function(){!function(e){r(FI(e)),n("/chat/id:="+e.roomID)}(e)},children:[(0,VI.jsx)("img",{title:"img",src:i,style:{width:"45px",height:"45px",borderRadius:"180px",lineHeight:"45px",verticalAlign:"middle"}}),(0,VI.jsxs)("ul",{children:[(0,VI.jsx)("li",{children:(0,VI.jsx)("span",{children:"\t"+e.recepientFullNAme})}),(0,VI.jsxs)("li",{children:[(0,VI.jsx)("span",{className:Ke.lastMessage,children:e.lastMessage}),(0,VI.jsx)("div",{className:Ke.countWrapper,children:(0,VI.jsx)("span",{className:Ke.count,children:e.unreadedMessages})})]}),(0,VI.jsx)("li",{})]})]})}))}):(0,VI.jsxs)("figure",{className:Ke.emptyChatList,children:[(0,VI.jsx)("h1",{children:"Sorry,looks like you dont have any chats yet"}),(0,VI.jsx)("img",{src:"data:image/png;base64,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",alt:"#"})]})})})),QI="Message_currentUserMessage__AcM1G",zI="Message_message__ypSas",HI=t.memo((function(e){return e.senderID!==e.currentUser&&SI.decrementUnreadedMessagesCount(e.roomID),(0,VI.jsx)("div",{className:e.currentUser===e.senderID?QI:zI,children:(0,VI.jsxs)("span",{children:[e.messageText," "]})})})),WI=n(77),KI=n.n(WI),GI=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===JI}(e)}(e)};var JI="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function XI(e,t){return!1!==t.clone&&t.isMergeableObject(e)?ZI(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function YI(e,t,n){return e.concat(t).map((function(e){return XI(e,n)}))}function ZI(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||YI,n.isMergeableObject=n.isMergeableObject||GI;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=XI(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=ZI(e[i],t[i],n):r[i]=XI(t[i],n)})),r}(e,t,n):XI(t,n)}ZI.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return ZI(e,n,t)}),{})};var $I=ZI,eT="object"==typeof global&&global&&global.Object===Object&&global,tT="object"==typeof self&&self&&self.Object===Object&&self,nT=eT||tT||Function("return this")(),rT=nT.Symbol,iT=Object.prototype,aT=iT.hasOwnProperty,oT=iT.toString,sT=rT?rT.toStringTag:void 0;var uT=function(e){var t=aT.call(e,sT),n=e[sT];try{e[sT]=void 0;var r=!0}catch(a){}var i=oT.call(e);return r&&(t?e[sT]=n:delete e[sT]),i},cT=Object.prototype.toString;var lT=function(e){return cT.call(e)},fT=rT?rT.toStringTag:void 0;var hT=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":fT&&fT in Object(e)?uT(e):lT(e)};var dT=function(e,t){return function(n){return e(t(n))}},pT=dT(Object.getPrototypeOf,Object);var vT=function(e){return null!=e&&"object"==typeof e},yT=Function.prototype,mT=Object.prototype,gT=yT.toString,AT=mT.hasOwnProperty,kT=gT.call(Object);var wT=function(e){if(!vT(e)||"[object Object]"!=hT(e))return!1;var t=pT(e);if(null===t)return!0;var n=AT.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gT.call(n)==kT};var bT=function(){this.__data__=[],this.size=0};var _T=function(e,t){return e===t||e!==e&&t!==t};var xT=function(e,t){for(var n=e.length;n--;)if(_T(e[n][0],t))return n;return-1},CT=Array.prototype.splice;var ET=function(e){var t=this.__data__,n=xT(t,e);return!(n<0)&&(n==t.length-1?t.pop():CT.call(t,n,1),--this.size,!0)};var ST=function(e){var t=this.__data__,n=xT(t,e);return n<0?void 0:t[n][1]};var IT=function(e){return xT(this.__data__,e)>-1};var TT=function(e,t){var n=this.__data__,r=xT(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function NT(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}NT.prototype.clear=bT,NT.prototype.delete=ET,NT.prototype.get=ST,NT.prototype.has=IT,NT.prototype.set=TT;var PT=NT;var DT=function(){this.__data__=new PT,this.size=0};var OT=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var RT=function(e){return this.__data__.get(e)};var MT=function(e){return this.__data__.has(e)};var FT=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var LT=function(e){if(!FT(e))return!1;var t=hT(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},jT=nT["__core-js_shared__"],BT=function(){var e=/[^.]+$/.exec(jT&&jT.keys&&jT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var UT=function(e){return!!BT&&BT in e},VT=Function.prototype.toString;var qT=function(e){if(null!=e){try{return VT.call(e)}catch(t){}try{return e+""}catch(t){}}return""},QT=/^\[object .+?Constructor\]$/,zT=Function.prototype,HT=Object.prototype,WT=zT.toString,KT=HT.hasOwnProperty,GT=RegExp("^"+WT.call(KT).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var JT=function(e){return!(!FT(e)||UT(e))&&(LT(e)?GT:QT).test(qT(e))};var XT=function(e,t){return null==e?void 0:e[t]};var YT=function(e,t){var n=XT(e,t);return JT(n)?n:void 0},ZT=YT(nT,"Map"),$T=YT(Object,"create");var eN=function(){this.__data__=$T?$T(null):{},this.size=0};var tN=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nN=Object.prototype.hasOwnProperty;var rN=function(e){var t=this.__data__;if($T){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nN.call(t,e)?t[e]:void 0},iN=Object.prototype.hasOwnProperty;var aN=function(e){var t=this.__data__;return $T?void 0!==t[e]:iN.call(t,e)};var oN=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$T&&void 0===t?"__lodash_hash_undefined__":t,this};function sN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sN.prototype.clear=eN,sN.prototype.delete=tN,sN.prototype.get=rN,sN.prototype.has=aN,sN.prototype.set=oN;var uN=sN;var cN=function(){this.size=0,this.__data__={hash:new uN,map:new(ZT||PT),string:new uN}};var lN=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var fN=function(e,t){var n=e.__data__;return lN(t)?n["string"==typeof t?"string":"hash"]:n.map};var hN=function(e){var t=fN(this,e).delete(e);return this.size-=t?1:0,t};var dN=function(e){return fN(this,e).get(e)};var pN=function(e){return fN(this,e).has(e)};var vN=function(e,t){var n=fN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function yN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yN.prototype.clear=cN,yN.prototype.delete=hN,yN.prototype.get=dN,yN.prototype.has=pN,yN.prototype.set=vN;var mN=yN;var gN=function(e,t){var n=this.__data__;if(n instanceof PT){var r=n.__data__;if(!ZT||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new mN(r)}return n.set(e,t),this.size=n.size,this};function AN(e){var t=this.__data__=new PT(e);this.size=t.size}AN.prototype.clear=DT,AN.prototype.delete=OT,AN.prototype.get=RT,AN.prototype.has=MT,AN.prototype.set=gN;var kN=AN;var wN=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},bN=function(){try{var e=YT(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var _N=function(e,t,n){"__proto__"==t&&bN?bN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},xN=Object.prototype.hasOwnProperty;var CN=function(e,t,n){var r=e[t];xN.call(e,t)&&_T(r,n)&&(void 0!==n||t in e)||_N(e,t,n)};var EN=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?_N(n,s,u):CN(n,s,u)}return n};var SN=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var IN=function(e){return vT(e)&&"[object Arguments]"==hT(e)},TN=Object.prototype,NN=TN.hasOwnProperty,PN=TN.propertyIsEnumerable,DN=IN(function(){return arguments}())?IN:function(e){return vT(e)&&NN.call(e,"callee")&&!PN.call(e,"callee")},ON=DN,RN=Array.isArray;var MN=function(){return!1},FN="object"==typeof exports&&exports&&!exports.nodeType&&exports,LN=FN&&"object"==typeof module&&module&&!module.nodeType&&module,jN=LN&&LN.exports===FN?nT.Buffer:void 0,BN=(jN?jN.isBuffer:void 0)||MN,UN=/^(?:0|[1-9]\d*)$/;var VN=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&UN.test(e))&&e>-1&&e%1==0&&e<t};var qN=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},QN={};QN["[object Float32Array]"]=QN["[object Float64Array]"]=QN["[object Int8Array]"]=QN["[object Int16Array]"]=QN["[object Int32Array]"]=QN["[object Uint8Array]"]=QN["[object Uint8ClampedArray]"]=QN["[object Uint16Array]"]=QN["[object Uint32Array]"]=!0,QN["[object Arguments]"]=QN["[object Array]"]=QN["[object ArrayBuffer]"]=QN["[object Boolean]"]=QN["[object DataView]"]=QN["[object Date]"]=QN["[object Error]"]=QN["[object Function]"]=QN["[object Map]"]=QN["[object Number]"]=QN["[object Object]"]=QN["[object RegExp]"]=QN["[object Set]"]=QN["[object String]"]=QN["[object WeakMap]"]=!1;var zN=function(e){return vT(e)&&qN(e.length)&&!!QN[hT(e)]};var HN=function(e){return function(t){return e(t)}},WN="object"==typeof exports&&exports&&!exports.nodeType&&exports,KN=WN&&"object"==typeof module&&module&&!module.nodeType&&module,GN=KN&&KN.exports===WN&&eT.process,JN=function(){try{var e=KN&&KN.require&&KN.require("util").types;return e||GN&&GN.binding&&GN.binding("util")}catch(t){}}(),XN=JN&&JN.isTypedArray,YN=XN?HN(XN):zN,ZN=Object.prototype.hasOwnProperty;var $N=function(e,t){var n=RN(e),r=!n&&ON(e),i=!n&&!r&&BN(e),a=!n&&!r&&!i&&YN(e),o=n||r||i||a,s=o?SN(e.length,String):[],u=s.length;for(var c in e)!t&&!ZN.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||VN(c,u))||s.push(c);return s},eP=Object.prototype;var tP=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eP)},nP=dT(Object.keys,Object),rP=Object.prototype.hasOwnProperty;var iP=function(e){if(!tP(e))return nP(e);var t=[];for(var n in Object(e))rP.call(e,n)&&"constructor"!=n&&t.push(n);return t};var aP=function(e){return null!=e&&qN(e.length)&&!LT(e)};var oP=function(e){return aP(e)?$N(e):iP(e)};var sP=function(e,t){return e&&EN(t,oP(t),e)};var uP=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},cP=Object.prototype.hasOwnProperty;var lP=function(e){if(!FT(e))return uP(e);var t=tP(e),n=[];for(var r in e)("constructor"!=r||!t&&cP.call(e,r))&&n.push(r);return n};var fP=function(e){return aP(e)?$N(e,!0):lP(e)};var hP=function(e,t){return e&&EN(t,fP(t),e)},dP="object"==typeof exports&&exports&&!exports.nodeType&&exports,pP=dP&&"object"==typeof module&&module&&!module.nodeType&&module,vP=pP&&pP.exports===dP?nT.Buffer:void 0,yP=vP?vP.allocUnsafe:void 0;var mP=function(e,t){if(t)return e.slice();var n=e.length,r=yP?yP(n):new e.constructor(n);return e.copy(r),r};var gP=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var AP=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var kP=function(){return[]},wP=Object.prototype.propertyIsEnumerable,bP=Object.getOwnPropertySymbols,_P=bP?function(e){return null==e?[]:(e=Object(e),AP(bP(e),(function(t){return wP.call(e,t)})))}:kP,xP=_P;var CP=function(e,t){return EN(e,xP(e),t)};var EP=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},SP=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)EP(t,xP(e)),e=pT(e);return t}:kP,IP=SP;var TP=function(e,t){return EN(e,IP(e),t)};var NP=function(e,t,n){var r=t(e);return RN(e)?r:EP(r,n(e))};var PP=function(e){return NP(e,oP,xP)};var DP=function(e){return NP(e,fP,IP)},OP=YT(nT,"DataView"),RP=YT(nT,"Promise"),MP=YT(nT,"Set"),FP=YT(nT,"WeakMap"),LP="[object Map]",jP="[object Promise]",BP="[object Set]",UP="[object WeakMap]",VP="[object DataView]",qP=qT(OP),QP=qT(ZT),zP=qT(RP),HP=qT(MP),WP=qT(FP),KP=hT;(OP&&KP(new OP(new ArrayBuffer(1)))!=VP||ZT&&KP(new ZT)!=LP||RP&&KP(RP.resolve())!=jP||MP&&KP(new MP)!=BP||FP&&KP(new FP)!=UP)&&(KP=function(e){var t=hT(e),n="[object Object]"==t?e.constructor:void 0,r=n?qT(n):"";if(r)switch(r){case qP:return VP;case QP:return LP;case zP:return jP;case HP:return BP;case WP:return UP}return t});var GP=KP,JP=Object.prototype.hasOwnProperty;var XP=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&JP.call(e,"index")&&(n.index=e.index,n.input=e.input),n},YP=nT.Uint8Array;var ZP=function(e){var t=new e.constructor(e.byteLength);return new YP(t).set(new YP(e)),t};var $P=function(e,t){var n=t?ZP(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},eD=/\w*$/;var tD=function(e){var t=new e.constructor(e.source,eD.exec(e));return t.lastIndex=e.lastIndex,t},nD=rT?rT.prototype:void 0,rD=nD?nD.valueOf:void 0;var iD=function(e){return rD?Object(rD.call(e)):{}};var aD=function(e,t){var n=t?ZP(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var oD=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ZP(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return $P(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return aD(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tD(e);case"[object Symbol]":return iD(e)}},sD=Object.create,uD=function(){function e(){}return function(t){if(!FT(t))return{};if(sD)return sD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),cD=uD;var lD=function(e){return"function"!=typeof e.constructor||tP(e)?{}:cD(pT(e))};var fD=function(e){return vT(e)&&"[object Map]"==GP(e)},hD=JN&&JN.isMap,dD=hD?HN(hD):fD;var pD=function(e){return vT(e)&&"[object Set]"==GP(e)},vD=JN&&JN.isSet,yD=vD?HN(vD):pD,mD="[object Arguments]",gD="[object Function]",AD="[object Object]",kD={};kD[mD]=kD["[object Array]"]=kD["[object ArrayBuffer]"]=kD["[object DataView]"]=kD["[object Boolean]"]=kD["[object Date]"]=kD["[object Float32Array]"]=kD["[object Float64Array]"]=kD["[object Int8Array]"]=kD["[object Int16Array]"]=kD["[object Int32Array]"]=kD["[object Map]"]=kD["[object Number]"]=kD["[object Object]"]=kD["[object RegExp]"]=kD["[object Set]"]=kD["[object String]"]=kD["[object Symbol]"]=kD["[object Uint8Array]"]=kD["[object Uint8ClampedArray]"]=kD["[object Uint16Array]"]=kD["[object Uint32Array]"]=!0,kD["[object Error]"]=kD[gD]=kD["[object WeakMap]"]=!1;var wD=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!FT(t))return t;var f=RN(t);if(f){if(s=XP(t),!u)return gP(t,s)}else{var h=GP(t),d=h==gD||"[object GeneratorFunction]"==h;if(BN(t))return mP(t,u);if(h==AD||h==mD||d&&!a){if(s=c||d?{}:lD(t),!u)return c?TP(t,hP(s,t)):CP(t,sP(s,t))}else{if(!kD[h])return a?t:{};s=oD(t,h,u)}}o||(o=new kN);var p=o.get(t);if(p)return p;o.set(t,s),yD(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):dD(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?DP:PP:c?fP:oP)(t);return wN(v||t,(function(i,a){v&&(i=t[a=i]),CN(s,a,e(i,n,r,a,t,o))})),s};var bD=function(e){return wD(e,4)};var _D=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var xD=function(e){return"symbol"==typeof e||vT(e)&&"[object Symbol]"==hT(e)};function CD(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(CD.Cache||mN),n}CD.Cache=mN;var ED=CD;var SD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ID=/\\(\\)?/g,TD=function(e){var t=ED(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(SD,(function(e,n,r,i){t.push(r?i.replace(ID,"$1"):n||e)})),t})),ND=TD;var PD=function(e){if("string"==typeof e||xD(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},DD=rT?rT.prototype:void 0,OD=DD?DD.toString:void 0;var RD=function e(t){if("string"==typeof t)return t;if(RN(t))return _D(t,e)+"";if(xD(t))return OD?OD.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var MD=function(e){return null==e?"":RD(e)};var FD=function(e){return RN(e)?_D(e,PD):xD(e)?[e]:gP(ND(MD(e)))};var LD=function(e,t){};var jD=function(e){return wD(e,5)};function BD(){return BD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BD.apply(this,arguments)}function UD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function VD(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function qD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var QD=function(e){return Array.isArray(e)&&0===e.length},zD=function(e){return"function"===typeof e},HD=function(e){return null!==e&&"object"===typeof e},WD=function(e){return String(Math.floor(Number(e)))===e},KD=function(e){return"[object String]"===Object.prototype.toString.call(e)},GD=function(e){return 0===t.Children.count(e)},JD=function(e){return HD(e)&&zD(e.then)};function XD(e,t,n,r){void 0===r&&(r=0);for(var i=FD(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function YD(e,t,n){for(var r=bD(e),i=r,a=0,o=FD(t);a<o.length-1;a++){var s=o[a],u=XD(e,o.slice(0,a+1));if(u&&(HD(u)||Array.isArray(u)))i=i[s]=bD(u);else{var c=o[a+1];i=i[s]=WD(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function ZD(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];HD(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},ZD(s,t,n,r[o])):r[o]=t}return r}var $D=(0,t.createContext)(void 0);$D.displayName="FormikContext";var eO=$D.Provider;$D.Consumer;function tO(){var e=(0,t.useContext)($D);return e||LD(!1),e}function nO(e,t){switch(t.type){case"SET_VALUES":return BD({},e,{values:t.payload});case"SET_TOUCHED":return BD({},e,{touched:t.payload});case"SET_ERRORS":return KI()(e.errors,t.payload)?e:BD({},e,{errors:t.payload});case"SET_STATUS":return BD({},e,{status:t.payload});case"SET_ISSUBMITTING":return BD({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return BD({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return BD({},e,{values:YD(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return BD({},e,{touched:YD(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return BD({},e,{errors:YD(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return BD({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return BD({},e,{touched:ZD(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return BD({},e,{isSubmitting:!1});default:return e}}var rO={},iO={};function aO(e){var n=e.validateOnChange,r=void 0===n||n,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,s=void 0!==o&&o,u=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,f=e.onSubmit,h=VD(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=BD({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,t.useRef)(d.initialValues),v=(0,t.useRef)(d.initialErrors||rO),y=(0,t.useRef)(d.initialTouched||iO),m=(0,t.useRef)(d.initialStatus),g=(0,t.useRef)(!1),A=(0,t.useRef)({});(0,t.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var k=(0,t.useReducer)(nO,{values:d.initialValues,errors:d.initialErrors||rO,touched:d.initialTouched||iO,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=k[0],b=k[1],_=(0,t.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(rO):JD(i)?i.then((function(e){n(e||rO)}),(function(e){r(e)})):n(i)}))}),[d.validate]),x=(0,t.useCallback)((function(e,t){var n=d.validationSchema,r=zD(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=sO(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(rO)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return YD(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;XD(t,o.path)||(t=YD(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),C=(0,t.useCallback)((function(e,t){return new Promise((function(n){return n(A.current[e].validate(t))}))}),[]),E=(0,t.useCallback)((function(e){var t=Object.keys(A.current).filter((function(e){return zD(A.current[e].validate)})),n=t.length>0?t.map((function(t){return C(t,XD(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=YD(e,t[r],n)),e}),{})}))}),[C]),S=(0,t.useCallback)((function(e){return Promise.all([E(e),d.validationSchema?x(e):{},d.validate?_(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return $I.all([t,n,r],{arrayMerge:uO})}))}),[d.validate,d.validationSchema,E,_,x]),I=lO((function(e){return void 0===e&&(e=w.values),b({type:"SET_ISVALIDATING",payload:!0}),S(e).then((function(e){return g.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:e})),e}))}));(0,t.useEffect)((function(){s&&!0===g.current&&KI()(p.current,d.initialValues)&&I(p.current)}),[s,I]);var T=(0,t.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=n,y.current=r,m.current=i;var a=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,G);JD(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,t.useEffect)((function(){!0!==g.current||KI()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,T()),s&&I(p.current))}),[l,d.initialValues,T,s,I]),(0,t.useEffect)((function(){l&&!0===g.current&&!KI()(v.current,d.initialErrors)&&(v.current=d.initialErrors||rO,b({type:"SET_ERRORS",payload:d.initialErrors||rO}))}),[l,d.initialErrors]),(0,t.useEffect)((function(){l&&!0===g.current&&!KI()(y.current,d.initialTouched)&&(y.current=d.initialTouched||iO,b({type:"SET_TOUCHED",payload:d.initialTouched||iO}))}),[l,d.initialTouched]),(0,t.useEffect)((function(){l&&!0===g.current&&!KI()(m.current,d.initialStatus)&&(m.current=d.initialStatus,b({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var N=lO((function(e){if(A.current[e]&&zD(A.current[e].validate)){var t=XD(w.values,e),n=A.current[e].validate(t);return JD(n)?(b({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),b({type:"SET_ISVALIDATING",payload:!1})}))):(b({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(b({type:"SET_ISVALIDATING",payload:!0}),x(w.values,e).then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),b({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,t.useCallback)((function(e,t){var n=t.validate;A.current[e]={validate:n}}),[]),D=(0,t.useCallback)((function(e){delete A.current[e]}),[]),O=lO((function(e,t){return b({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?I(w.values):Promise.resolve()})),R=(0,t.useCallback)((function(e){b({type:"SET_ERRORS",payload:e})}),[]),M=lO((function(e,t){var n=zD(e)?e(w.values):e;return b({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?I(n):Promise.resolve()})),F=(0,t.useCallback)((function(e,t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),L=lO((function(e,t,n){return b({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?I(YD(w.values,e,t)):Promise.resolve()})),j=(0,t.useCallback)((function(e,t){var n,r=t,i=e;if(!KD(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(XD(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&L(r,i)}),[L,w.values]),B=lO((function(e){if(KD(e))return function(t){return j(t,e)};j(e)})),U=lO((function(e,t,n){return void 0===t&&(t=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?I(w.values):Promise.resolve()})),V=(0,t.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));U(a,!0)}),[U]),q=lO((function(e){if(KD(e))return function(t){return V(t,e)};V(e)})),Q=(0,t.useCallback)((function(e){zD(e)?b({type:"SET_FORMIK_STATE",payload:e}):b({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),z=(0,t.useCallback)((function(e){b({type:"SET_STATUS",payload:e})}),[]),H=(0,t.useCallback)((function(e){b({type:"SET_ISSUBMITTING",payload:e})}),[]),W=lO((function(){return b({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=J()))return}catch(qw){throw qw}return Promise.resolve(n).then((function(e){return g.current&&b({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw b({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(b({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=lO((function(e){e&&e.preventDefault&&zD(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&zD(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),G={resetForm:T,validateForm:I,validateField:N,setErrors:R,setFieldError:F,setFieldTouched:U,setFieldValue:L,setStatus:z,setSubmitting:H,setTouched:O,setValues:M,setFormikState:Q,submitForm:W},J=lO((function(){return f(w.values,G)})),X=lO((function(e){e&&e.preventDefault&&zD(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&zD(e.stopPropagation)&&e.stopPropagation(),T()})),Y=(0,t.useCallback)((function(e){return{value:XD(w.values,e),error:XD(w.errors,e),touched:!!XD(w.touched,e),initialValue:XD(p.current,e),initialTouched:!!XD(y.current,e),initialError:XD(v.current,e)}}),[w.errors,w.touched,w.values]),Z=(0,t.useCallback)((function(e){return{setValue:function(t,n){return L(e,t,n)},setTouched:function(t,n){return U(e,t,n)},setError:function(t){return F(e,t)}}}),[L,U,F]),$=(0,t.useCallback)((function(e){var t=HD(e),n=t?e.name:e,r=XD(w.values,n),i={name:n,value:r,onChange:B,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,B,w.values]),ee=(0,t.useMemo)((function(){return!KI()(p.current,w.values)}),[p.current,w.values]),te=(0,t.useMemo)((function(){return"undefined"!==typeof u?ee?w.errors&&0===Object.keys(w.errors).length:!1!==u&&zD(u)?u(d):u:w.errors&&0===Object.keys(w.errors).length}),[u,ee,w.errors,d]);return BD({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:q,handleChange:B,handleReset:X,handleSubmit:K,resetForm:T,setErrors:R,setFormikState:Q,setFieldTouched:U,setFieldValue:L,setFieldError:F,setStatus:z,setSubmitting:H,setTouched:O,setValues:M,submitForm:W,validateForm:I,validateField:N,isValid:te,dirty:ee,unregisterField:D,registerField:P,getFieldProps:$,getFieldMeta:Y,getFieldHelpers:Z,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function oO(e){var n=aO(e),r=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,t.useImperativeHandle)(o,(function(){return n})),(0,t.createElement)(eO,{value:n},r?(0,t.createElement)(r,n):a?a(n):i?zD(i)?i(n):GD(i)?null:t.Children.only(i):null)}function sO(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||wT(e)?sO(e):""!==e?e:void 0})):wT(e[r])?t[r]=sO(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function uO(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?$I(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=$I(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var cO="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;function lO(e){var n=(0,t.useRef)(e);return cO((function(){n.current=e})),(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function fO(e){var n=e.validate,r=e.name,i=e.render,a=e.children,o=e.as,s=e.component,u=VD(e,["validate","name","render","children","as","component"]),c=VD(tO(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,t.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(BD({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(BD({},p,{meta:d}));if(zD(a))return a(BD({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,y=VD(u,["innerRef"]);return(0,t.createElement)(s,BD({ref:v},h,y),a)}return(0,t.createElement)(s,BD({field:h,form:c},u),a)}var m=o||"input";if("string"===typeof m){var g=u.innerRef,A=VD(u,["innerRef"]);return(0,t.createElement)(m,BD({ref:g},h,A),a)}return(0,t.createElement)(m,BD({},h,u),a)}var hO=(0,t.forwardRef)((function(e,n){var r=e.action,i=VD(e,["action"]),a=null!=r?r:"#",o=tO(),s=o.handleReset,u=o.handleSubmit;return(0,t.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));hO.displayName="Form";var dO=function(e,t,n){var r=pO(e);return r.splice(t,0,n),r},pO=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(BD({},e,{length:t+1}))}return[]},vO=function(e){function n(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=YD(n.values,a,e(XD(n.values,a))),u=r?i(XD(n.errors,a)):void 0,c=t?o(XD(n.touched,a)):void 0;return QD(u)&&(u=void 0),QD(c)&&(c=void 0),BD({},n,{values:s,errors:r?YD(n.errors,a,u):n.errors,touched:t?YD(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(pO(t),[jD(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=pO(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=pO(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return dO(n,e,t)}),(function(t){return dO(t,e,null)}),(function(t){return dO(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=pO(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(qD(n)),n.pop=n.pop.bind(qD(n)),n}UD(n,e);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!KI()(XD(e.formik.values,e.name),XD(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?pO(n):[];return t||(t=r[e]),zD(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=BD({},e,{form:VD(n.formik,["validate","validationSchema"]),name:o});return r?(0,t.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):GD(a)?null:t.Children.only(a):null},n}(t.Component);vO.defaultProps={validateOnChange:!0};t.Component,t.Component;var yO,mO,gO=n.p+"static/media/emoji.780467997739d41d3736.png",AO=t.memo((function(e){var n,r=We(),i=fe((function(e){return e.account})),a=u((0,t.useState)(""),2),o=a[0],s=a[1],c=j().pathname.split("=")[1],l={newMessage:o},f=fe((function(e){return e.chat.activeChat})),h=null===f||void 0===f||null===(n=f.avatars)||void 0===n?void 0:n.find((function(e){return e.userID!==i.userID}));return(0,VI.jsxs)("section",{className:Ke.inputWrapper,children:[(0,VI.jsx)("img",{src:gO,alt:"#",className:Ke.emoji}),(0,VI.jsx)(oO,{onSubmit:function(e){0===e.newMessage.length?console.error("messsage cannot be an empty string"):(r(function(e,t,n,r,i,a,o,s){return function(){var u=Ye(Je().mark((function u(c){var l;return Je().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return console.log(r),c(CI.set_is_fetch_true()),u.next=4,SI.sendMessageToUser(e,t,n,i,a,o,s);case 4:(l=u.sent)&&c(jI(l)),c(CI.set_is_fetch_fasle());case 7:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()}(i.userID,i.fullName,e.newMessage,c,null===h||void 0===h?void 0:h.userID,f.recepientFullNAme,i.avatar,null===h||void 0===h?void 0:h.avatar)),s(""))},enableReinitialize:!0,initialValues:l,children:(0,VI.jsxs)(hO,{className:Ke.formik,children:[(0,VI.jsx)(fO,{type:"text",name:"newMessage",autoComplete:"off",autoFocus:"on",onChange:function(e){s(e.currentTarget.value)},value:o,className:Ke.messageInput}),(0,VI.jsx)("button",{type:"submit",className:Ke.textArea,children:"Send"})]})})]})})),kO=n.p+"static/media/message.4eeb592f1be2adb280b5.png",wO=(n(5413),t.memo((function(e){var n=(0,t.useRef)(null),r=We(),i=fe((function(e){return e.app.currentUserID})),a=fe((function(e){return e.chat.messages})),o=j().pathname.split("=")[1],s=j().pathname;return(0,t.useEffect)((function(){var e;r((e=o,function(){var t=Ye(Je().mark((function t(n){var r,i,a,o;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(CI.set_is_fetch_true()),t.prev=1,t.next=4,Jn(NS);case 4:return r=t.sent,t.next=7,Yg(r);case 7:return i=t.sent,t.next=10,UA(Wg(i,"Messages"),qA("roomID","==",e),zA(100));case 10:return a=t.sent,o=[],t.next=14,rk(a,(function(e){e.forEach((function(e){o.push(e.data()),n(LI(o))}))}));case 14:n(CI.set_is_fetch_fasle()),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}()))}),[o,a.length]),s.includes("id")?(0,VI.jsxs)("section",{className:Ke.messageAreaContainer,children:[(0,VI.jsxs)("div",{className:Ke.messageArea,children:[(null===a||void 0===a?void 0:a.length)>0?a.map((function(e){return(0,VI.jsx)("div",{children:(0,VI.jsx)(HI,{messageText:null===e||void 0===e?void 0:e.messageText,senderID:null===e||void 0===e?void 0:e.creatorID,currentUser:i,roomID:o})})})):(0,VI.jsxs)("div",{className:Ke.noMessages,children:[(0,VI.jsx)("img",{className:Ke.mailboxIcon,src:"data:image/png;base64,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",alt:""}),(0,VI.jsx)("h1",{children:"No messages yet"})]}),(0,VI.jsx)("div",{ref:n})]}),(0,VI.jsx)(AO,{})]}):(0,VI.jsxs)("div",{className:Ke.chatMain,children:[(0,VI.jsx)("img",{className:Ke.emptyChatIMG,src:kO,alt:"#"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("h1",{children:"Your messages"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{children:"Send personal photos and messages to a friend or group."}),(0,VI.jsx)("br",{}),(0,VI.jsx)(AO,{})]})}))),bO=t.memo((function(e){return(0,VI.jsxs)("section",{className:Ke.chatWrapper,children:[(0,VI.jsx)("h1",{className:Ke.chatHeader,children:"Messenger"}),(0,VI.jsxs)("section",{className:Ke.chatContent,children:[(0,VI.jsx)(qI,{}),(0,VI.jsx)(wO,{})]})]})})),_O=n.p+"static/media/google_button.ba94402307dab3d9e2f0.png",xO={formDivContainer:"Login_formDivContainer__TmK3m",wrapper:"Login_wrapper__Yqgfx",loginForms:"Login_loginForms__NrqsT",loginFormsError:"Login_loginFormsError__yJNr3",spanError:"Login_spanError__6RQKZ",loginButton:"Login_loginButton__pG0SA",loginButtonGoogle:"Login_loginButtonGoogle__5z38q",logoPIC:"Login_logoPIC__nQRDD",logo:"Login_logo__hNWDL",logoSpan:"Login_logoSpan__kzWT2"},CO=n.p+"static/media/Logo.ea72416355a84c9d26ab.png",EO=t.memo((function(e){var t=fe((function(e){return e.auth.onError})),n=fe((function(e){return e.app.is_fetch})),r=We();return(0,VI.jsx)("div",{className:xO.formDivContainer,children:(0,VI.jsxs)("div",{className:xO.wrapper,children:[(0,VI.jsx)("img",{src:CO,alt:"#",id:xO.logoPIC}),(0,VI.jsx)("h1",{className:xO.logo,children:".Networ"}),(0,VI.jsx)("span",{className:xO.logoSpan,children:"K"}),(0,VI.jsx)("h2",{children:"Login"}),t?(0,VI.jsx)("span",{className:xO.spanError,children:"Error : Invalid username or password"}):null,(0,VI.jsx)(oO,{enableReinitialize:!0,className:xO.loginForms,initialValues:{login:"",password:""},onSubmit:function(e){var t=r(function(e,t){return function(){var n=Ye(Je().mark((function n(r){return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(CI.set_is_fetch_true()),n.next=4,Ia(FS.getAuth,e,t).catch((function(e){throw new Error(e)})).then((function(e){console.log(e),r(yI(e.user.uid)),r(pI()),r(CI.set_is_fetch_fasle())}));case 4:return n.next=6,n.sent;case 6:n.sent,n.next=15;break;case 9:n.prev=9,n.t0=n.catch(0),r(mI(!0)),r(vI()),r(CI.set_is_fetch_fasle()),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e.login,e.password));console.log(t)},children:(0,VI.jsxs)(hO,{className:t?xO.loginFormsError:xO.loginForms,children:[(0,VI.jsx)("input",{type:"text",placeholder:"Email"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("input",{type:"text",placeholder:"Password"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("hr",{}),(0,VI.jsx)("button",{className:xO.loginButton,type:"submit",disabled:n,children:"Sign-in"})]})}),(0,VI.jsx)("br",{}),(0,VI.jsxs)("div",{children:[(0,VI.jsx)("span",{children:"OR"}),(0,VI.jsx)("br",{}),(0,VI.jsx)($,{to:"/registration",children:"Create account"})]}),(0,VI.jsxs)("section",{className:xO.Sign_in_with_google,children:[(0,VI.jsx)("br",{}),(0,VI.jsx)("button",{className:xO.loginButtonGoogle,type:"button",onClick:function(){r(function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GS.logInWithGooglePopUp();case 3:if(!(n=e.sent)){e.next=9;break}t(nI(n)),t(pI()),e.next=11;break;case 9:throw t(vI()),new Error("Authorization Error");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())},children:"Sign in with Google"}),(0,VI.jsx)("img",{src:_O,alt:"#",className:xO.googleButtonImg})]})]})})})),SO=Ue((function(e){return{is_auth:e.auth.is_auth,auth_token:e.auth.auth_token}}),(function(e){return{}}))(EO),IO="messenger/registrationReducer/setNewUserEmail",TO="messenger/registrationReducer/setNewUserUsername",NO="messenger/registrationReducer/setNewUserPassword",PO="messenger/registrationReducer/setNewUserPassword2",DO="messenger/registrationReducer/setNewUserAvatar",OO="messenger/registrationReducer/setNewUserStatus",RO="messenger/registrationReducer/setUserID",MO={userName:"",password:"",confirmPassword:"",avatar:null,email:"",status:"",newUserID:""},FO="Registration_container__xCGx6",LO="Registration_formContainer__1t594",jO="Registration_inputOnError__F7CRs",BO="Registration_regError__Q2bzr",UO="Registration_loginForms__C--s3",VO="Registration_regInput__lrPGv",qO="Registration_Regbutton__e4BWi";try{yO=Map}catch(gL){}try{mO=Set}catch(gL){}function QO(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(zO);if(yO&&e instanceof yO)return new Map(Array.from(e.entries()));if(mO&&e instanceof mO)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:QO(e[i],t,n)}return r}return e}function zO(e){return QO(e,[],[])}var HO=Object.prototype.toString,WO=Error.prototype.toString,KO=RegExp.prototype.toString,GO="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},JO=/^Symbol\((.*)\)(.*)$/;function XO(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function YO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return XO(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return GO.call(e).replace(JO,"Symbol($1)");var r=HO.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+WO.call(e)+"]":"RegExp"===r?KO.call(e):null}function ZO(e,t){var n=YO(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=YO(this[e],t);return null!==r?r:n}),2)}var $O={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(ZO(r,!0),"`")+(a?" (cast from the value `".concat(ZO(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},eR={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},tR={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},nR={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},rR={isValue:"${path} field must be ${value}"},iR={noUnknown:"${path} field has unspecified keys: ${unknown}"},aR={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},oR=(Object.assign(Object.create(null),{mixed:$O,string:eR,number:tR,date:nR,object:iR,array:aR,boolean:rR}),n(7805)),sR=n.n(oR),uR=function(e){return e&&e.__isYupSchema__},cR=function(){function e(t,n){if(ft(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!sR()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),s=t.pop(),u=o.apply(void 0,t)?i:a;if(u)return"function"===typeof u?u(s):s.concat(u.resolve(r))}}else this.fn=n}return dt(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!uR(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),lR=cR;function fR(e){return null==e?[]:[].concat(e)}function hR(){return hR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hR.apply(this,arguments)}var dR=/\$\{\s*(\w+)\s*\}/g,pR=function(e){ot(n,e);var t=ct(n);function n(e,r,i,a){var o;return ft(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],fR(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,he(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(it(o),n),o}return dt(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=hR({},t,{path:n})),"string"===typeof e?e.replace(dR,(function(e,n){return ZO(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(vt(Error));function vR(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,s=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new pR(o,a,u)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!pR.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(s&&f.sort(s),o.length&&f.push.apply(f,he(o)),o=f),o.length)return void c(new pR(o,a,u),a);c(null,a)}}))}}var yR=n(7702),mR=n.n(yR),gR=n(2758),AR="$",kR=".";var wR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ft(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===AR,this.isValue=this.key[0]===kR,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?AR:this.isValue?kR:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,gR.getter)(this.path,!0),this.map=n.map}return dt(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function bR(){return bR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bR.apply(this,arguments)}function _R(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,u=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=s.parent,y=s.context;function m(e){return wR.isRef(e)?e.getValue(r,v,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=mR()(bR({value:r,originalValue:u,label:o,path:e.path||a},d,e.params),m),n=new pR(pR.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var A=bR({path:a,parent:v,type:f,createError:g,resolve:m,options:s,originalValue:u},l);if(c){var k;try{var w;if("function"===typeof(null==(w=k=h.call(A,r,A))?void 0:w.then))throw new Error('Validation test of type: "'.concat(A.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(b){return void n(b)}pR.isError(k)?n(k):k?n(null,k):n(g())}else try{Promise.resolve(h.call(A,r,A)).then((function(e){pR.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(b){n(b)}}return t.OPTIONS=e,t}wR.prototype.__isYupRef=!0;var xR=function(e){return e.substr(0,e.length-1).substr(1)};function CR(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,gR.forEach)(t,(function(s,u,c){var l=u?xR(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var ER=function(){function e(){ft(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return dt(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=lt(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(s){n.e(s)}finally{n.f()}var i,a=lt(this.refs);try{for(a.s();!(i=a.n()).done;){var o=u(i.value,2)[1];t.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(wR.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){wR.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){wR.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function SR(){return SR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SR.apply(this,arguments)}var IR=function(){function e(t){var n=this;ft(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new ER,this._blacklist=new ER,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError($O.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=SR({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return dt(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=SR({},this.exclusiveTests),t.deps=he(this.deps),t.conditions=he(this.conditions),t.tests=he(this.tests),t.transforms=he(this.transforms),t.spec=zO(SR({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=SR({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(he(t.transforms),he(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(SR({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=ZO(e),a=ZO(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,u=n.originalValue,c=void 0===u?e:u,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,SR({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:s},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),vR({args:v,value:p,path:a,sync:i,tests:y,endEarly:d},(function(e){e?r(e,p):vR({tests:t.tests.concat(m),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(SR({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(SR({},t,{value:e}))._validate(e,SR({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(pR.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(pR.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):zO(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$O.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$O.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=$O.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=_R(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=fR(e).map((function(e){return new wR(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new lR(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=_R({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$O.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=_R({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$O.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=_R({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();IR.prototype.__isYupSchema__=!0;for(var TR=function(){var e=PR[NR];IR.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=CR(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],SR({},r,{parent:a,path:t}))}},NR=0,PR=["validate","validateSync"];NR<PR.length;NR++)TR();for(var DR=0,OR=["equals","is"];DR<OR.length;DR++){var RR=OR[DR];IR.prototype[RR]=IR.prototype.oneOf}for(var MR=0,FR=["not","nope"];MR<FR.length;MR++){var LR=FR[MR];IR.prototype[LR]=IR.prototype.notOneOf}IR.prototype.optional=IR.prototype.notRequired;var jR=IR;jR.prototype;var BR=function(e){return null==e};var UR=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return dt(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rR.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return BR(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rR.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return BR(e)||!1===e}})}}]),n}(IR);UR.prototype;var VR=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,qR=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,QR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zR=function(e){return BR(e)||e===e.trim()},HR={}.toString();function WR(){return new KR}var KR=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===HR?e:t}))})),e}return dt(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return rt(tt(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eR.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return BR(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eR.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return BR(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eR.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return BR(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||eR.matches,params:{regex:e},test:function(t){return BR(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.email;return this.matches(VR,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.url;return this.matches(qR,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.uuid;return this.matches(QR,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:zR})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.lowercase;return this.transform((function(e){return BR(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return BR(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.uppercase;return this.transform((function(e){return BR(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return BR(e)||e===e.toUpperCase()}})}}]),n}(IR);WR.prototype=KR.prototype;var GR=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return dt(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tR.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return BR(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tR.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return BR(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tR.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return BR(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tR.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return BR(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tR.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tR.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tR.integer;return this.test({name:"integer",message:e,test:function(e){return BR(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return BR(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return BR(t)?t:Math[e](t)}))}}]),n}(IR);GR.prototype;var JR=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var XR=new Date("");function YR(){return new ZR}var ZR=function(e){ot(n,e);var t=ct(n);function n(){var e;return ft(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=JR.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?XR:new Date(e))}))})),e}return dt(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(wR.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nR.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return BR(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nR.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return BR(e)||e<=this.resolve(n)}})}}]),n}(IR);ZR.INVALID_DATE=XR,YR.prototype=ZR.prototype,YR.INVALID_DATE=XR;var $R=n(7499),eM=n.n($R),tM=n(567),nM=n.n(tM),rM=n(9029),iM=n.n(rM),aM=n(6514),oM=n.n(aM);function sM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=u(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,gR.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(sR()(e,t)){var n=e[t];r.add(t),wR.isRef(n)&&n.isSibling?a(n.path,t):uR(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var s in e)o(s);return oM().array(Array.from(r),n).reverse()}function uM(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function cM(e){return function(t,n){return uM(e,t)-uM(e,n)}}function lM(){return lM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lM.apply(this,arguments)}var fM=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function hM(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var dM=cM([]),pM=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=dM,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return dt(n,[{key:"_typeCheck",value:function(e){return fM(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=rt(tt(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,s=this.fields,u=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=lM({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=lt(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=s[p],y=sR()(a,p);if(v){var m=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var A="spec"in(v=v.resolve({value:g,context:i.context,parent:l}))?v.spec:void 0,k=null==A?void 0:A.strict;if(null==A?void 0:A.strip){h=h||p in a;continue}void 0!==(m=i.__validating&&k?a[p]:v.cast(a[p],f))&&(l[p]=m)}else y&&!u&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(w){d.e(w)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,s=r.from,u=void 0===s?[]:s,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,d=r.recursive,p=void 0===d?this.spec.recursive:d;u=[{schema:this,value:l}].concat(he(u)),r.__validating=!0,r.originalValue=l,r.from=u,rt(tt(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!pR.isError(e)||h)return void i(e,n);a.push(e)}if(p&&fM(n)){l=l||n;var s=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],lM({},r,{path:o,from:u,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));vR({sync:o,tests:s,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=rt(tt(n.prototype),"clone",this).call(this,e);return t.fields=lM({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=rt(tt(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var s=u(o[a],2),c=s[0],l=s[1],f=i[c];void 0===f?i[c]=l:f instanceof IR&&l instanceof IR&&(i[c]=l.concat(f))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?rt(tt(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=cM(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(he(n._excludedEdges),he(t))),n._nodes=sM(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=lt(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=lt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,gR.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return sR()(i,e)&&(a=lM({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iR.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=hM(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iR.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&iM()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(nM())}},{key:"snakeCase",value:function(){return this.transformKeys(eM())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return eM()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=rt(tt(n.prototype),"describe",this).call(this);return e.fields=mR()(this.fields,(function(e){return e.describe()})),e}}]),n}(IR);function vM(e){return new pM(e)}function yM(){return yM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yM.apply(this,arguments)}vM.prototype=pM.prototype;var mM=function(e){ot(n,e);var t=ct(n);function n(e){var r;return ft(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return dt(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=rt(tt(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,yM({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=[],u=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;rt(tt(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!pR.isError(e)||f)return void o(e,t);s.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=yM({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);vR({sync:u,path:c,value:t,errors:s,endEarly:f,tests:n},o)}else o(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=rt(tt(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=rt(tt(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!uR(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ZO(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aR.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return BR(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||aR.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return BR(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||aR.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return BR(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=rt(tt(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return rt(tt(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return rt(tt(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return rt(tt(n.prototype),"required",this).call(this,e)}}]),n}(IR);mM.prototype;var gM=t.memo((function(e){var t,n,r=vM().shape({userName:WR().typeError("Field must be string").required("This Field is Required").max(22).min(6),email:WR().typeError("Field must be string").required("This Field is Required").max(22).min(6),password:WR().typeError("Field must be string").required("This Field is Required").max(20).min(6),confirmPassword:WR().oneOf([(t="password",new wR(t,n))],"Passwords dindt match").required("This Field is Reqired").min(6).max(20)}),i=fe((function(e){return e.registration})),a=We(),o={userName:i.userName,email:i.email,password:i.password,confirmPassword:i.confirmPassword};return(0,VI.jsxs)("section",{className:FO,children:[(0,VI.jsx)("h1",{children:"Registration"}),(0,VI.jsx)("hr",{}),(0,VI.jsx)(oO,{initialValues:o,enableReinitialize:!0,validationSchema:r,onSubmit:function(e,t){var n;console.log(e),a((n=e,function(){var e=Ye(Je().mark((function e(t){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(CI.set_is_fetch_true()),t(CI.init(!1)),r=GS.createNewUserWithEmailAndPassword(n.email,n.password,n.userName),e.next=5,t(CI.setCurrentUserID(null===r||void 0===r?void 0:r.userID));case 5:t(QS(r)),t(pI()),t(CI.set_is_fetch_fasle()),t(CI.init(!0));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},validateOnBlur:!0,children:function(e){var t=e.values,n=e.errors,r=e.touched,i=e.handleChange,a=e.handleBlur,o=e.isValid,s=(e.handleSubmit,e.dirty);return(0,VI.jsx)("div",{children:(0,VI.jsxs)(hO,{className:LO,children:[(0,VI.jsxs)("section",{className:UO,children:[(0,VI.jsx)(fO,{className:r.userName&&n.userName?jO:VO,name:"userName",placeholder:"username",onChange:i,value:t.userName,onBlur:a,type:"text"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:BO,children:r.userName&&n.userName&&n.userName}),(0,VI.jsx)(fO,{className:r.email&&n.email?jO:VO,name:"email",type:"text",onChange:i,value:t.email,onBlur:a,placeholder:"email"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:BO,children:r.email&&n.email&&n.email}),(0,VI.jsx)("input",{className:r.password&&n.password?jO:VO,title:"password",placeholder:"password",name:"password",type:"password",onChange:i,value:t.password,onBlur:a}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:BO,children:r.password&&n.password&&n.password}),(0,VI.jsx)("input",{className:r.confirmPassword&&n.confirmPassword?jO:VO,title:"password",placeholder:"confirm password",name:"confirmPassword",type:"password",onChange:i,value:t.confirmPassword,onBlur:a}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:BO,children:r.confirmPassword&&n.confirmPassword&&n.confirmPassword})]}),(0,VI.jsx)("div",{className:qO,children:(0,VI.jsx)("button",{type:"submit",disabled:!o&&!s,children:"Create Account"})})]})})}})]})})),AM=function(e){ot(n,e);var t=ct(n);function n(){return ft(this,n),t.call(this)}return dt(n,[{key:"getPostListRealtime",value:function(){var e=Ye(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xS,e.next=3,oS(this.RealtimeDataBase,"Posts");case 3:return e.t1=e.sent,e.t2=wS("creatorID"),e.t3=_S(t),e.next=8,(0,e.t0)(e.t1,e.t2,e.t3).ref;case 8:return n=e.sent,r=[],yS(n,(function(e){e.forEach((function(e){console.log(e),r.push(e.val())}))})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllPost",value:function(){var e=Ye(Je().mark((function e(){var t,n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(sS(this.DatabaseRef,"Posts/"));case 2:return e.next=4,e.sent.val();case 4:return t=e.sent,n=Object.values(t),console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Ye(Je().mark((function e(t,n,r,i,a,o){var s,u,c,l,f,h;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=RS(12),console.log(t),u=bw(this.storageRefrence,s),e.next=6,uS(sS(oS(this.RealtimeDataBase),"Posts")).key;case 6:return c=e.sent,e.next=9,kw(u,n);case 9:return e.next=11,ww(u);case 11:return l=e.sent,f={post_text:r,postTags:i,post_img:l,creator:a,likes_count:[],createdAt:(new Date).getDate(),id:c,creatorID:o},(h={})["Posts/"+c]=f,e.next=17,fS(oS(this.RealtimeDataBase),h);case 17:return e.abrupt("return",f);case 20:return e.prev=20,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()},{key:"savePostToGalery",value:function(){var e=Ye(Je().mark((function e(t,n,r){var i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(sS(this.DatabaseRef,"Users/"+t+"/posts/"+r));case 2:return e.next=4,e.sent.key;case 4:return i=e.sent,(a={})["Users/"+n+"/savedPosts/"+i]={},e.abrupt("return",fS(this.DatabaseRef,a));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deletePsotFromGalery",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(sS(this.DatabaseRef,"Users/"+t+"/savedPosts/"+n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(sS(this.DatabaseRef,"Users/"+t+"/posts/"+n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPostByID",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(sS(this.DatabaseRef,"Posts/"+t));case 2:return e.next=4,e.sent;case 4:return n=e.sent,e.abrupt("return",n.val());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListOfPosts",value:function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(xS(oS(this.RealtimeDataBase,"Posts/"),wS("creatorID"),_S(t)));case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addLikeToPost",value:function(){var e=Ye(Je().mark((function e(t,n){var r,i,a,o,s;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(sS(this.DatabaseRef,"Posts/"+n));case 2:return e.next=4,e.sent.val();case 4:if(r=e.sent,!Object.hasOwn(r,"likes_count")||!Object.values(r.likes_count).includes(t)){e.next=13;break}return null,i={},a=Object.keys(r.likes_count).find((function(e){return r.likes_count[e]===t})),i["Posts/"+n+"/likes_count/"+a]=null,e.abrupt("return",fS(oS(this.RealtimeDataBase),i));case 13:return e.next=15,uS(sS(this.DatabaseRef,"Posts/"+n+"/likes_count/")).key;case 15:return o=e.sent,(s={})["Posts/"+n+"/likes_count/"+o]=t,e.abrupt("return",fS(oS(this.RealtimeDataBase),s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeLikefromPost",value:function(){var e=Ye(Je().mark((function e(t,n,r){var i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(sS(this.DatabaseRef,"Users/"+t+"/posts/"+n+"likes"+r));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"addComentToPost",value:function(){var e=Ye(Je().mark((function e(t,n,r,i,a){var o,s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uS(sS(oS(this.RealtimeDataBase),"Posts/"+n+"/coments/")).key;case 2:if(o=e.sent,e.prev=3,!(r.length>0)){e.next=12;break}return s={coment_text:r,comentatorName:i,avatar:a,createdAt:(new Date).toString(),comentID:o,comentatorID:t},(u={})["Posts/"+n+"/coments/"+o]=s,fS(oS(this.RealtimeDataBase),u),e.abrupt("return",s);case 12:throw new Error("Error : Coment canot be an ampty string!");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"deleteComent",value:function(){var e=Ye(Je().mark((function e(t,n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,(r={})["Posts/"+t+"/coments/"+n]=null,e.abrupt("return",fS(oS(this.RealtimeDataBase),r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(function(){function e(){ft(this,e),this.RealtimeDataBase=OS,this.DatabaseRef=oS(OS),this.firebaseAPP=PS,this.firebaseStorage=_w(this.firebaseAPP),this.storageRefrence=bw(this.firebaseStorage),this.firebaseAuth=DS,this.googleAuthProvider=new ca,this.timeStamp=TS,this.onValue=yS,this.ref=oS}return dt(e,[{key:"getAuthProvider",value:function(){return this.googleAuthProvider}},{key:"getAuthInstatnce",value:function(){return this.firebaseAuth}},{key:"getApp",value:function(){return this.firebaseAPP}},{key:"getDatabase",value:function(){return this.RealtimeDataBase}}]),e}()),kM=new AM,wM="messenger/posts_reducer/get_post",bM="messenger/posts_reducer/set_showed_post",_M="messenger/posts_reducer/like",xM="messenger/posts_reducer/dislike",CM="messenger/posts_reducer/addComent",EM="messenger/psts_reducer/deleteComent",SM="insta-clone/postReducer/setIsOnNewPost",IM="insta-clone/postReducer/setNewPostPhoto",TM="insta-clone/postReducer/setNewPostText",NM="insta-clone/postReducer/createPost",PM={posts:[],newPost:null,currentPost:null,isOnNewPost:!1,newPostPhoto:null,newPostText:""},DM=function(e){return{type:"messenger/posts_reducer/get_post",payload:e}},OM=function(e){return{type:"messenger/posts_reducer/set_showed_post",payload:{post_text:e.post_text,post_img:e.post_img,id:e.id,likes_count:Object.hasOwn(e,"likes_count")?Object.values(e.likes_count):[],creator:e.creator,createdAt:e.createdAt,coments:Object.hasOwn(e,"coments")?Object.values(e.coments):[],creatorID:e.creatorID,creatorAvatar:e.creatorAvatar}}},RM=function(e,t){return{type:"messenger/posts_reducer/addComent",payload:{coment:t,postID:e}}},MM=function(e){return{type:"messenger/psts_reducer/deleteComent",payload:e}},FM=function(e){return{type:"messenger/posts_reducer/like",payload:e}},LM=function(e){return{type:"messenger/posts_reducer/dislike",payload:e}},jM=function(e){return{type:"insta-clone/postReducer/setIsOnNewPost",payload:e}},BM=function(e){return{type:"insta-clone/postReducer/setNewPostPhoto",payload:e}},UM=function(e){return{type:"insta-clone/postReducer/setNewPostText",payload:e}},VM=function(e){return function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(CI.set_is_fetch_true()),t.next=3,kM.getPostByID(e);case 3:(r=t.sent)&&n(OM(r)),n(CI.set_is_fetch_fasle());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},qM=function(e,t){return function(){var n=Ye(Je().mark((function n(r){var i;return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(CI.set_is_fetch_true()),n.next=3,JS.RemovePostByPostID(t);case 3:return n.next=5,kM.getListOfPosts(e);case 5:(i=n.sent)&&r(DM(Object.values(i.val()))),r(CI.set_is_fetch_fasle());case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},QM=function(e,t){return function(){var n=Ye(Je().mark((function n(r){return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(CI.set_is_fetch_true()),n.prev=1,n.next=4,JS.addLikeToPost(e,t);case 4:r(CI.set_is_fetch_fasle()),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},zM={newPostContainer:"NewPostModal_newPostContainer__OC6fN",newPostModal:"NewPostModal_newPostModal__bJeTy",imgContainer:"NewPostModal_imgContainer__xtX4m",step2:"NewPostModal_step2__GVDJw",showNext:"NewPostModal_showNext__GNggS",next:"NewPostModal_next__vyM3X",disableNext:"NewPostModal_disableNext__Fpa1X",imgIcon:"NewPostModal_imgIcon__ivrol",newPostIMG:"NewPostModal_newPostIMG__gTmwS",publish:"NewPostModal_publish__Zi9c7",stepBack:"NewPostModal_stepBack__fHDHb",cancelNewPost:"NewPostModal_cancelNewPost__Mq4d8"},HM=n.p+"static/media/imageGallery.6efc1d3040f2b00bf278.png",WM=t.memo((function(e){var n=We(),r=B(),i=u((0,t.useState)(1),2),a=i[0],o=i[1],s=fe((function(e){return e.app.onLoad})),c=fe((function(e){return e.userPosts.newPostPhoto})),l=fe((function(e){return e.userPosts.newPostText})),f=fe((function(e){return e.account})),h=u((0,t.useState)(null),2),d=h[0],p=h[1];return(0,VI.jsxs)("section",{className:zM.newPostContainer,children:[(0,VI.jsx)("div",{className:zM.newPostModal,children:(0,VI.jsx)(oO,{enableReinitialize:!0,onSubmit:function(e){var t={post_img:c,post_text:l,creator:f.fullName,likes_count:[],coments:[],creatorID:f.userID,creatorAvatar:f.avatar};JS.createPost(t),n(jM(!1)),r("/profile/id=".concat(f.userID))},initialValues:{post_text:"",post_img:c,post_tag:"",file:d},children:(0,VI.jsx)(hO,{children:1===a?(0,VI.jsxs)("div",{children:[(0,VI.jsxs)("label",{htmlFor:"file_input",children:[(0,VI.jsx)("div",{className:zM.imgContainer}),c?(0,VI.jsx)("img",{className:zM.newPostIMG,src:c,alt:"#"}):(0,VI.jsxs)("div",{className:zM.selectPhoto,children:[(0,VI.jsx)("h1",{children:"Select photo from galery"}),(0,VI.jsx)("img",{className:zM.imgIcon,src:HM,alt:"#"})]})]}),(0,VI.jsx)("br",{}),(0,VI.jsx)("input",{type:"file",id:"file_input",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target,r=new FileReader;p(e.target.files[0]),t.files.length?(r.readAsDataURL(t.files[0]),r.onload=function(e){n(CI.setOnLoad(!0)),n(BM(r.result)),n(CI.setOnLoad(!1))}):console.log("ERROR")}}),(0,VI.jsx)("h2",{onClick:function(){o(2)},className:c?zM.showNext:zM.disableNext,children:"Next\t>>"})]}):(0,VI.jsxs)("div",{className:zM.step2,children:[(0,VI.jsx)("h1",{children:"Come up with a signature"}),(0,VI.jsx)(fO,{type:"text",name:"post_text",className:zM.textInput,autocomplete:"off",onKeyUp:function(e){console.log(e.key),n(UM(e.key))}}),(0,VI.jsx)("h1",{children:"Add tags to your post"}),(0,VI.jsx)(fO,{type:"text",name:"post_tag",autocomplete:"off",className:zM.textInput}),(0,VI.jsx)("br",{}),(0,VI.jsx)("button",{type:"submit",className:zM.publish,disabled:s||null===c||l.length<1,children:"Publish"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("h2",{onClick:function(){o(1)},className:zM.stepBack,children:"<<\tBack"})]})})})}),(0,VI.jsx)("button",{className:zM.cancelNewPost,onClick:function(){n(jM(!1)),n(BM(null)),r("/profile/id=".concat(f.userID))},children:"Cancel"})]})})),KM={comentWrapper:"Coments_comentWrapper__o8RhJ",commentsHeader:"Coments_commentsHeader__9MNiT",comentsArea:"Coments_comentsArea__kxgEk",comentsList:"Coments_comentsList__HBV6r",ComentInput:"Coments_ComentInput__R6w40",backArrow:"Coments_backArrow__Ix2zn",singleComentWrapper:"Coments_singleComentWrapper__QJIbB",userName:"Coments_userName__Yfu70",comentText:"Coments_comentText__cRqhm",deleteWrapper:"Coments_deleteWrapper__VjuU5",deleteComent:"Coments_deleteComent__xg7+u",noComentsContainer:"Coments_noComentsContainer__MN+GB",noComents:"Coments_noComents__-OeTO"},GM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACEwAAAhMBmtPiRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGySURBVHic7ZmxagJBFEXPLNqksk+VSpBAClsLIT9ka5lPif+RT9hAIASt0phfiI3yUmTWbDbGOKvhCvMOTOEyj3fedVlHNpgZOVOoBdR4AGoBNR6AWkCNB6AWUOMBqAXUeABqATUegFpAjQegFlDjAagF1HgAagE1HoBaQI0HoBZQk30AneaFEMIFcANcAS/As5mtT904hHAJDOPH0sze/qFHB7gGBsAr8GRm7982mRnx7VAPuAfWgNXWCrgDutXeYxYwAuaNHhavjU7UoxudV40e6zhjb7s3FgyA5Q6p+nqsF7YUmwKbPT02wPTIHr3oum+WJTCoXgt2gPKPgmrNjvzm9w1fD6H1nQDMDpyljLMzObCgWuOWYrtu+9/WvGWPceIskwK4JY3U/dUDr59Q0o81qSTPUvD1JD6U1P3nXDPM/hxQ8PkwSCF1/znXlAXwkFiUup94yFkklCxaHoxazZL3z2D2B6FGYXZH4RALtuT2Z+hHALnh5wC1gBoPQC2gxgNQC6jxANQCajwAtYAaD0AtoMYDUAuo8QDUAmo8ALWAGg9ALaDGA1ALqPEA1AJqPgBZ/JKsT2m2rgAAAABJRU5ErkJggg==",JM="Avatar_wraperDiv__fFIXV",XM="Avatar_defaultAvatarSmall__xm7g4",YM="Avatar_avatarSmall__-TsKY",ZM="Avatar_defaultAvatarLarge__IlrgZ",$M="Avatar_avatarLarge__qJNaE",eF=n.p+"static/media/avatarBackground.7c54d65e46213d8408a2.jpg",tF=t.memo((function(e){var t=We(),n=fe((function(e){return e.account.userID})),r=function(n){var r=new FileReader;n.target.files.length?(r.readAsDataURL(n.target.files[0]),r.onload=function(){var i,a,o;t((a=n.target.files[0],o=e.userID,function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Upadte avatar thunk"),t(CI.set_is_fetch_true()),e.next=5,FS.updateAvatar(o,a);case 5:n=e.sent,t(zS(n)),console.log(n),t(CI.set_is_fetch_fasle()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),t(zS(null===(i=r.result)||void 0===i?void 0:i.toString()))}):console.log("ERROR")};if(null===e.avatarIMG||void 0===e.avatarIMG){var i;null===(i=e.fullName)||void 0===i||i.charAt(0).toUpperCase();return(0,VI.jsx)("div",{className:JM,children:(0,VI.jsxs)("div",{className:"large"===e.size?ZM:XM,children:[(0,VI.jsx)("label",{htmlFor:"avatarInput",children:(0,VI.jsx)("img",{src:eF,alt:"#"})}),e.userID===n?(0,VI.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:r,id:"avatarInput",style:{display:"none"}}):null]})})}return(0,VI.jsxs)("div",{className:"large"===e.size?$M:YM,children:[(0,VI.jsx)("label",{htmlFor:"avatarInputImg",children:(0,VI.jsx)("img",{src:e.avatarIMG,alt:"#"})}),e.userID===n?(0,VI.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:r,id:"avatarInputImg",style:{display:"none"}}):null]})})),nF=t.memo((function(e){var t,n,r,i,a,o=We(),s=j().pathname.split("=")[1];return(0,VI.jsxs)("div",{className:KM.singleComentWrapper,children:[(0,VI.jsx)(tF,{size:"small",fullName:null===(n=e.coment)||void 0===n?void 0:n.comentatorName,avatarIMG:e.coment.avatar}),(0,VI.jsx)("span",{className:KM.userName,children:(null===(r=e.coment)||void 0===r?void 0:r.comentatorName)+"\t:\t"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:KM.comentText,children:null===(i=e.coment)||void 0===i?void 0:i.coment_text}),(0,VI.jsx)("div",{className:KM.deleteWrapper,children:(null===(a=e.coment)||void 0===a?void 0:a.comentatorID)===e.currentUserID?(0,VI.jsx)("img",{className:KM.deleteComent,src:GM,alt:"#",onClick:function(){var t,n;o((t=s,n=e.coment,function(){var e=Ye(Je().mark((function e(r){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(CI.set_is_fetch_true),e.next=3,JS.removeComent(n,t);case 3:r(MM(n.comentID)),r(CI.set_is_fetch_fasle());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}):null}),(0,VI.jsx)("br",{})]},null===(t=e.coment)||void 0===t?void 0:t.comentID)})),rF={postWrapper:"OpenPost_postWrapper__k30N2",postInfo:"OpenPost_postInfo__5vTB9",creatorInfo:"OpenPost_creatorInfo__K-PE7",comentIcon:"OpenPost_comentIcon__AEll4",autorName:"OpenPost_autorName__2hLbg",navigation:"OpenPost_navigation__Xb686",likesCount:"OpenPost_likesCount__HoZOp",hr:"OpenPost_hr__vtUiZ",postIMG:"OpenPost_postIMG__e2KVU",likeIcon:"OpenPost_likeIcon__475H+",showAll:"OpenPost_showAll__Tst8m",comentText:"OpenPost_comentText__u3t0g",deleteComent:"OpenPost_deleteComent__U1Cvw",closeWrapper:"OpenPost_closeWrapper__kCbf7",singleComentWrapper:"OpenPost_singleComentWrapper__MQhf4",comentsWrapper:"OpenPost_comentsWrapper__yRzz1",deletePost:"OpenPost_deletePost__dkEpi"},iF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAENklEQVR4nO2aaYhOURjHH/s2JLuxZRtDlqJB2bOUD0Q+WBJTlrJ/ERNRSoytCBkR84VQyFayfbBkT4wllCbbDFnHMrbB/+m+Y+457515r3uee005//p9mLr3/zznufc9c855LpGVlZWVlZWVlZWVVQDVA5PBBnACXAN3wXmwHywBQ0CVAN51wBiwChwFl2LeV8ARsAKMBNWMRhBQXcEB8BX88sErcorU0od3GtgLCn16vwWbQGORkSVQdbAZ/PCZnA4XbHnMR1cTsC+gL1MAZssOV1UjcMFHEk/AtwTX8U+lucu7L8hPcM87kEvOEy/ruu2gqvTgk8ANj2AfwEYwFNRyXV8BNAOTyPmpeBXkUeya/uBzKQPOAsPImWvc4r9Hgz3gu8e92TLDLtFujyDbQEOf96eQMynqHrcp/ol+AetAfZ/e7cFpD+9ZPu9PqEGa8U8wI6DXeCp74uRi9AngWwls9fDy+4DK1DnNeKWh30TyHvwn0N3Al4ugvwmZRplCHTXDx6CGqSl0iOILkCHgm0rqnJBHwdYgf7SU1CQXGCZYrGGaLyddV8j7oOY92MTslGbWwjS7mGprvjlCvqyxmvcyE7MCl1GuaWaaXrq8Dwv6JpNagONBjeprRocksnMpnZyJ7xnoKeztLu7doCbdSC3AFpHUVFUmZ9EkrZtUkvf7oCZppBZgtUhq0ci9ZC8MaqIXYJ1IatGIt87GBUghtQA7RFKLRvepJO8XQU1qklqAkyKpRSOeXIvzvm5i5N6i5pvnFYnakPrg9puYHdHM2ppmF4EmkOASe7FmNs80uwikb90Hmpjpa4HLhsmFLT6U+Ugl+b4hgUPTHFKL0MHUMERNJjXXLAnTDM10p4RpCOLzgDuk5tpXwpg3F+4zOz4R7iRhLKx0it9hii2z12rmR6WMhcTb61xScxwlGaABOZsKd4DpkgEMlU1qblcphE3WQi0Ir7ZSpYME0DhS8yoC/cIIVBGc0YI9BE3DCOZTvcjpTbhzMj20LVPczXmtBbxF8Y2LKNTZIxde94t3hXRxR1bvxnDHNjnswC7xVj1Py4F3fe2iSoDP9ou0BJ6D3hHE5uaK3krjCbpHBLEVzdWSYLitNY3COebijvJ6j5hcjFAmPT+aQt6Nz7Ogi2AcPtu/5xGH54ABgnECaTjFT0YMF2YNmU2Q/Js+4OHN8LI3xcBbVK1IPYdzw7sz/qii/V/48SvNHR59nikmm9R2fLkQb0bmk3evv3iBwg0QXrjU8bifvxWYSc5/FK/7madgRJiDkBC/DbvIaaOXNhCeLI+BqeT0Gy8muJ6Lyp/WJEU4DmPxYQpvnXmwpQ0sEfxxFX8NFuUaQ1z8bRHvI/j19TvwB+Qcv5W737mJeI7gAwr+XI6/M/Ca1TNj14SxjihX4gHyym0RmANa/9t0rKysrKysrKysrP47/QbYBhTGcpUrbAAAAABJRU5ErkJggg==",aF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEi0lEQVR4nO1aR4hUQRAts2LGhFlUMCNGUEEMYECMrKhguJjBBCIeFLNgDigiiiuYFTNmURRUTBhQDJj1IJhzwlCPVhlmqnem/6+encN/8C7L8ur1dP/q7uoiihAhQoQIaUN+Zm1mZ2Zf5vC/HMrMYrZhVmLmyS2D2ijC7MlcyrzE/M78nQLfMo8wpzObp9u0BjCTG5nvKbUBJ+ND5ixmxXQOIgi6MC+QzqAlfmOuZ1ZN03hSRi3mQfI38Hh+Ys5kFkrH4JJhCLkv9S/M+2TyAniF+ZT501HnKrO+/yHKyMtckcRg7De8hNmHWY3sWR4z2og5grmV+SEF7c9kdpC0oiBzRxJjyPibma0o+LaGXWQg83KSWFg5YwLGcEY+5rYkhnaSyQua6MG8myRuWn6ElTkYeEFm3/cFrLz5ZM8V+Hs/j/FpmCUweJ1ZxWfwGOAk+c7iAwm2sY+gEP1qCXqeWcpH0BzQhPnc4ucWs6hmMCy9a5Zg2M7KawZzAH4E20pYqhlosiXIa2ZdzUABgM9Bygk/mA01AlQg+aDzi9lJI4AC5pA8QYc0xBdYxDdoiCsB1+wbJPtsEkYYiU2afSz93PrubehA8g+wOYzoKIvo+DCiHnGC5G2xRFDBs4LghzCCnoHruDRhQ4KIlSM5u67WcOoJuKA9I/lo7owBghCY6SUq3DqlI7rzhWyRIIRaXV4tp57QjeSJq+cqdFQQOapm0x9KkjmjxHvv7Sp0RxCZpWbTL1Bdivc+yVVE2v+H63n0ilOkcDf4IYgM0PPoFXso0ftaVxFpC+yu59ErNlGi9y2uItIn0EvPo1dg34/3nu0q8kgQGatm0S+OU6L35a4iJwWRhXoeveIeJXqf6iqyShDZq+fRG/C2oJLApaMwyk8FtJx6QluST4LNXIUqWoTaKRn1hWmU6PkjBZy4W4JYpucBqTIU+AgvXYheMYuFtukHTUletROCCqKdRbpYZGpFCOWveK840FUOIyrtqY/JFCIzCSjPS9n/eFjhLEEU7BhWWBnoKZJ8dg0r3MginEnH4sEke0QDReiOs0mCMPJCpbDCSqhD9kYKlYeb04LwJQ1hBZQluXAD7tIIUJrkxDJDQzwk8DCDiZAG/5KUOslsleEWGuIh0ID5gGRv+DzVmjQ2CAHwJp+blWEUZWxP4uBsrUDoBXohBMi2/D9uYdgax5HZIQpqGfmL6iQXOmK5jhT7jFtbgsS2pNVkjmbuI3PhiP0/vNBMZBYP6QMDn0umOTKnwaMMpno4k97c/zUhLSN79o3nGzK1BayKVN8UscUi/xym1Jon8Rqk/lleTSGwK7GjnCPTBAnTuKRglWBXWczcznzioIdVMUh74AC2EOkSlEk8Qx7bc0aGMOb7h8MKwdHX606U7WgKhRMsYRw9UStAnjivOGjwJpk+xcIex/0fc5OYwZvBbjJNzTVy0MGLLN4TcWJz7QQHb5PJFS0Vx5YS0Bl2P84M+gTnMdtTsD2+DJkVgssV2m33M48xL5K5sx9grmFOIXOSC1XE0MC/pdyfMufmFyFChAgRNPEHAixPaOe6iHgAAAAASUVORK5CYII=",oF=n.p+"static/media/6.865b752f64bfb5e2345f.gif",sF="Preloader_loader__ONANb",uF="Preloader_lineLoader__7w+Cd",cF=function(){return(0,VI.jsx)(VI.Fragment,{children:(0,VI.jsx)("img",{src:oF,alt:"#",className:sF})})},lF=t.memo((function(e){var n=B(),r=We(),i=j().pathname.split("=")[1];(0,t.useEffect)((function(){r(VM(i))}),[]);var a,o,s=function(){n("coments")};return console.log(e.post),e.post?(0,VI.jsxs)("section",{className:rF.postWrapper,children:[(0,VI.jsxs)($,{to:"/profile/id:=".concat(e.post.creatorID),className:rF.creatorInfo,children:[(0,VI.jsx)(tF,{avatarIMG:e.post.creatorAvatar,fullName:e.post.creator,size:"small"}),(0,VI.jsx)("h1",{className:rF.autorName,children:null===(a=e.post)||void 0===a?void 0:a.creator})]}),(0,VI.jsx)("div",{className:rF.postIMGContainer,children:(0,VI.jsx)("img",{className:rF.postIMG,src:e.post.post_img,alt:""})}),(0,VI.jsxs)("section",{className:rF.navigation,children:[(0,VI.jsx)("img",{src:iF,alt:"#",className:rF.likeIcon,onClick:function(){var t;null!==(t=e.post.likes_count)&&void 0!==t&&t.includes(e.currentUserID)?(r(QM(e.post.id,e.currentUserID)),r(LM(e.currentUserID))):(r(QM(e.post.id,e.currentUserID)),r(FM(e.currentUserID)))}}),(0,VI.jsx)("img",{src:aF,alt:"#",className:rF.comentIcon,onClick:s}),(0,VI.jsx)("span",{className:rF.likesCount,onClick:s,children:e.post.likes_count?Object.values(e.post.likes_count).length+"\t likes":"0 \t likes"}),e.currentUserID===e.post.creatorID?(0,VI.jsx)("img",{src:GM,alt:"#",className:rF.deletePost,onClick:function(){r(qM(e.currentUserID,e.post.id)),n("/profile/id=".concat(e.currentUserID))}}):null]}),(0,VI.jsxs)("div",{className:rF.postInfo,children:[(0,VI.jsx)("h4",{children:e.post.creator+"\t:\t"}),(0,VI.jsx)("span",{children:null===(o=e.post)||void 0===o?void 0:o.post_text})]}),(0,VI.jsx)("h2",{onClick:s,className:rF.showAll,children:"Show all Coments"})]}):(0,VI.jsx)(VI.Fragment,{children:(0,VI.jsx)(cF,{})})})),fF=t.memo((function(e){var n=B(),r=We(),i=fe((function(e){return e.account.userID})),a=j().pathname.split("=")[1];(0,t.useEffect)((function(){r(VM(a))}),[]);var o,s=fe((function(e){return e.userPage})),u=fe((function(e){return e.userPosts.currentPost})),c=function(){n("coments")};return u?(0,VI.jsxs)("section",{className:rF.postWrapper,children:[(0,VI.jsxs)($,{to:"/profile/id:=".concat(u.creatorID),className:rF.creatorInfo,children:[(0,VI.jsx)(tF,{avatarIMG:s.avatar,fullName:s.fullName,size:"small"}),(0,VI.jsx)("h1",{className:rF.autorName,children:null===u||void 0===u?void 0:u.creator})]}),(0,VI.jsx)("div",{className:rF.postIMGContainer,children:(0,VI.jsx)("img",{className:rF.postIMG,src:u.post_img,alt:""})}),(0,VI.jsxs)("section",{className:rF.navigation,children:[(0,VI.jsx)("img",{src:u.likes_count.includes(i)?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADs0lEQVR4nO1aSWsUQRgd9xU3xLgGN7yIF7cIKggqiBfxECTgctEgQpBs01/NHAZBUBAPgqAiChE8CN4E/4AoruCCaFRcEEQl8aBgiNGUr6onyWQZu6q7qqsH+8HHZEJPf++9qq6uqq8ymRQpUqRIkSKFLnihMJYztpnncvs5kYe/TyKIe95BfK/h9fXjDOYajzwbcP9DMoefK4s8+/C5kdfWjjGVK5iMEMfYFXx24pP/I37K63K5tZFyEV1FdAXk6sA1bYh1JrUOJbMUia4jegPIDA1x/QW04jTlXIXCDPzmsmYePxfRNZ7PLzErnrHtiG8hCA0E0QuezS4MzOV51bi+PWKuTsQ2M+KJDiB6IhEaIPYWj8S8srlgEK77YChXjxgjoon3vE24SbcRQgNxhzc0TBiWq1CYiFz3DOf6BQ1bwolHS3ExuJgl1BenhuVj7IyVXERfeXPzHH0DiM5bEi/iN+6/psTs9fJ/tvIRndUVv8LYc1+e1AOeyYxC1x+N74+t5hKPAtFydQMYO26ZUJ8Je4qTmThyHdPpAc9iIcXYa/lmiMeAJ2ri/cEvDvHxR0vLXJXWr3FO1F4vCJ4q47252zlRW+F5u1R6QJ1zovZ6QJ2KATudE7VnwI5gA/x1t3uydgyoCTYAy1auv+SthOhVXpLDqTcJIGw62pXESwMYu5gAwqbjnLoBGCwSQNhs6GyQyE1Iok/OSZuLj2ITV9mAYi9gCSBuqvVbtMQXDZjJo+4DJiM6MAOcrm2ANIGxhgQIiNr6h0OJlwb4xQ/bmxU242HkognPZldyv8jhWoxuy3eh66+KJL7fBMaOOhekb8ARI+JLTAhTqXElvs2oeGlAY+Mk3Py+c3HB4m+PVHcwY0JT02xZ4nItsrz4V6FqAFomeN5iLmZWrsUOjw88n19kVfwgE+LazVVr+fcQvywW8SUmVCdk2fzOeDlc2QR0OfncuWv5lzyXW+BEfL8Jra3znQyMfvGmyqn4PmDKPEu+fuIz4K54I7nWPQh4/UyBCTdjEH8Dhk92rXdEyMUT0SWL3b7N5OkzK5Alb8ZOWxB/QtzbtT5lcLGAIvpjQHwvRvpW13pCAeT3cnE4IXyrdyuVs5IMCNmK+B5C/A+lUlYlQJwWhagvGuI/4zerXfM2CnnuSOUMoFhjxD2vjwvF9UP5qbOY2iqcJq1oQGgV4ukI4p+LabVrfrFA1hxKT4USPUrc1NY2RLGiuH64FbpwUenA1HmqWEO45pEiRYoUKVL8p/gLdTdRXs3/eBoAAAAASUVORK5CYII=":iF,alt:"#",className:rF.likeIcon,onClick:function(){var e;null!==(e=u.likes_count)&&void 0!==e&&e.includes(i)?(r(QM(u.id,i)),r(LM(i))):(r(QM(u.id,i)),r(FM(i)))}}),(0,VI.jsx)("img",{src:aF,alt:"#",className:rF.comentIcon,onClick:c}),(0,VI.jsx)("span",{className:rF.likesCount,onClick:c,children:(null===(o=u.likes_count)||void 0===o?void 0:o.length)+"\t likes"}),i===u.creatorID?(0,VI.jsx)("img",{src:GM,alt:"#",className:rF.deletePost,onClick:function(){r(qM(i,u.id)),n("/profile/id=".concat(i))}}):null]}),(0,VI.jsxs)("div",{className:rF.postInfo,children:[(0,VI.jsx)("h4",{children:u.creator+"\t:\t"}),(0,VI.jsx)("span",{children:null===u||void 0===u?void 0:u.post_text})]}),u.coments.length>0?(0,VI.jsx)(nF,{coment:null===u||void 0===u?void 0:u.coments[u.coments.length-1],currentUserID:i}):"There is no coments",(0,VI.jsx)("h2",{onClick:c,className:rF.showAll,children:"Show all Coments"})]}):(0,VI.jsx)(VI.Fragment,{children:(0,VI.jsx)(cF,{})})})),hF="Posts_postsWrapper__PxwVB",dF="Posts_postPreview__sM9vo",pF=t.memo((function(e){var n=B(),r=We(),i=j().pathname.split("=")[1],a=fe((function(e){return e.userPosts.posts}));(0,t.useEffect)((function(){var e;r((e=i,function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JS.getUserPostsByUserID(e);case 2:return t.next=4,t.sent;case 4:r=t.sent,n(DM(r||[]));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[i,a.length]);return(0,VI.jsx)("section",{className:hF,children:a.length>0?a.map((function(e){return(0,VI.jsx)("div",{children:(0,VI.jsx)("img",{src:e.post_img,className:dF,alt:"",onClick:function(){var t;n("/p/id="+(t=e).id),r(OM(t))}})},e.id)})):null})})),vF={userPageContainer:"UserPage_userPageContainer__Ej-On",userPageWrapper:"UserPage_userPageWrapper__hgx1g",hr:"UserPage_hr__5XMVq",info:"UserPage_info__27+ph",status:"UserPage_status__XUpLE",fullName:"UserPage_fullName__8jrNf",input:"UserPage_input__fZHi+",defaultAvatarLarge:"UserPage_defaultAvatarLarge__36evV",publications:"UserPage_publications__jz1su",Follower:"UserPage_Follower__JAwpa",Followed:"UserPage_Followed__2ADPJ",contrtolButtons:"UserPage_contrtolButtons__TaKXD"},yF=function(e){var n=We(),r=fe((function(e){return e.userPage.status})),i=fe((function(e){return e.account.userID})),a=u((0,t.useState)(!1),2),o=a[0],s=a[1];return(0,VI.jsx)(VI.Fragment,{children:o?(0,VI.jsx)("div",{className:vF.status,children:(0,VI.jsx)("input",{type:"text",title:"Edit",value:r,onChange:function(e){n(oI(e.currentTarget.value))},onBlur:function(){var e,t;s(!1),n((e=i,t=r,function(){var n=Ye(Je().mark((function n(r){return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(CI.set_is_fetch_true()),n.next=3,FS.updateUserStatus(e,t);case 3:n.sent,r(HS(t)),r(CI.set_is_fetch_fasle());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))},autoFocus:!0})}):(0,VI.jsx)("span",{className:vF.status,onClick:function(){s(!0)},children:e.status?e.status:"Set status"})})},mF="NewMessageModalWindow_blur__eKd+T",gF="NewMessageModalWindow_modalWindowContainer__THAH0",AF="NewMessageModalWindow_buttons__RL236",kF=t.memo((function(e){var t=We(),n=fe((function(e){return e.chat.newMessage})),r=fe((function(e){return e.account})),i=fe((function(e){return e.userPage}));return(0,VI.jsx)("div",{className:mF,children:(0,VI.jsxs)("section",{className:gF,children:[(0,VI.jsx)(tF,{avatarIMG:i.avatar,userID:i.userID,fullName:i.fullName,size:"small"}),(0,VI.jsx)("span",{children:i.fullName}),(0,VI.jsx)("hr",{}),(0,VI.jsx)("br",{}),(0,VI.jsx)(oO,{enableReinitialize:!0,initialValues:{messageText:null},onSubmit:function(){var e={sender:{senderID:r.userID,senderFullName:r.fullName,avatar:r.avatar},recepient:{recepientID:i.userID,recepientFullName:i.fullName,avatar:i.avatar}};t(function(e,t){return function(){var n=Ye(Je().mark((function n(r){return Je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(CI.set_is_fetch_true()),n.next=3,SI.sendMessageToUser(e.sender.senderID,e.sender.senderFullName,t,e.recepient.recepientID,e.recepient.recepientFullName,e.sender.avatar,e.recepient.avatar);case 3:r(CI.set_is_fetch_fasle());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,n)),t(CI.setOnNewMessage(!1))},children:(0,VI.jsxs)(hO,{children:[(0,VI.jsx)("textarea",{title:"Type your message",rows:11,name:"messageText",autoFocus:!0,onChange:function(e){t(BI(e.currentTarget.value))}}),(0,VI.jsx)("br",{}),(0,VI.jsxs)("div",{className:AF,children:[(0,VI.jsx)("button",{onClick:function(){t(CI.setOnNewMessage(!1))},children:"Close"}),(0,VI.jsx)("button",{type:"submit",disabled:n.length<1,children:"Send"})]})]})})]})})})),wF=t.memo((function(){B();var e,n,r,i=j().pathname.split("=")[1],a=fe((function(e){return e.userPosts.posts.length})),o=We(),s=(fe((function(e){return e.chat.chats})),fe((function(e){return e.chat.activeChat})));(0,t.useEffect)((function(){var e;o((e=i,function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,FS.getUserPageByID(e);case 3:if(!(r=t.sent)){t.next=8;break}n(nI(r)),t.next=9;break;case 8:throw new Error("USer does not exist");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))}),[i,s]);var u=fe((function(e){return e.account})),c={fullName:u.fullName,avatar:u.avatar,userID:u.userID};JS.getUserPostsByUserID(u.userID);var l=fe((function(e){return e.userPage})),f={fullName:l.fullName,avatar:l.avatar,userID:l.userID},h=fe((function(e){return e.app.onNewMessage}));return(0,VI.jsxs)("div",{className:vF.userPageContainr,children:[(0,VI.jsxs)("section",{className:vF.userPageWrapper,children:[(0,VI.jsx)(tF,{avatarIMG:i===u.userID?u.avatar:l.avatar,userID:l.userID,fullName:l.fullName,size:"large"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("h1",{className:vF.fullName,children:l.fullName}),(0,VI.jsxs)("div",{className:vF.info,children:[i===u.userID?(0,VI.jsx)(yF,{status:l.status,userID:i,setNewStatus:function(e,t){o(rI(t))}}):(0,VI.jsx)("p",{className:vF.status,children:l.status}),(0,VI.jsxs)("div",{className:vF.publications,children:[(0,VI.jsx)("span",{children:a}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{children:"Posts"})]}),(0,VI.jsx)($,{to:"./followers",children:(0,VI.jsxs)("div",{className:vF.Follower,children:[(0,VI.jsx)("span",{children:null===(e=l.followers)||void 0===e?void 0:e.length}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{children:"Follower"})]})}),(0,VI.jsx)($,{to:"./Followed",children:(0,VI.jsxs)("div",{className:vF.Followed,children:[(0,VI.jsx)("span",{children:null===(n=l.followed)||void 0===n?void 0:n.length}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{children:"Followed"})]})})]}),h?(0,VI.jsx)(kF,{}):null,i!==u.userID?(0,VI.jsxs)("section",{className:vF.contrtolButtons,children:[i!==u.userID?(0,VI.jsx)("button",{onClick:function(){var e;null!==(e=l.followers)&&void 0!==e&&e.find((function(e){return e===u.userID}))?(o(sI(c,f)),o(aI(u.userID))):(o(sI(c,f)),o(iI(f.userID)))},children:null!==(r=l.followers)&&void 0!==r&&r.find((function(e){if(e===u.userID)return!0}))?"Unfollow":"Follow"}):null,i!==u.userID?(0,VI.jsx)("button",{onClick:function(e){o(CI.setOnNewMessage(!0))},children:"Send message"}):null]}):null]}),(0,VI.jsx)(pF,{})]})})),bF="messenger/usersSearchReducer/getAllUsers",_F="messenger/usersSearchReducer/getUserPage",xF="messenger/userSearchReducer/setSearchName",CF="messenger/userSearchReducer/setOnSearch",EF="instaClone/userSearchReducer/getFollowers",SF="instaClone/userSearchReducer/getFollowed",IF={userToSearch:"",users:null,followers:null,followed:null,onSearch:!1},TF=function(e){return{type:"messenger/usersSearchReducer/getAllUsers",payload:e}},NF=function(e){return{type:"messenger/userSearchReducer/setOnSearch",payload:e}},PF=function(e){return{type:"instaClone/userSearchReducer/getFollowers",payload:e}},DF=function(e){return{type:"instaClone/userSearchReducer/getFollowed",payload:e}},OF=function(){return function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(NF(!0)),e.next=3,FS.getAllUsers();case 3:(n=e.sent)?(t(TF(n)),t(NF(!1))):t(NF(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},RF="Search_searchWrapper__I1YZ0",MF="Search_searchResults__FC3O+",FF="Search_userMiniPage__XPkkZ",LF="Search_userName__JDw9K",jF=function(){return(0,VI.jsx)("div",{className:uF})},BF=t.memo((function(e){var n=B(),r=We(),i=u((0,t.useState)(!1),2),a=i[0],o=i[1],s=fe((function(e){return e.search.users}));(0,t.useEffect)((function(){r(OF())}),[]);return(0,VI.jsxs)("section",{className:RF,children:[(0,VI.jsx)("input",{type:"text",placeholder:"find users",onChange:function(e){var t;e.currentTarget.value.length>0?(o(!0),r((t=e.currentTarget.value,function(){var e=Ye(Je().mark((function e(n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(CI.set_is_fetch_true()),n(NF(!0)),e.next=4,FS.getUsersByName(t);case 4:null!==(r=e.sent)&&(n(TF(r)),n(CI.set_is_fetch_fasle()),n(NF(!1)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))):r(OF())},onBlur:function(){o(!1)}}),(0,VI.jsx)("section",{className:MF,children:a?(0,VI.jsx)(jF,{}):null===s||void 0===s?void 0:s.map((function(e){return(0,VI.jsxs)("div",{className:FF,onClick:function(){var t;t=e.userID,r(nI(null)),n("/profile/id="+t)},children:[(0,VI.jsx)(tF,{avatarIMG:e.avatar,userID:e.userID,fullName:e.fullName,size:"small"}),(0,VI.jsx)("span",{className:LF,children:e.fullName})]},e.userID)}))})]})})),UF="Router_router__RtXmV",VF=t.memo((function(e){var n=u((0,t.useState)(!1),2),r=(n[0],n[1],fe((function(e){return e.account}))),i=j().pathname.split("=")[1].split("/")[0],a=We();return(0,VI.jsx)("section",{className:KM.ComentInput,children:(0,VI.jsx)(oO,{enableReinitialize:!0,initialValues:{coment:""},onSubmit:function(e){var t,n;a((r.userID,t=i,n={comentatorName:r.fullName,avatar:r.avatar,comentatorID:r.userID,coment_text:e.coment},function(){var e=Ye(Je().mark((function e(r){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(CI.set_is_fetch_true()),e.next=4,JS.addComentToPost(t,n);case 4:e.sent&&(r(RM(t,n)),r(CI.set_is_fetch_fasle())),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e.coment=""},children:(0,VI.jsxs)(hO,{children:[(0,VI.jsx)(fO,{name:"coment",type:"text",autocomplete:"off"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("button",{type:"submit",children:"Publish"})]})})})})),qF=t.memo((function(e){var t=B(),n=j(),r=fe((function(e){return e.account.userID})),i=fe((function(e){return e.userPosts.currentPost.coments}));return(0,VI.jsxs)("section",{className:KM.comentWrapper,children:[(0,VI.jsx)("img",{className:KM.backArrow,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAHYAAAB2AH6XKZyAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAOhJREFUeJzt2r0uBFEcQPEfXoJCzaPQqIgCrdJDsxWtxkdCsZnGUsnusPec5BbTzPzPubnJFJeIiIiIQdlb03uPcYJHPK/pG3+WS7zgA084mHeczXKJN0v5aV3POtEG+U7+1fI4bD0XVuXfDbL7yUs++eQlv/2cSz755CWf/Nbzk/zNnENtiuQlP578mVX5EdYCpzu4x+GvM/5PHnbnnmBudnFned5HY4Hb6WHoH5+JIigCioAioAgoAoqAIqAIKAKKgCKgCCgCioAiYPBrchNDX5Sc+HpVdn/ecebhCFcGlY+IiIj4F3wC4R8ggBO7d1wAAAAASUVORK5CYII=",onClick:function(){var e=n.pathname.split("/coments")[0];t(e)},alt:"#"}),(0,VI.jsx)("div",{className:KM.commentsHeader,children:(0,VI.jsx)("span",{children:"Comments"})}),(0,VI.jsx)("div",{className:KM.comentsList,children:i.length>0?i.map((function(e){return(0,VI.jsx)("div",{className:KM.comentsArea,children:(0,VI.jsx)(nF,{coment:e,currentUserID:r})},e.comentID)})):(0,VI.jsxs)("div",{className:KM.noComentsContainer,children:[(0,VI.jsx)("img",{className:KM.comentIcon,src:aF,alt:"#"}),(0,VI.jsx)("br",{}),(0,VI.jsx)("span",{className:KM.noComents,children:"There is no coments"})]})}),(0,VI.jsx)(VF,{})]})})),QF="News_news__hLWIg",zF="News_singlePostWrapper__bMSGW",HF=t.memo((function(e){var n=We();(0,t.useEffect)((function(){n(function(){var e=Ye(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(CI.set_is_fetch_true()),e.next=3,kM.getAllPost();case 3:(n=e.sent)&&(t(DM(n)),t(CI.set_is_fetch_fasle()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var r=fe((function(e){return e.userPosts.posts})),i=fe((function(e){return e.account.userID}));return(0,VI.jsx)("div",{className:QF,children:r.length?r.map((function(e){return(0,VI.jsx)("div",{className:zF,children:(0,VI.jsx)(lF,{post:e,currentUserID:i})})})):null})})),WF="Followers_usersListContainer__fj967",KF=t.memo((function(e){var n=j().pathname.split("/")[3],r=j().pathname.split("=")[1].split("/")[0],i=We(),a=fe((function(e){return"followers"===n?e.search.followers:e.search.followed}));return(0,t.useEffect)((function(){var e;"followers"===n?(i(DF(null)),i((e=r,function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,FS.getFollowers(e);case 2:(r=t.sent)&&n(PF(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))):(i(DF(null)),i(function(e){return function(){var t=Ye(Je().mark((function t(n){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,FS.getFollowedUsers(e);case 2:(r=t.sent)&&n(DF(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)))}),[]),(0,VI.jsx)("div",{children:(0,VI.jsxs)("div",{className:WF,children:[(0,VI.jsx)("h1",{children:"followers"===n?"Followers":"Followed"}),(0,VI.jsx)("ul",{children:a?a.map((function(e){return console.log(e.fullName),(0,VI.jsx)("li",{children:(0,VI.jsxs)($,{to:"/profile/id=".concat(e.userID),children:[(0,VI.jsx)(tF,{size:"small",avatarIMG:e.avatar,fullName:e.fullName}),(0,VI.jsx)("span",{children:e.fullName})]})})})):null})]})})})),GF="/login",JF="/profile/:id",XF=function(e){var t=j(),n=B();return t.pathname.split("/").includes("registration")&&e.currentUserID&&n("profile/id="+e.currentUserID),e.isAuth?(0,VI.jsx)("div",{className:UF,children:(0,VI.jsxs)(H,{children:[(0,VI.jsx)(Q,{path:GF,element:(0,VI.jsx)(q,{to:"/profile/:id="+e.actualUser})}),(0,VI.jsx)(Q,{path:"/",element:null}),(0,VI.jsx)(Q,{path:JF,element:(0,VI.jsx)(wF,{})}),(0,VI.jsx)(Q,{path:"/p/:id",element:(0,VI.jsx)(fF,{})}),(0,VI.jsx)(Q,{path:"/search",element:(0,VI.jsx)(BF,{})}),(0,VI.jsx)(Q,{path:"/chat",element:(0,VI.jsx)(bO,{})}),(0,VI.jsx)(Q,{path:"chat/:id",element:(0,VI.jsx)(bO,{})}),(0,VI.jsx)(Q,{path:"/newPost",element:(0,VI.jsx)(WM,{})}),(0,VI.jsx)(Q,{path:"/p/:id/coments",element:(0,VI.jsx)(qF,{})}),(0,VI.jsx)(Q,{path:"/news",element:(0,VI.jsx)(HF,{})}),(0,VI.jsx)(Q,{path:"/profile/:id/Followers",element:(0,VI.jsx)(KF,{})}),(0,VI.jsx)(Q,{path:"/profile/:id/Followed",element:(0,VI.jsx)(KF,{})})]})}):(0,VI.jsx)("div",{className:UF,children:(0,VI.jsxs)(H,{children:[(0,VI.jsx)(Q,{path:GF,element:(0,VI.jsx)(SO,{})}),(0,VI.jsx)(Q,{path:"*",element:(0,VI.jsx)(q,{to:GF,replace:!0})}),(0,VI.jsx)(Q,{path:"/registration",element:(0,VI.jsx)(gM,{})})]})})},YF="Navbar_navbarContainer__ihSIz",ZF="Navbar_navigation_list__Cf+2Z",$F=n.p+"static/media/Chat.f128ce4551469efb9f16.png",eL=n.p+"static/media/search.bbf2dec15d518049563b.png",tL=t.memo((function(e){var t=We();return(0,VI.jsx)("footer",{className:YF,children:(0,VI.jsxs)("ul",{className:ZF,children:[(0,VI.jsx)("li",{children:(0,VI.jsx)($,{to:"/search",children:(0,VI.jsx)("img",{src:eL,alt:"#"})})}),(0,VI.jsx)("li",{children:(0,VI.jsx)($,{to:"/chat",children:(0,VI.jsx)("img",{src:$F,alt:"#",onClick:function(){}})})}),(0,VI.jsx)("li",{children:(0,VI.jsx)($,{to:"/profile/id=".concat(e.currentUserUrl),children:(0,VI.jsx)("img",{src:"data:image/png;base64,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",alt:"#"})})}),(0,VI.jsx)("li",{children:(0,VI.jsx)($,{to:"/news",children:(0,VI.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}),(0,VI.jsx)("li",{children:(0,VI.jsx)($,{to:"newPost",children:(0,VI.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABfhSURBVHic7d1b8G53WR/w7w4kHAIxhJgGkRCwO2gRclC8KIeReKKm07Ed60x1tJ5mvLF2bB0Zb1AcazsUO3Y6Q6czpLTF2k7thT3oKJRU64y0Ys2BIIGoYAMYcoCEJI4Jkt2LxV92Qvbe//e0nt9az+czs2aYcPE+az2/tZ7vXmv93zcBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAcztRXQAwi4uS3JDk+iRXJ7kyycWf//8eSPLRJLckuSnJryR5aPYKAYC9uSrJjUkeSXLqmNsjSd6e5GRBvQDADp6V5K1JPpvjD/4nb48leUuSZ85cOwCwhZNJ3p/tB/+Tt/cmecGsewAAbOTaJPdkf8P/aLsryStn3A8A4JhO5jDD//QQcPlsewMAnNMzM73Ff6jhf7T9bqb3CwCAAbw1hx/+R9ubZ9onAOAsrspub/tvuj0UjwIAoNyNmW/4H21vm2XPAICndFE2+5KffW0PJ3nuDPsHHMh51QUAO7khybMLPvfCJN9a8LnAnggAsGzXN/1sYEcCACzb1YWf7YuBYMEEAFi2lxR+9ksLPxvYkZ8DhmV7NMkFhZ/th4JgoQQAWLZTxZ/vGgIL5REAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADQkAABAQwIAADT09OoCZnBZktcm+eokX5nkqiTPS3JxkuckOb+utL34bJIHknw0yS1JbkryK0keKqwJWJeLktyQ5PokVye5MtM1dA3Xz4czXUM/neRDSe5I8oEk/yvJvXWlsa2vSfJzSW5L8niSU822R5K8PcnJXQ8kw6tea6zbVUluzHRNqV5rc2+PZ5ohb01y3a4HksN6bpJ/kOT21C+cUbbHkrwlyTN3OK6MrXqNsU7PyjT4Ppv6NTbK9v4kP5rpzjGDeF6Sn0xyf+oXyKjbe5O8YNsDzNCq1xbrczLTsKteW6Nu9yV5U6ZHIBQ5keR7k9yT+gWxhO2uJK/c5kAztOp1xbpcG9fU426fTPI9mWYRM3ppkt9K/QJY2nZXksu3ON6Mq3pNsR4nY/hvs/1mkpdscbzZwrcl+VTqm77U7XczPd9jHarXE+vwzEx/RVS9npa6PZjkOzY+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",alt:"#"})})}),(0,VI.jsx)("li",{children:e.isAuth?(0,VI.jsx)("img",{src:"data:image/png;base64,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",alt:"",onClick:function(){t(function(){var e=Ye(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GS.logOut(),t(QS(null)),t(CI.setCurrentUserID(null)),t(nI(null)),t(zS(null)),t(rI(null)),t(vI());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}):null})]})})})),nL=(n(5413),t.memo((function(e){We();(0,t.useEffect)((function(){e.init()}),[]),console.log("RENDER");fe((function(e){return e.app.onNewMessage}));return e.isInit||!e.isFetch?(0,VI.jsxs)("div",{className:i,children:[e.isNewMessage?(0,VI.jsx)("div",{className:a}):null,(0,VI.jsxs)(Y,{children:[(0,VI.jsx)(tL,{isAuth:e.isAuth,currentUserUrl:e.currentUserID}),(0,VI.jsx)(XF,{currentUserID:e.currentUserID,actualUser:e.currentUserID,isAuth:e.isAuth})]})]}):(0,VI.jsx)("div",{children:(0,VI.jsxs)(Y,{children:[(0,VI.jsx)(cF,{}),(0,VI.jsx)(tL,{isAuth:e.isAuth,currentUserUrl:e.currentUserID})]})})}))),rL=Ue((function(e){return{isInit:e.app.is_initialize,isFetch:e.app.is_fetch,currentUserID:e.app.currentUserID,userPage:e.userPage,isNewPost:e.userPosts.isOnNewPost,isAuth:e.auth.is_auth,isNewMessage:e.app.onNewMessage}}),(function(e){return{init:function(){e(function(){var e=ys();return function(){var t=Ye(Je().mark((function t(n){return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(CI.set_is_fetch_true()),Ta(e,(function(e){var t;null!==e?(n(CI.setCurrentUserID(null===e||void 0===e?void 0:e.uid)),n((t=e.uid,function(){var e=Ye(Je().mark((function e(n){var r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(CI.init(!1)),e.next=4,FS.getUserPageByID(t);case 4:if(!(r=e.sent)){e.next=10;break}n(QS(r)),n(CI.init(!0)),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),n(UI(e.uid)),n(pI()),n(CI.set_is_fetch_fasle()),n(CI.init(!0))):(console.log("NOT_AUTHORIZED"),n(vI()),n(CI.set_is_fetch_fasle()),n(CI.init(!0)))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}())},setIsOnNewPost:function(t){e(jM(t))}}}))(nL),iL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function aL(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var oL="function"===typeof Symbol&&Symbol.observable||"@@observable",sL=function(){return Math.random().toString(36).substring(7).split("").join(".")},uL={INIT:"@@redux/INIT"+sL(),REPLACE:"@@redux/REPLACE"+sL(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sL()}};function cL(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var lL=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(aL(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(aL(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(aL(2));var a=t,o=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error(aL(3));return o}function h(e){if("function"!==typeof e)throw new Error(aL(4));if(c)throw new Error(aL(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(aL(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function d(e){if(!cL(e))throw new Error(aL(7));if("undefined"===typeof e.type)throw new Error(aL(8));if(c)throw new Error(aL(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(aL(10));a=e,d({type:uL.REPLACE})}function v(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(aL(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[oL]=function(){return this},e}return d({type:uL.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:p})[oL]=v,i};function fL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function hL(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var dL=hL();dL.withExtraArgument=hL;var pL=dL,vL=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:uL.INIT}))throw new Error(aL(12));if("undefined"===typeof n(void 0,{type:uL.PROBE_UNKNOWN_ACTION()}))throw new Error(aL(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(aL(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gI:return et(et({},e),{},{is_initialize:t.payload});case AI:return et(et({},e),{},{is_fetch:!0});case kI:return et(et({},e),{},{is_fetch:!1});case wI:return et(et({},e),{},{currentUserID:t.payload});case bI:return et(et({},e),{},{onLoad:t.payload});case _I:return et(et({},e),{},{onNewMessage:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fI:return et(et({},e),{},{user_id:t.payload});case hI:return et(et({},e),{},{onError:t.payload});case uI:return et(et({},e),{},{is_auth:!0});case cI:return et(et({},e),{},{is_auth:!1});case lI:return et(et({},e),{},{auth_token:t.payload});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case LS:return et(et({},e),t.payload);case jS:return et(et({},e),{},{avatar:t.payload});case BS:return et(et({},e),{},{status:t.payload});case US:return et(et({},e),{},{newStatus:t.payload});case VS:return et(et({},e),{},{newAvatar:t.payload});default:return e}},userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case XS:return et(et({},e),t.payload);case YS:return et(et({},e),{},{status:t.payload});case ZS:var n;return et(et({},e),{},{followers:null===(n=e.followers)||void 0===n?void 0:n.concat(t.payload)});case $S:var r;return et(et({},e),{},{followers:null===(r=e.followers)||void 0===r?void 0:r.filter((function(e){return e!==t.payload}))});case eI:return et(et({},e),{},{status:t.payload});default:return e}},userPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wM:return et(et({},e),{},{posts:t.payload});case NM:return et(et({},e),{},{posts:et({},e.posts.concat(t.payload))});case bM:return et(et({},e),{},{currentPost:t.payload});case _M:return et(et({},e),{},{currentPost:et(et({},e.currentPost),{},{likes_count:e.currentPost.likes_count.concat(t.payload)})});case xM:return et(et({},e),{},{currentPost:et(et({},e.currentPost),{},{likes_count:e.currentPost.likes_count.filter((function(e){return e!==t.payload}))})});case SM:return et(et({},e),{},{isOnNewPost:t.payload});case IM:return et(et({},e),{},{newPostPhoto:t.payload});case TM:return et(et({},e),{},{newPostText:e.newPostText.concat(t.payload)});case CM:return et(et({},e),{},{currentPost:et(et({},e.currentPost),{},{coments:e.currentPost.coments.concat(t.payload.coment)})});case EM:return et(et({},e),{},{currentPost:et(et({},e.currentPost),{},{coments:e.currentPost.coments.filter((function(e){return e.comentID!==t.payload}))})});default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case NI:return et(et({},e),{},{chats:he(t.payload)});case PI:return et(et({},e),{},{activeChat:t.payload});case TI:return et(et({},e),{},{messages:t.payload});case II:return et(et({},e),{},{messages:e.messages.concat(t.payload)});case DI:return et(et({},e),{},{newMessage:t.payload});case OI:return et(et({},e),{},{interlocutorAvatar:t.payload});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bF:return et(et({},e),{},{users:t.payload});case xF:return et(et({},e),{},{userToSearch:t.payload});case _F:return et(et({},e),{},{users:t.payload});case CF:return et(et({},e),{},{onSearch:t.payload});case EF:return et(et({},e),{},{followers:t.payload});case SF:return et(et({},e),{},{followed:t.payload});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TO:return et(et({},e),{},{userName:e.userName.concat(t.payload)});case NO:return et(et({},e),{},{passwordField1:t.payload});case PO:return et(et({},e),{},{passwordField2:t.payload});case IO:return et(et({},e),{},{email:t.payload});case DO:return et(et({},e),{},{avatar:t.payload});case RO:return et(et({},e),{},{newUserID:t.payload});case OO:return et(et({},e),{},{status:t.payload});default:return e}}}),yL=lL(vL,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(aL(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=fL.apply(void 0,a)(n.dispatch),et(et({},n),{},{dispatch:r})}}}(pL));window.store=yL;var mL=r.createRoot(document.getElementById("root"));try{mL.render((0,VI.jsx)(t.StrictMode,{children:(0,VI.jsx)(Ve,{store:yL,children:(0,VI.jsx)(rL,{})})}))}catch(AL){console.log(AL)}iL()}()}();
//# sourceMappingURL=main.3523d69b.js.map